!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"g",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return s}));var r=n(0),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function o(t){return a(void 0,t)}function a(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=a(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var u=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var c=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,h.prototype.create),o}return Object(r.c)(e,t),e}(Error),h=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?f(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").",s=new c(i,u,r);return s},t}();function f(t,e){return t.replace(p,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var p=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,u=this.chain_[0],s=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^s&(l^c),a=1518500249):(o=s^l^c,a=1859775393):r<60?(o=s&l|c&(s|l),a=2400959708):(o=s^l^c,a=3395469782);i=(u<<5|u>>>27)+o+h+a+n[r]&4294967295;h=c,c=l,l=4294967295&(s<<30|s>>>2),s=u,u=i}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function m(t,e){var n=new v(t,e);return n.subscribe.bind(n)}var v=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=y),void 0===r.error&&(r.error=y),void 0===r.complete&&(r.complete=y);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function y(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,n(3))},function(t,e,n){"use strict";t.exports=n(8)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,s=a(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(s[c]=n[c]);if(r){u=r(n);for(var h=0;h<u.length;h++)o.call(n,u[h])&&(s[u[h]]=n[u[h]])}}return s}},function(t,e,n){"use strict";n.r(e),n.d(e,"firebase",(function(){return _}));var r=n(0),i=n(1),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[0],s=a[1],l=this.normalizeInstanceIdentifier(u);try{var c=this.getOrInitializeService(l);s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var u,s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function l(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c,h=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(c||(c={}));var f,p={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},d=c.INFO,m=((u={})[c.DEBUG]="log",u[c.VERBOSE]="log",u[c.INFO]="info",u[c.WARN]="warn",u[c.ERROR]="error",u),v=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=m[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,l(["["+i+"]  "+t.name+":"],n))}},y=function(){function t(t){this.name=t,this._logLevel=d,this._logHandler=v,this._userLogHandler=null,h.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in c))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?p[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,l([this,c.DEBUG],t)),this._logHandler.apply(this,l([this,c.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,l([this,c.VERBOSE],t)),this._logHandler.apply(this,l([this,c.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,l([this,c.INFO],t)),this._logHandler.apply(this,l([this,c.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,l([this,c.WARN],t)),this._logHandler.apply(this,l([this,c.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,l([this,c.ERROR],t)),this._logHandler.apply(this,l([this,c.ERROR],t))},t}();function g(t){h.forEach((function(e){e.setLogLevel(t)}))}var b,w=((f={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",f["bad-app-name"]="Illegal App name: '{$appName}",f["duplicate-app"]="Firebase App named '{$appName}' already exists",f["app-deleted"]="Firebase App named '{$appName}' already deleted",f["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",f["invalid-log-argument"]="First argument to `onLog` must be null or a function.",f),E=new i.b("app","Firebase",w),T=((b={})["@firebase/app"]="fire-core",b["@firebase/analytics"]="fire-analytics",b["@firebase/auth"]="fire-auth",b["@firebase/database"]="fire-rtdb",b["@firebase/functions"]="fire-fn",b["@firebase/installations"]="fire-iid",b["@firebase/messaging"]="fire-fcm",b["@firebase/performance"]="fire-perf",b["@firebase/remote-config"]="fire-rc",b["@firebase/storage"]="fire-gcs",b["@firebase/firestore"]="fire-fst",b["fire-js"]="fire-js",b["firebase-wrapper"]="fire-js-all",b),S=new y("@firebase/app"),I=function(){function t(t,e,n){var a,u,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(i.e)(t),this.container=new s(e.name),this._addComponent(new o("app",(function(){return l}),"PUBLIC"));try{for(var c=Object(r.g)(this.firebase_.INTERNAL.components.values()),h=c.next();!h.done;h=c.next()){var f=h.value;this._addComponent(f)}}catch(t){a={error:t}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(a)throw a.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){S.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw E.create("app-deleted",{appName:this.name_})},t}();I.prototype.name&&I.prototype.options||I.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k(t){var e={},n=new Map,a={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!=typeof r||null===r){r={name:r}}var o=r;void 0===o.name&&(o.name="[DEFAULT]");var u=o.name;if("string"!=typeof u||!u)throw E.create("bad-app-name",{appName:String(u)});if(Object(i.c)(e,u))throw E.create("duplicate-app",{appName:u});var s=new t(n,o,a);return e[u]=s,s},app:u,registerVersion:function(t,e,n){var r,i=null!==(r=T[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&l.push("and"),u&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void S.warn(l.join(" "))}s(new o(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:g,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw E.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=p[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:c[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=h;r<i.length;r++){n(i[r])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function u(t){if(t=t||"[DEFAULT]",!Object(i.c)(e,t))throw E.create("no-app",{appName:t});return e[t]}function s(o){var s,l,c=o.name;if(n.has(c))return S.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===o.type?a[c]:null;if(n.set(c,o),"PUBLIC"===o.type){var h=function(t){if(void 0===t&&(t=u()),"function"!=typeof t[c])throw E.create("invalid-app-argument",{appName:c});return t[c]()};void 0!==o.serviceProps&&Object(i.f)(h,o.serviceProps),a[c]=h,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,c);return n.apply(this,o.multipleInstances?t:[])}}try{for(var f=Object(r.g)(Object.keys(e)),p=f.next();!p.done;p=f.next()){var d=p.value;e[d]._addComponent(o)}}catch(t){s={error:t}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?a[c]:null}return a.default=a,Object.defineProperty(a,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),u.App=t,a}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C=function t(){var e=k(I);return e.INTERNAL=Object(r.a)(Object(r.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(i.f)(e,t)},createSubscribe:i.d,ErrorFactory:i.b,deepExtend:i.f}),e}(),N=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(Object(i.g)()&&void 0!==self.firebase){S.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var A=self.firebase.SDK_VERSION;A&&A.indexOf("LITE")>=0&&S.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var D=C.initializeApp;C.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.h)()&&S.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),D.apply(void 0,t)};var _=C;!function(t,e){t.INTERNAL.registerComponent(new o("platform-logger",(function(t){return new N(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",e),t.registerVersion("fire-js","")}(_);e.default=_},function(t,e,n){(function(e,r){void 0!==Math.imul&&0!=Math.imul(4294967295,5)||(Math.imul=function(t,e){var n=65535&t,r=65535&e;return n*r+((t>>>16&65535)*r+n*(e>>>16&65535)<<16>>>0)|0}),t.exports=function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)},n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function r(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=r(t[n],e[n]));return t}var i,o,a,u=(a=Error,t(i=l,o=a),i.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s),l);function s(){this.constructor=i}function l(t,e){var n=a.call(this,e)||this;return n.code=t,n.name="FirebaseError",Object.setPrototypeOf(n,l.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,c.prototype.create),n}var c=(h.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(f,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",l=new u(i,s),c=0,h=Object.keys(r);c<h.length;c++){var p=h[c];"_"!==p.slice(-1)&&(p in l&&console.warn('Overwriting FirebaseError base field "'+p+'" can cause unexpected behavior.'),l[p]=r[p])}return l},h);function h(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var f=/\{\$([^}]+)}/g;function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){var n=new y(t,e);return n.subscribe.bind(n)}var m,v,y=(g.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},g.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},g.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},g.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},g.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},g.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},g.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},g.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},g);function g(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}function b(){}function w(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString();switch(e){case m.DEBUG:case m.VERBOSE:console.log.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case m.INFO:console.info.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case m.WARN:console.warn.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case m.ERROR:console.error.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}}(v=m=m||{})[v.DEBUG=0]="DEBUG",v[v.VERBOSE=1]="VERBOSE",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.SILENT=5]="SILENT";var E,T=m.INFO,S=(Object.defineProperty(I.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in m))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),I.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,m.DEBUG].concat(t))},I.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,m.VERBOSE].concat(t))},I.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,m.INFO].concat(t))},I.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,m.WARN].concat(t))},I.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,m.ERROR].concat(t))},I);function I(t){this.name=t,this._logLevel=T,this._logHandler=w}var k=((E={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",E["bad-app-name"]="Illegal App name: '{$appName}",E["duplicate-app"]="Firebase App named '{$appName}' already exists",E["app-deleted"]="Firebase App named '{$appName}' already deleted",E["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",E),C=new c("app","Firebase",k),N="[DEFAULT]",A=(Object.defineProperty(D.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),D.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(t.services_[i]);o<a.length;o++){var u=a[o];e.push(t.services_[i][u])}return Promise.all(e.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))})).then((function(){t.isDeleted_=!0,t.services_={}}))},D.prototype._getService=function(t,e){if(void 0===e&&(e=N),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==N?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},D.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=N),this.services_[t]&&this.services_[t][e]&&delete this.services_[t][e]},D.prototype.extendApp=function(t){if(r(this,t),t.INTERNAL){if(t.INTERNAL.addAuthTokenListener){for(var e=0,n=this.tokenListeners_;e<n.length;e++){var i=n[e];this.INTERNAL.addAuthTokenListener(i)}this.tokenListeners_=[]}if(t.INTERNAL.analytics){for(var o=0,a=this.analyticsEventRequests_;o<a.length;o++){var u=a[o];this.INTERNAL.analytics.logEvent.apply(void 0,u)}this.analyticsEventRequests_=[]}}},D.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw C.create("app-deleted",{appName:this.name_})},D);function D(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=function(t){return r(void 0,t)}(t);var o=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){i.tokenListeners_.push(t),setTimeout((function(){return t(null)}),0)},removeAuthTokenListener:function(t){i.tokenListeners_=i.tokenListeners_.filter((function(e){return e!==t}))},analytics:{logEvent:function(){o.analyticsEventRequests_.push(arguments)}}}}A.prototype.name&&A.prototype.options||A.prototype.delete||console.log("dc");var _=new S("@firebase/app");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){_.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var x=self.firebase.SDK_VERSION;x&&0<=x.indexOf("LITE")&&_.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var O=function t(){var e=function(t){var e={},n={},i={},o={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var i=r;void 0===i.name&&(i.name=N);var a=i.name;if("string"!=typeof a||!a)throw C.create("bad-app-name",{appName:String(a)});if(p(e,a))throw C.create("duplicate-app",{appName:a});var u=new t(n,i,o);return s(e[a]=u,"create"),u},app:a,apps:null,SDK_VERSION:"7.1.0",INTERNAL:{registerService:function(e,s,l,c,h){if(void 0===h&&(h=!1),n[e])return _.debug("There were multiple attempts to register service "+e+"."),o[e];function f(t){if(void 0===t&&(t=a()),"function"!=typeof t[e])throw C.create("invalid-app-argument",{appName:e});return t[e]()}return n[e]=s,c&&(i[e]=c,u().forEach((function(t){c("create",t)}))),void 0!==l&&r(f,l),o[e]=f,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,h?t:[])},f},removeApp:function(t){s(e[t],"delete"),delete e[t]},factories:n,useAsService:l}};function a(t){if(!p(e,t=t||N))throw C.create("no-app",{appName:t});return e[t]}function u(){return Object.keys(e).map((function(t){return e[t]}))}function s(t,e){for(var r=0,o=Object.keys(n);r<o.length;r++){var a=l(0,o[r]);if(null===a)return;i[a]&&i[a](e,t)}}function l(t,e){return"serverAuth"===e?null:e}return o.default=o,Object.defineProperty(o,"apps",{get:u}),a.App=t,o}(A);return e.INTERNAL=n({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){r(e,t)},createSubscribe:d,ErrorFactory:c,deepExtend:r}),e}(),R=O.initializeApp;return O.initializeApp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}()&&_.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),R.apply(void 0,t)},O}(),function(t){"use strict";try{(function(){var n,i;function o(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case n.DEBUG:case n.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;case n.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;case n.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;case n.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}}t=t&&t.hasOwnProperty("default")?t.default:t,(i=n=n||{})[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var a=n.INFO,u=(Object.defineProperty(s.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in n))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),s.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.DEBUG].concat(t))},s.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.VERBOSE].concat(t))},s.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.INFO].concat(t))},s.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.WARN].concat(t))},s.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.ERROR].concat(t))},s);function s(t){this.name=t,this._logLevel=a,this._logHandler=o}var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function c(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function f(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function p(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var m,v=(c(y,m=Error),y);function y(t,e){var n=m.call(this,e)||this;return n.code=t,n.name="FirebaseError",Object.setPrototypeOf(n,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,g.prototype.create),n}var g=(b.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(E,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").",s=new v(i,u),l=0,c=Object.keys(r);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in s&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),s[h]=r[h])}return s},b);function b(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var w,E=/\{\$([^}]+)}/g,T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},S=S||{},I=T;function k(t){return"string"==typeof t}function C(t){return"number"==typeof t}function N(t,e){t=t.split("."),e=e||I;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function A(){}function D(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function _(t){return"array"==D(t)}function x(t){var e=D(t);return"array"==e||"object"==e&&"number"==typeof t.length}function O(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var R="closure_uid_"+(1e9*Math.random()>>>0),P=0;function M(t,e,n){return t.call.apply(t.bind,arguments)}function L(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function F(t,e,n){return(F=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?M:L).apply(null,arguments)}function j(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var U=Date.now||function(){return+new Date};function V(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,(t.prototype.constructor=t).yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function q(){this.j=this.j,this.i=this.i}q.prototype.j=!1,q.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[R]||(this[R]=++P))},q.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(k(t))return k(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=k(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function W(t){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Q(t){return/^[\s\xa0]*$/.test(t)}var G,H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Y(t,e){return-1!=t.indexOf(e)}function X(t,e){return t<e?-1:e<t?1:0}t:{var $=I.navigator;if($){var J=$.userAgent;if(J){G=J;break t}}G=""}function Z(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tt(t){var e,n={};for(e in t)n[e]=t[e];return n}var et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<et.length;o++)n=et[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rt(t){return rt[" "](t),t}rt[" "]=A;var it,ot,at=Y(G,"Opera"),ut=Y(G,"Trident")||Y(G,"MSIE"),st=Y(G,"Edge"),lt=st||ut,ct=Y(G,"Gecko")&&!(Y(G.toLowerCase(),"webkit")&&!Y(G,"Edge"))&&!(Y(G,"Trident")||Y(G,"MSIE"))&&!Y(G,"Edge"),ht=Y(G.toLowerCase(),"webkit")&&!Y(G,"Edge");function ft(){var t=I.document;return t?t.documentMode:void 0}t:{var pt="",dt=(ot=G,ct?/rv:([^\);]+)(\)|;)/.exec(ot):st?/Edge\/([\d\.]+)/.exec(ot):ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ot):ht?/WebKit\/(\S+)/.exec(ot):at?/(?:Version)[ \/]?(\S+)/.exec(ot):void 0);if(dt&&(pt=dt?dt[1]:""),ut){var mt=ft();if(null!=mt&&mt>parseFloat(pt)){it=String(mt);break t}}it=pt}var vt,yt={};function gt(t){return function(e,n){var r=yt;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=function(){for(var e=0,n=H(String(it)).split("."),r=H(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;e=X(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||X(0==a[2].length,0==u[2].length)||X(a[2],u[2]),a=a[3],u=u[3]}while(0==e)}return 0<=e}()}(t)}var bt=I.document;vt=bt&&ut?ft()||("CSS1Compat"==bt.compatMode?parseInt(it,10):5):void 0;var wt=!ut||9<=Number(vt),Et=ut&&!gt("9"),Tt=function(){if(!I.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{I.addEventListener("test",A,e),I.removeEventListener("test",A,e)}catch(t){}return t}();function St(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function It(t,e){if(St.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ct){t:{try{rt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=k(t.pointerType)?t.pointerType:kt[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}St.prototype.b=function(){this.Ja=!1},V(It,St);var kt={2:"touch",3:"pen",4:"mouse"};It.prototype.b=function(){It.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Et)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var Ct="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function At(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++Nt,this.X=this.Z=!1}function Dt(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function _t(t){this.src=t,this.a={},this.b=0}function xt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=B(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Dt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ot(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}_t.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ot(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new At(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Rt="closure_lm_"+(1e6*Math.random()|0),Pt={};function Mt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(_(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=zt(r),e&&e[Ct]?e.Ba(n,r,O(i)?!!i.capture:!!i,o):Lt(e,n,r,!0,i,o)}(t,e,n,r,i);if(_(e)){for(var o=0;o<e.length;o++)Mt(t,e[o],n,r,i);return null}return n=zt(n),t&&t[Ct]?t.Aa(e,n,O(r)?!!r.capture:!!r,i):Lt(t,e,n,!1,r,i)}function Lt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=O(i)?!!i.capture:!!i;if(a&&!wt)return null;var u=qt(t);if(u||(t[Rt]=u=new _t(t)),(n=u.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Vt,e=wt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),(n.proxy=r).src=t,r.listener=n,t.addEventListener)Tt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ft(t){if(!C(t)&&t&&!t.X){var e=t.src;if(e&&e[Ct])xt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qt(e))?(xt(n,t),0==n.b&&(n.src=null,e[Rt]=null)):Dt(t)}}}function jt(t){return t in Pt?Pt[t]:Pt[t]="on"+t}function Ut(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Ft(t),n.call(r,e)}function Vt(t,e){return!!t.X||Ut(t,wt?new It(e,this):e=new It(e||N("window.event"),this))}function qt(t){return(t=t[Rt])instanceof _t?t:null}var Bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function zt(t){return"function"==D(t)?t:(t[Bt]||(t[Bt]=function(e){return t.handleEvent(e)}),t[Bt])}function Wt(){q.call(this),this.c=new _t(this),(this.J=this).B=null}function Kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var u=a.listener,s=a.da||a.src;a.Z&&xt(t.c,a),i=!1!==u.call(s,r)&&i}}return i&&0!=r.Ja}V(Wt,q),Wt.prototype[Ct]=!0,(w=Wt.prototype).addEventListener=function(t,e,n,r){Mt(this,t,e,n,r)},w.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(_(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=O(i)?!!i.capture:!!i,r=zt(r),e&&e[Ct]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Ot(a=e.a[n],r,i,o))&&(Dt(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):(e=e&&qt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Ot(n,r,i,o)),(r=-1<e?n[e]:null)&&Ft(r))}(this,t,e,n,r)},w.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(k(t))t=new St(t,n);else if(t instanceof St)t.target=t.target||n;else{var i=t;nt(t=new St(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Kt(a,r,!0,t)&&i}if(i=Kt(a=t.a=n,r,!0,t)&&i,i=Kt(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Kt(a=t.a=e[o],r,!1,t)&&i;return i},w.G=function(){if(Wt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Dt(n[r]);delete e.a[t],e.b--}}this.B=null},w.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},w.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Qt=I.JSON.stringify;function Gt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Ht(){this.b=this.a=null}Gt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Yt,Xt=new Gt((function(){return new $t}),(function(t){t.reset()}));function $t(){this.next=this.b=this.a=null}function Jt(t){I.setTimeout((function(){throw t}),0)}function Zt(t,e){Yt||function(){var t=I.Promise.resolve(void 0);Yt=function(){t.then(ne)}}(),te||(Yt(),te=!0),ee.add(t,e)}Ht.prototype.add=function(t,e){var n=Xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},$t.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var te=!($t.prototype.reset=function(){this.next=this.b=this.a=null}),ee=new Ht;function ne(){for(var t;r=n=void 0,r=null,(n=ee).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),t=r;){try{t.a.call(t.b)}catch(t){Jt(t)}var e=Xt;e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}var n,r;te=!1}function re(t,e){Wt.call(this),this.b=t||1,this.a=e||I,this.f=F(this.gb,this),this.g=U()}function ie(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function oe(t,e,n){if("function"==D(t))n&&(t=F(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=F(t.handleEvent,t)}return 2147483647<Number(e)?-1:I.setTimeout(t,e||0)}function ae(t,e,n){q.call(this),this.f=null!=n?F(t,n):t,this.c=e,this.b=F(this.ab,this),this.a=[]}function ue(t){t.U=oe(t.b,t.c),t.f.apply(null,t.a)}function se(t){q.call(this),this.b=t,this.a={}}V(re,Wt),(w=re.prototype).ba=!1,w.L=null,w.gb=function(){if(this.ba){var t=U()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(ie(this),this.start()))}},w.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=U())},w.G=function(){re.N.G.call(this),ie(this),delete this.a},V(ae,q),(w=ae.prototype).ea=!1,w.U=null,w.Ua=function(t){this.a=arguments,this.U?this.ea=!0:ue(this)},w.G=function(){ae.N.G.call(this),this.U&&(I.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},w.ab=function(){this.U=null,this.ea&&(this.ea=!1,ue(this))},V(se,q);var le=[];function ce(t,e,n,r){_(n)||(n&&(le[0]=n.toString()),n=le);for(var i=0;i<n.length;i++){var o=Mt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function he(t){Z(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ft(t)}),t),t.a={}}function fe(){}se.prototype.G=function(){se.N.G.call(this),he(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pe=new Wt;function de(t){St.call(this,"serverreachability",t)}function me(t){pe.dispatchEvent(new de(pe,t))}function ve(t){St.call(this,"statevent",t)}function ye(t){pe.dispatchEvent(new ve(pe,t))}function ge(t){St.call(this,"timingevent",t)}function be(t,e){if("function"!=D(t))throw Error("Fn must not be null and must be a function");return I.setTimeout((function(){t()}),e)}V(de,St),V(ve,St),V(ge,St);var we={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},Ee={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function Te(){}function Se(t){var e;return(e=t.a)||(e=t.a={}),e}function Ie(){}Te.prototype.a=null;var ke,Ce={OPEN:"a",ib:"b",Na:"c",rb:"d"};function Ne(){St.call(this,"d")}function Ae(){St.call(this,"c")}function De(){}function _e(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new se(this),this.O=xe,t=lt?125:void 0,this.P=new re(t),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}V(Ne,St),V(Ae,St),V(De,Te),ke=new De;var xe=45e3,Oe={},Re={};function Pe(t,e,n){t.F=1,t.f=an(Je(e)),t.l=n,t.H=!0,Le(t,null)}function Me(t,e,n,r){t.F=1,t.f=an(Je(e)),t.l=null,t.H=n,Le(t,r)}function Le(t,e){t.v=U(),Ue(t),t.D=Je(t.f),on(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new ae(F(t.Ka,t,t.a),t.J)),ce(t.I,t.a,"readystatechange",t.eb),e=t.h?tt(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),me(1)}function Fe(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=je(t,n);if(i==Re){4==e&&(t.c=4,ye(14),r=!1);break}if(i==Oe){t.c=4,ye(15),r=!1;break}We(t,i)}4==e&&0==n.length&&(t.c=1,ye(16),r=!1),t.b=t.b&&r,r||(ze(t),Be(t))}function je(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?Re:(n=Number(e.substring(n,r)),isNaN(n)?Oe:(r+=1)+n>e.length?Re:(e=e.substr(r,n),t.A=r+n,e))}function Ue(t){t.R=U()+t.O,Ve(t,t.O)}function Ve(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=be(F(t.bb,t),e)}function qe(t){t.i&&(I.clearTimeout(t.i),t.i=null)}function Be(t){t.g.Da()||t.m||t.g.na(t)}function ze(t){qe(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,ie(t.P),he(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function We(t,e){try{t.g.Ga(t,e),me(4)}catch(t){}}function Ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(x(t)||k(t))z(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(x(t)||k(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(k(t))return t.split("");if(x(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Qe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qe)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ge(t,e){Ye(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&He(t))}function He(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ye(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ye(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Ye(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(w=_e.prototype).setTimeout=function(t){this.O=t},w.eb=function(t){t=t.target;var e=this.B;e&&3==Jn(t)?e.Ua():this.Ka(t)},w.Ka=function(t){try{if(t==this.a)t:{var e=Jn(this.a),n=this.a.ya(),r=this.a.T();if(!(e<3||3==e&&!lt&&!this.a.aa())){this.m||4!=e||7==n||me(8==n||r<=0?3:2),qe(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var a=Zn(this.a,"X-HTTP-Initial-Response");if(a&&!Q(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.c=3,ye(12),ze(this),Be(this);break t}this.s=!0,We(this,u)}this.H?(Fe(this,e,o),lt&&this.b&&3==e&&(ce(this.I,this.P,"tick",this.cb),this.P.start())):We(this,o),4==e&&ze(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,Ue(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,ye(12)):(this.c=0,ye(13)),ze(this),Be(this)}}}catch(t){}},w.cb=function(){if(this.a){var t=Jn(this.a),e=this.a.aa();this.A<e.length&&(qe(this),Fe(this,t,e),this.b&&4!=t&&Ue(this))}},w.cancel=function(){this.m=!0,ze(this)},w.bb=function(){this.i=null;var t=U();0<=t-this.R?(2!=this.F&&(me(3),ye(17)),ze(this),this.c=2,Be(this)):Ve(this,this.R-t)},(w=Qe.prototype).C=function(){He(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},w.K=function(){return He(this),this.a.concat()},w.get=function(t,e){return Ye(this.b,t)?this.b[t]:e},w.set=function(t,e){Ye(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},w.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $e(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof $e?(this.h=void 0!==e?e:t.h,Ze(this,t.f),this.j=t.j,tn(this,t.b),en(this,t.i),this.a=t.a,nn(this,wn(t.c)),this.g=t.g):t&&(n=String(t).match(Xe))?(this.h=!!e,Ze(this,n[1]||"",!0),this.j=un(n[2]||""),tn(this,n[3]||"",!0),en(this,n[4]),this.a=un(n[5]||"",!0),nn(this,n[6]||"",!0),this.g=un(n[7]||"")):(this.h=!!e,this.c=new mn(null,this.h))}function Je(t){return new $e(t)}function Ze(t,e,n){t.f=n?un(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function tn(t,e,n){t.b=n?un(e,!0):e}function en(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.i=e}else t.i=null}function nn(t,e,n){e instanceof mn?(t.c=e,function(t,e){e&&!t.f&&(vn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(yn(this,e),bn(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=sn(e,pn)),t.c=new mn(e,t.h))}function rn(t,e,n){t.c.set(e,n)}function on(t,e,n){_(n)||(n=[String(n)]),bn(t.c,e,n)}function an(t){return rn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^U()).toString(36)),t}function un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sn(t,e,n){return k(t)?(t=encodeURI(t).replace(e,ln),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ln(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$e.prototype.toString=function(){var t=[],e=this.f;e&&t.push(sn(e,cn,!0),":");var n=this.b;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(sn(e,cn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(sn(n,"/"==n.charAt(0)?fn:hn,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",sn(n,dn)),t.join("")},$e.prototype.resolve=function(t){var e=Je(this),n=!!t.f;n?Ze(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?tn(e,t.b):n=null!=t.i;var r=t.a;if(n)en(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(Y(i,"./")||Y(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var u=i[a++];"."==u?r&&a==i.length&&o.push(""):".."==u?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(u),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?nn(e,wn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var cn=/[#\/\?@]/g,hn=/[#\?:]/g,fn=/[#\?]/g,pn=/[#\?@]/g,dn=/#/g;function mn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function vn(t){t.a||(t.a=new Qe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function yn(t,e){vn(t),e=En(t,e),Ye(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ge(t.a,e))}function gn(t,e){return vn(t),e=En(t,e),Ye(t.a.b,e)}function bn(t,e,n){yn(t,e),0<n.length&&(t.c=null,t.a.set(En(t,e),K(n)),t.b+=n.length)}function wn(t){var e=new mn;return e.c=t.c,t.a&&(e.a=new Qe(t.a),e.b=t.b),e}function En(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Tn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function Sn(t){var e=t.a.F.a;if(null!=e)ye(4),e?(ye(10),hr(t.a,t,!1)):(ye(11),hr(t.a,t,!0));else{t.b=new _e(t,void 0,void 0),t.b.h=t.h,e=vr(e=t.a,e.Y()?t.f:null,t.i),ye(4),on(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&rn(e,n,r),Me(t.b,e,!1,t.f)}}function In(){this.a=this.b=null}function kn(){this.a=new Qe}function Cn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[R]||(t[R]=++P)):e.charAt(0)+t}function Nn(t,e){this.b=t,this.a=e}function An(t){this.g=t||Dn,t=I.PerformanceNavigationTiming?0<(t=I.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(I.ka&&I.ka.Ea&&I.ka.Ea()&&I.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new kn),this.b=null,this.c=[]}(w=mn.prototype).add=function(t,e){vn(this),this.c=null,t=En(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},w.forEach=function(t,e){vn(this),this.a.forEach((function(n,r){z(n,(function(n){t.call(e,n,r,this)}),this)}),this)},w.K=function(){vn(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},w.C=function(t){vn(this);var e=[];if(k(t))gn(this,t)&&(e=W(e,this.a.get(En(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},w.set=function(t,e){return vn(this),this.c=null,gn(this,t=En(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},w.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},w.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},V((function(){}),(function(){})),(w=Tn.prototype).M=null,w.$=function(t){return this.a.$(t)},w.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},w.Da=function(){return!1},w.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Zn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Zn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(t){return(e=this.a).m=this.c,void dr(e,2)}this.f=r[0]}else(e=this.a).m=this.c,dr(e,2)}else 1==this.M&&(this.g?ye(6):"11111"==e?(ye(5),this.g=!0,(!ut||10<=Number(vt))&&(this.c=200,this.b.cancel(),ye(11),hr(this.a,this,!0))):(ye(7),this.g=!1))},w.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,Sn(this)):1==this.M&&(this.g?(ye(11),hr(this.a,this,!0)):(ye(10),hr(this.a,this,!1)));else{0==this.M?ye(8):1==this.M&&ye(9);var t=this.a;t.m=this.c,dr(t,2)}},w.Y=function(){return this.a.Y()},w.ma=function(){return this.a.ma()},kn.prototype.add=function(t){this.a.set(Cn(t),t)},kn.prototype.C=function(){return this.a.C()};var Dn=10;function _n(t,e){!t.a&&(Y(e,"spdy")||Y(e,"quic")||Y(e,"h2"))&&(t.f=t.g,t.a=new kn,t.b&&(Pn(t,t.b),t.b=null))}function xn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function On(t){return t.b?1:t.a?t.a.a.c:0}function Rn(t,e){return t.b?t.b==e:!!t.a&&(e=Cn(e),Ye(t.a.a.b,e))}function Pn(t,e){t.a?t.a.add(e):t.b=e}function Mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=Cn(e),n=Ye(t.a.a.b,n)),n&&Ge(t.a.a,Cn(e)))}function Ln(t){if(null!=t.b)return t.c.concat(t.b.j);if(null==t.a||0==t.a.a.c)return K(t.c);var e=t.c;return z(t.a.C(),(function(t){e=e.concat(t.j)})),e}function Fn(){}function jn(){this.a=new Fn}function Un(t,e,n){var r=n||"";try{Ke(t,(function(t,n){var i=t;O(t)&&(i=Qt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Vn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}An.prototype.cancel=function(){this.c=Ln(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(z(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},Fn.prototype.stringify=function(t){return I.JSON.stringify(t,void 0)},Fn.prototype.parse=function(t){return I.JSON.parse(t,void 0)};var qn=I.JSON.parse;function Bn(t){Wt.call(this),this.headers=new Qe,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=zn,this.D=this.F=!1}V(Bn,Wt);var zn="",Wn=/^https?$/i,Kn=["POST","PUT"];function Qn(t){return"content-type"==t.toLowerCase()}function Gn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Hn(t),Xn(t)}function Hn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Yn(t){if(t.b&&void 0!==S&&(!t.s[1]||4!=Jn(t)||2!=t.T()))if(t.l&&4==Jn(t))oe(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Jn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.A).match(Xe)[1]||null;if(!o&&I.self&&I.self.location){var a=I.self.location.protocol;o=a.substr(0,a.length-1)}i=!Wn.test(o?o.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",Hn(t))}finally{Xn(t)}}}function Xn(t,e){if(t.a){$n(t);var n=t.a,r=t.s[0]?A:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function $n(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(I.clearTimeout(t.m),t.m=null)}function Jn(t){return t.a?t.a.readyState:0}function Zn(t,e){return t.a?t.a.getResponseHeader(e):null}function tr(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return Z(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),k(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=t.indexOf("#"))<0&&(n=t.length),(r=t.indexOf("?"))<0||n<r){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return rn(t,e,n),t}function er(t){this.f=[],this.F=new In,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!N("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=N("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=N("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=N("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=N("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new An(t&&t.concurrentRequestLimit),this.ja=new jn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function nr(t){if(rr(t),3==t.u){var e=t.P++,n=Je(t.B);rn(n,"SID",t.H),rn(n,"RID",e),rn(n,"TYPE","terminate"),ur(t,n),(e=new _e(t,e,void 0)).F=2,e.f=an(Je(n)),n=!1,I.navigator&&I.navigator.sendBeacon&&(n=I.navigator.sendBeacon(e.f.toString(),"")),!n&&I.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=U(),Ue(e)}mr(t)}function rr(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(I.clearTimeout(t.l),t.l=null),fr(t),t.b.cancel(),t.h&&(C(t.h)&&I.clearTimeout(t.h),t.h=null)}function ir(t,e){t.f.push(new Nn(t.Ra++,e)),3==t.u&&or(t)}function or(t){xn(t.b)||t.h||(t.h=!0,Zt(t.Ia,t),t.A=0)}function ar(t,e){var n;n=e?e.W:t.P++;var r=Je(t.B);rn(r,"SID",t.H),rn(r,"RID",n),rn(r,"AID",t.O),ur(t,r),t.g&&t.i&&tr(r,t.g,t.i),n=new _e(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=sr(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),Pn(t.b,n),Pe(n,r,e)}function ur(t,e){t.c&&Ke({},(function(t,n){rn(e,n,t)}))}function sr(t,e,n){n=Math.min(t.f.length,n);var r=t.c?F(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var l=i[s].b,c=i[s].a;if((l-=o)<0)o=Math.max(0,i[s].b-100),u=!1;else try{Un(c,a,"req"+l+"_")}catch(t){r&&r(c)}}if(u){r=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function lr(t){t.a||t.l||(t.S=1,Zt(t.Ha,t),t.v=0)}function cr(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=be(F(t.Ha,t),pr(t,t.v)),t.v++,0))}function hr(t,e,n){var r=e.l;r&&_n(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=vr(t,null,t.ha),or(t)}function fr(t){null!=t.s&&(I.clearTimeout(t.s),t.s=null)}function pr(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function dr(t,e){if(2==e){var n=null;t.c&&(n=null);var r=F(t.fb,t);n||(n=new $e("//www.google.com/images/cleardot.gif"),I.location&&"http"==I.location.protocol||Ze(n,"https"),an(n)),function(t,e){var n=new fe;if(I.Image){var r=new Image;r.onload=j(Vn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=j(Vn,n,r,"TestLoadImage: error",!1,e),r.onabort=j(Vn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=j(Vn,n,r,"TestLoadImage: timeout",!1,e),I.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ye(2);t.u=0,t.c&&t.c.ta(e),mr(t),rr(t)}function mr(t){t.u=0,t.m=-1,t.c&&(0==Ln(t.b).length&&0==t.f.length||(t.b.c.length=0,K(t.f),t.f.length=0),t.c.sa())}function vr(t,e,n){var r=function(t){return t instanceof $e?Je(t):new $e(t,void 0)}(n);if(""!=r.b)e&&tn(r,e+"."+r.b),en(r,r.i);else{var i,o=I.location;i=e?e+"."+o.hostname:o.hostname,r=function(t,e,n,r){var i=new $e(null,void 0);return t&&Ze(i,t),e&&tn(i,e),n&&en(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return t.V&&Z(t.V,(function(t,e){rn(r,e,t)})),e=t.j,n=t.I,e&&n&&rn(r,e,n),rn(r,"VER",t.wa),ur(t,r),r}function yr(){}function gr(){if(ut&&!(10<=Number(vt)))throw Error("Environmental error: no available transport.")}function br(t,e){Wt.call(this),this.a=new er(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=t,n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!Q(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Q(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Tr(this)}function wr(t){Ne.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Er(){Ae.call(this),this.status=1}function Tr(t){this.a=t}(w=Bn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Se(this.H):Se(ke),this.a.onreadystatechange=F(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void Gn(this,t)}t=n||"";var i=new Qe(this.headers);r&&Ke(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Qn,n=t.length,r=k(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:k(t)?t.charAt(e):t[e]}(i.K()),n=I.FormData&&t instanceof I.FormData,0<=B(Kn,e)&&!r&&!n&&i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{$n(this),0<this.o&&((this.D=function(t){return ut&&gt(9)&&C(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=F(this.Ca,this)):this.m=oe(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Gn(this,t)}},w.Ca=function(){void 0!==S&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},w.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Xn(this))},w.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Xn(this,!0)),Bn.N.G.call(this)},w.Fa=function(){this.j||(this.w||this.l||this.g?Yn(this):this.$a())},w.$a=function(){Yn(this)},w.T=function(){try{return 2<Jn(this)?this.a.status:-1}catch(t){return-1}},w.za=function(){try{return 2<Jn(this)?this.a.statusText:""}catch(t){return""}},w.aa=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},w.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),qn(e)}},w.ya=function(){return this.h},w.Ya=function(){return k(this.f)?this.f:String(this.f)},(w=er.prototype).wa=8,w.u=1,w.Da=function(){return 0==this.u},w.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new _e(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?nt(r=tt(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&k(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=sr(this,n,e),rn(i=Je(this.B),"RID",t),rn(i,"CVER",22),this.o&&this.j&&rn(i,"X-HTTP-Session-Id",this.j),ur(this,i),this.g&&r&&tr(i,this.g,r),Pn(this.b,n),this.W?(rn(i,"$req",e),rn(i,"SID","null"),n.S=!0,Pe(n,i,null)):Pe(n,i,e),this.u=2}}else 3==this.u&&(t?ar(this,t):0==this.f.length||xn(this.b)||ar(this))},w.Ha=function(){this.l=null,this.a=new _e(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Je(this.pa);rn(t,"RID","rpc"),rn(t,"SID",this.H),rn(t,"CI",this.ia?"0":"1"),rn(t,"AID",this.O),ur(this,t),rn(t,"TYPE","xmlhttp"),this.g&&this.i&&tr(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),Me(this.a,t,!0,this.ga)},w.Ga=function(t,e){if(0!=this.u&&(this.a==t||Rn(this.b,t)))if(this.m=t.o,!t.s&&Rn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(t){n=null}if(_(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;fr(this),this.a.cancel(),this.a=null}cr(this),ye(18)}}else this.ra=e[1],0<this.ra-this.O&&e[2]<37500&&this.ia&&0==this.v&&!this.s&&(this.s=be(F(this.Za,this),6e3));if(On(this.b)<=1&&this.fa){try{this.fa()}catch(t){}this.fa=void 0}}else dr(this,11)}else if(!t.s&&this.a!=t||fr(this),!Q(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&C(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Zn(r,"X-Client-Wire-Protocol"))&&_n(this.b,i),this.j&&(r=Zn(r,"X-HTTP-Session-Id")))&&(this.I=r,rn(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=vr(this,this.Y()?this.ga:null,this.ha),r.s?(Mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(qe(r),Ue(r)),this.a=r):lr(this),0<this.f.length&&or(this)}else"stop"!=r[0]&&"close"!=r[0]||dr(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?dr(this,7):nr(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},w.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,cr(this),ye(19))},w.na=function(t){var e=null;if(this.a==t){fr(this),this.a=null;var n=2}else{if(!Rn(this.b,t))return;e=t.j,Mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=U()-t.v,pe.dispatchEvent(new ge(pe,t.l?t.l.length:0,e,this.A)),or(this)):lr(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(On(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=be(F(t.Ia,t,e),pr(t,t.A)),t.A++,0)))}(this,t)||2==n&&cr(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:dr(this,5);break;case 4:dr(this,10);break;case 3:dr(this,6);break;default:dr(this,2)}}},w.fb=function(t){ye(t?2:1)},w.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Bn(this.La)).F=this.R,t},w.ma=function(){return!!this.c&&!0},w.Y=function(){return this.R},(w=yr.prototype).va=function(){},w.ua=function(){},w.ta=function(){},w.sa=function(){},w.Ta=function(){},gr.prototype.a=function(t,e){return new br(t,e)},V(br,Wt),(w=br.prototype).addEventListener=function(t,e,n,r){br.N.addEventListener.call(this,t,e,n,r)},w.removeEventListener=function(t,e,n,r){br.N.removeEventListener.call(this,t,e,n,r)},w.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;ye(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new Tn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=tr(e,t.g,t.i)),(t=t.w).i=n,e=vr(t.a,null,t.i),ye(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,Sn(t)):(on(e,"MODE","init"),!t.a.o&&t.a.j&&on(e,"X-HTTP-Session-Id",t.a.j),t.b=new _e(t,void 0,void 0),t.b.h=t.h,Me(t.b,e,!1,null),t.M=0)},w.close=function(){nr(this.a)},w.Xa=function(t){if(k(t)){var e={};e.__data__=t,ir(this.a,e)}else this.h?((e={}).__data__=Qt(t),ir(this.a,e)):ir(this.a,t)},w.G=function(){this.a.c=null,delete this.f,nr(this.a),delete this.a,br.N.G.call(this)},V(wr,Ne),V(Er,Ae),V(Tr,yr),Tr.prototype.va=function(){this.a.dispatchEvent("a")},Tr.prototype.ua=function(t){this.a.dispatchEvent(new wr(t))},Tr.prototype.ta=function(t){this.a.dispatchEvent(new Er(t))},Tr.prototype.sa=function(){this.a.dispatchEvent("b")};var Sr=j((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),gr);gr.prototype.createWebChannel=gr.prototype.a,br.prototype.send=br.prototype.Xa,br.prototype.open=br.prototype.Wa,br.prototype.close=br.prototype.close,we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,Ee.COMPLETE="complete",(Ie.EventType=Ce).OPEN="a",Ce.CLOSE="b",Ce.ERROR="c",Ce.MESSAGE="d",Wt.prototype.listen=Wt.prototype.Aa,Bn.prototype.listenOnce=Bn.prototype.Ba,Bn.prototype.getLastError=Bn.prototype.Ya,Bn.prototype.getLastErrorCode=Bn.prototype.ya,Bn.prototype.getStatus=Bn.prototype.T,Bn.prototype.getStatusText=Bn.prototype.za,Bn.prototype.getResponseJson=Bn.prototype.Va,Bn.prototype.getResponseText=Bn.prototype.aa,Bn.prototype.send=Bn.prototype.ca;var Ir,kr,Cr={createWebChannelTransport:Sr,ErrorCode:we,EventType:Ee,WebChannel:Ie,XhrIo:Bn},Nr=Cr.createWebChannelTransport,Ar=Cr.ErrorCode,Dr=Cr.EventType,_r=Cr.WebChannel,xr=Cr.XhrIo,Or=t.SDK_VERSION,Rr=new u("@firebase/firestore");function Pr(){return Rr.logLevel===n.DEBUG?Ir.DEBUG:Rr.logLevel===n.SILENT?Ir.SILENT:Ir.ERROR}function Mr(t){switch(t){case Ir.DEBUG:Rr.logLevel=n.DEBUG;break;case Ir.ERROR:Rr.logLevel=n.ERROR;break;case Ir.SILENT:Rr.logLevel=n.SILENT;break;default:Rr.error("Firestore ("+Or+"): Invalid value passed to `setLogLevel`")}}function Lr(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(Rr.logLevel<=n.DEBUG){var o=r.map(jr);Rr.debug.apply(Rr,["Firestore ("+Or+") ["+t+"]: "+e].concat(o))}}function Fr(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(Rr.logLevel<=n.ERROR){var i=e.map(jr);Rr.error.apply(Rr,["Firestore ("+Or+"): "+t].concat(i))}}function jr(t){if("string"==typeof t)return t;var e=qr.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function Ur(t){var e="FIRESTORE ("+Or+") INTERNAL ASSERTION FAILED: "+t;throw Fr(e),new Error(e)}function Vr(t,e){t||Ur(e)}(kr=Ir=Ir||{})[kr.DEBUG=0]="DEBUG",kr[kr.ERROR=1]="ERROR",kr[kr.SILENT=2]="SILENT";var qr=(Br.setPlatform=function(t){Br.platform&&Ur("Platform already defined"),Br.platform=t},Br.getPlatform=function(){return Br.platform||Ur("Platform not set"),Br.platform},Br);function Br(){}function zr(){return qr.getPlatform().emptyByteString}var Wr,Kr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Qr=(c(Gr,Wr=Error),Gr);function Gr(t,e){var n=Wr.call(this,e)||this;return n.code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Hr(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new Qr(Kr.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function Yr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xr(t,e){return void 0!==t?t:e}function $r(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function Jr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zr(t){for(var e in Vr(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ti(t,e){if(0!==e.length)throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+vi(e.length,"argument")+".")}function ei(t,e,n){if(e.length!==n)throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() requires "+vi(n,"argument")+", but was called with "+vi(e.length,"argument")+".")}function ni(t,e,n){if(e.length<n)throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() requires at least "+vi(n,"argument")+", but was called with "+vi(e.length,"argument")+".")}function ri(t,e,n,r){if(e.length<n||e.length>r)throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+vi(e.length,"argument")+".")}function ii(t,e,n,r){li(t,e,mi(n)+" argument",r)}function oi(t,e,n,r){void 0!==r&&ii(t,e,n,r)}function ai(t,e,n,r){li(t,e,n+" option",r)}function ui(t,e,n,r){void 0!==r&&ai(t,e,n,r)}function si(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,u=i;a<u.length;a++){var s=u[a];if(s===r)return;o.push(hi(s))}var l=hi(r);throw new Qr(Kr.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function li(t,e,n,r){if(!("object"===e?ci(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=hi(r);throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function ci(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function hi(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":Ur("Unknown wrong type: "+typeof t);if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}function fi(t,e,n){if(void 0===n)throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+mi(e)+" argument, but it was undefined.")}function pi(t,e,n){Jr(e,(function(e,r){if(n.indexOf(e)<0)throw new Qr(Kr.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function di(t,e,n,r){var i=hi(r);return new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() requires its "+mi(n)+" argument to be a "+e+", but it was: "+i)}function mi(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function vi(t,e){return t+" "+e+(1===t?"":"s")}var yi=(gi.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return Vr(20===e.length,"Invalid auto ID: "+e),e},gi);function gi(){}function bi(t,e){return t<e?-1:e<t?1:0}function wi(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Ei(t){return t+"\0"}function Ti(){if("undefined"==typeof Uint8Array)throw new Qr(Kr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Si(){if(!qr.getPlatform().base64Available)throw new Qr(Kr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ii=(ki.fromBase64String=function(t){ei("Blob.fromBase64String",arguments,1),ii("Blob.fromBase64String","string",1,t),Si();try{return new ki(qr.getPlatform().atob(t))}catch(t){throw new Qr(Kr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},ki.fromUint8Array=function(t){if(ei("Blob.fromUint8Array",arguments,1),Ti(),!(t instanceof Uint8Array))throw di("Blob.fromUint8Array","Uint8Array",1,t);return new ki(Array.prototype.map.call(t,(function(t){return String.fromCharCode(t)})).join(""))},ki.prototype.toBase64=function(){return ei("Blob.toBase64",arguments,0),Si(),qr.getPlatform().btoa(this._binaryString)},ki.prototype.toUint8Array=function(){ei("Blob.toUint8Array",arguments,0),Ti();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},ki.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},ki.prototype.isEqual=function(t){return this._binaryString===t._binaryString},ki.prototype._compareTo=function(t){return bi(this._binaryString,t._binaryString)},ki);function ki(t){Si(),this._binaryString=t}var Ci=Hr(Ii,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Ni=function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Ai="(default)",Di=(Object.defineProperty(_i.prototype,"isDefaultDatabase",{get:function(){return this.database===Ai},enumerable:!0,configurable:!0}),_i.prototype.isEqual=function(t){return t instanceof _i&&t.projectId===this.projectId&&t.database===this.database},_i.prototype.compareTo=function(t){return bi(this.projectId,t.projectId)||bi(this.database,t.database)},_i);function _i(t,e){this.projectId=t,this.database=e||Ai}var xi=(Oi.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Oi.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},Oi.INVALID=-1,Oi);function Oi(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}var Ri="__name__",Pi=(Object.defineProperty(Mi.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),Mi.prototype.isEqual=function(t){return 0===Mi.comparator(this,t)},Mi.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((function(t){e.push(t)})):e.push(t),this.construct(e)},Mi.prototype.limit=function(){return this.offset+this.length},Mi.prototype.popFirst=function(t){return t=void 0===t?1:t,Vr(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},Mi.prototype.popLast=function(){return Vr(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},Mi.prototype.firstSegment=function(){return Vr(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},Mi.prototype.lastSegment=function(){return this.get(this.length-1)},Mi.prototype.get=function(t){return Vr(t<this.length,"Index out of range"),this.segments[this.offset+t]},Mi.prototype.isEmpty=function(){return 0===this.length},Mi.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Mi.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Mi.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},Mi.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Mi.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},Mi);function Mi(t,e,n){void 0===e?e=0:e>t.length&&Ur("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&Ur("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}var Li,Fi=(c(ji,Li=Pi),ji.prototype.construct=function(t,e,n){return new ji(t,e,n)},ji.prototype.canonicalString=function(){return this.toArray().join("/")},ji.prototype.toString=function(){return this.canonicalString()},ji.fromString=function(t){if(0<=t.indexOf("//"))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new ji(t.split("/").filter((function(t){return 0<t.length})))},ji.EMPTY_PATH=new ji([]),ji);function ji(){return null!==Li&&Li.apply(this,arguments)||this}var Ui,Vi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qi=(c(Bi,Ui=Pi),Bi.prototype.construct=function(t,e,n){return new Bi(t,e,n)},Bi.isValidIdentifier=function(t){return Vi.test(t)},Bi.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),Bi.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},Bi.prototype.toString=function(){return this.canonicalString()},Bi.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===Ri},Bi.keyField=function(){return new Bi([Ri])},Bi.fromServerFormat=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new Qr(Kr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Qr(Kr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=u,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Qr(Kr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Bi(e)},Bi.EMPTY_PATH=new Bi([]),Bi);function Bi(){return null!==Ui&&Ui.apply(this,arguments)||this}var zi=(Wi.prototype.hasCollectionId=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},Wi.prototype.isEqual=function(t){return null!==t&&0===Fi.comparator(this.path,t.path)},Wi.prototype.toString=function(){return this.path.toString()},Wi.comparator=function(t,e){return Fi.comparator(t.path,e.path)},Wi.isDocumentKey=function(t){return t.length%2==0},Wi.fromSegments=function(t){return new Wi(new Fi(t.slice()))},Wi.fromPathString=function(t){return new Wi(Fi.fromString(t))},Wi.EMPTY=new Wi(new Fi([])),Wi);function Wi(t){this.path=t,Vr(Wi.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}var Ki,Qi,Gi=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};(Qi=Ki=Ki||{}).All="all",Qi.ListenStreamIdle="listen_stream_idle",Qi.ListenStreamConnectionBackoff="listen_stream_connection_backoff",Qi.WriteStreamIdle="write_stream_idle",Qi.WriteStreamConnectionBackoff="write_stream_connection_backoff",Qi.OnlineStateTimeout="online_state_timeout",Qi.ClientMetadataRefresh="client_metadata_refresh",Qi.LruGarbageCollection="lru_garbage_collection",Qi.RetryTransaction="retry_transaction";var Hi=(Yi.createAndSchedule=function(t,e,n,r,i){var o=new Yi(t,e,Date.now()+n,r,i);return o.start(n),o},Yi.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},Yi.prototype.skipDelay=function(){return this.handleDelayElapsed()},Yi.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qr(Kr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Yi.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},Yi.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Yi);function Yi(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}var Xi=(Object.defineProperty($i.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),$i.prototype.enqueueAndForget=function(t){this.enqueue(t)},$i.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},$i.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},$i.prototype.enqueueAndInitiateShutdown=function(t){return f(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},$i.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(t){})):this.enqueueInternal(t)},$i.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then((function(){return e.operationInProgress=!0,t().catch((function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw Fr("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.operationInProgress=!1,t}))}));return this.tail=n},$i.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),Vr(0<=e,"Attempted to schedule an operation with a negative delay of "+e),-1<this.timerIdsToSkip.indexOf(t)&&(e=0);var i=Hi.createAndSchedule(this,t,e,n,(function(t){return r.removeDelayedOperation(t)}));return this.delayedOperations.push(i),i},$i.prototype.verifyNotFailed=function(){this.failure&&Ur("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},$i.prototype.verifyOperationInProgress=function(){Vr(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},$i.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},$i.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},$i.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then((function(){Vr(t===Ki.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==Ki.All&&i.timerId===t)break}return e.drain()}))},$i.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},$i.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);Vr(0<=e,"Delayed operation not found."),this.delayedOperations.splice(e,1)},$i);function $i(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}function Ji(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=to(e)),e=Zi(t.get(n),e);return to(e)}function Zi(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function to(t){return t+""}function eo(t){var e=t.length;if(Vr(2<=e,"Invalid path "+t),2===e)return Vr(""===t.charAt(0)&&""===t.charAt(1),"Non-empty path "+t+" had length 2"),Fi.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||n<a)&&Ur('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case"":var u=t.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Ur('Invalid encoded resource path: "'+t+'"')}o=a+2}return new Fi(r)}var no=(ro.now=function(){return ro.fromMillis(Date.now())},ro.fromDate=function(t){return ro.fromMillis(t.getTime())},ro.fromMillis=function(t){var e=Math.floor(t/1e3);return new ro(e,1e6*(t-1e3*e))},ro.prototype.toDate=function(){return new Date(this.toMillis())},ro.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},ro.prototype._compareTo=function(t){return this.seconds===t.seconds?bi(this.nanoseconds,t.nanoseconds):bi(this.seconds,t.seconds)},ro.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},ro.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},ro);function ro(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Qr(Kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Qr(Kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Qr(Kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Qr(Kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}var io=(oo.fromMicroseconds=function(t){var e=Math.floor(t/1e6);return new oo(new no(e,t%1e6*1e3))},oo.fromTimestamp=function(t){return new oo(t)},oo.forDeletedDoc=function(){return oo.MIN},oo.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},oo.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},oo.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},oo.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},oo.prototype.toTimestamp=function(){return this.timestamp},oo.MIN=new oo(new no(0,0)),oo);function oo(t){this.timestamp=t}var ao=(uo.prototype.insert=function(t,e){return new uo(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,co.BLACK,null,null))},uo.prototype.remove=function(t){return new uo(this.comparator,this.root.remove(t,this.comparator).copy(null,null,co.BLACK,null,null))},uo.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},uo.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},uo.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(uo.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),uo.prototype.minKey=function(){return this.root.minKey()},uo.prototype.maxKey=function(){return this.root.maxKey()},uo.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},uo.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},uo.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},uo.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},uo.prototype.getIterator=function(){return new so(this.root,null,this.comparator,!1)},uo.prototype.getIteratorFrom=function(t){return new so(this.root,t,this.comparator,!1)},uo.prototype.getReverseIterator=function(){return new so(this.root,null,this.comparator,!0)},uo.prototype.getReverseIteratorFrom=function(t){return new so(this.root,t,this.comparator,!0)},uo);function uo(t,e){this.comparator=t,this.root=e||co.EMPTY}var so=(lo.prototype.getNext=function(){Vr(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},lo.prototype.hasNext=function(){return 0<this.nodeStack.length},lo.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},lo);function lo(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}var co=(ho.prototype.copy=function(t,e,n,r,i){return new ho(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},ho.prototype.isEmpty=function(){return!1},ho.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},ho.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},ho.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},ho.prototype.minKey=function(){return this.min().key},ho.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},ho.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},ho.prototype.removeMin=function(){if(this.left.isEmpty())return ho.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},ho.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ho.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()},ho.prototype.isRed=function(){return this.color},ho.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},ho.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},ho.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},ho.prototype.rotateLeft=function(){var t=this.copy(null,null,ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},ho.prototype.rotateRight=function(){var t=this.copy(null,null,ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},ho.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},ho.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},ho.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ur("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw Ur("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw Ur("Black depths differ");return t+(this.isRed()?0:1)},ho.EMPTY=null,ho.RED=!0,ho.BLACK=!1,ho);function ho(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:ho.RED,this.left=null!=r?r:ho.EMPTY,this.right=null!=i?i:ho.EMPTY,this.size=this.left.size+1+this.right.size}var fo=(Object.defineProperty(po.prototype,"key",{get:function(){throw Ur("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(po.prototype,"value",{get:function(){throw Ur("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(po.prototype,"color",{get:function(){throw Ur("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(po.prototype,"left",{get:function(){throw Ur("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(po.prototype,"right",{get:function(){throw Ur("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),po.prototype.copy=function(t,e,n,r,i){return this},po.prototype.insert=function(t,e,n){return new co(t,e)},po.prototype.remove=function(t,e){return this},po.prototype.isEmpty=function(){return!0},po.prototype.inorderTraversal=function(t){return!1},po.prototype.reverseTraversal=function(t){return!1},po.prototype.minKey=function(){return null},po.prototype.maxKey=function(){return null},po.prototype.isRed=function(){return!1},po.prototype.checkMaxDepth=function(){return!0},po.prototype.check=function(){return 0},po);function po(){this.size=0}co.EMPTY=new fo;var mo=(vo.fromMapKeys=function(t){var e=new vo(t.comparator);return t.forEach((function(t){e=e.add(t)})),e},vo.prototype.has=function(t){return null!==this.data.get(t)},vo.prototype.first=function(){return this.data.minKey()},vo.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(vo.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),vo.prototype.indexOf=function(t){return this.data.indexOf(t)},vo.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},vo.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,t[1]))return;e(r.key)}},vo.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},vo.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},vo.prototype.getIterator=function(){return new yo(this.data.getIterator())},vo.prototype.getIteratorFrom=function(t){return new yo(this.data.getIteratorFrom(t))},vo.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},vo.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},vo.prototype.isEmpty=function(){return this.data.isEmpty()},vo.prototype.unionWith=function(t){var e=this;return t.forEach((function(t){e=e.add(t)})),e},vo.prototype.isEqual=function(t){if(!(t instanceof vo))return!1;if(this.size!==t.size)return!1;for(var e=this.data.getIterator(),n=t.data.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},vo.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},vo.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},vo.prototype.copy=function(t){var e=new vo(this.comparator);return e.data=t,e},vo);function vo(t){this.comparator=t,this.data=new ao(this.comparator)}var yo=(go.prototype.getNext=function(){return this.iter.getNext().key},go.prototype.hasNext=function(){return this.iter.hasNext()},go);function go(t){this.iter=t}var bo=new ao(zi.comparator);function wo(){return bo}function Eo(){return wo()}var To=new ao(zi.comparator);function So(){return To}var Io=new ao(zi.comparator);function ko(){return Io}var Co=new mo(zi.comparator);function No(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Co,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ao=new mo(bi);function Do(){return Ao}var _o=(xo.prototype.applyToRemoteDocument=function(t,e,n){e&&Vr(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;Vr(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},xo.prototype.applyToLocalView=function(t,e){e&&Vr(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t)&&(e=u.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,a=this.mutations;o<a.length;o++){var u;(u=a[o]).key.isEqual(t)&&(e=u.applyToLocalView(e,i,this.localWriteTime))}return e},xo.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))})),n},xo.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),No())},xo.prototype.isEqual=function(t){return this.batchId===t.batchId&&wi(this.mutations,t.mutations)&&wi(this.baseMutations,t.baseMutations)},xo);function xo(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,Vr(0<(this.mutations=r).length,"Cannot create an empty mutation batch")}var Oo=(Ro.from=function(t,e,n,r){Vr(t.mutations.length===n.length,"Mutations sent "+t.mutations.length+" must equal results received "+n.length);for(var i=ko(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new Ro(t,e,n,r,i)},Ro);function Ro(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}var Po=(Mo.prototype.catch=function(t){return this.next(void 0,t)},Mo.prototype.next=function(t,e){var n=this;return this.callbackAttached&&Ur("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Mo((function(r,i){n.nextCallback=function(e){n.wrapSuccess(t,e).next(r,i)},n.catchCallback=function(t){n.wrapFailure(e,t).next(r,i)}}))},Mo.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},Mo.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof Mo?e:Mo.resolve(e)}catch(t){return Mo.reject(t)}},Mo.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction((function(){return t(e)})):Mo.resolve(e)},Mo.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction((function(){return t(e)})):Mo.reject(e)},Mo.resolve=function(t){return new Mo((function(e,n){e(t)}))},Mo.reject=function(t){return new Mo((function(e,n){n(t)}))},Mo.waitFor=function(t){return new Mo((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},Mo.or=function(t){for(var e=Mo.resolve(!1),n=function(t){e=e.next((function(e){return e?Mo.resolve(e):t()}))},r=0,i=t;r<i.length;r++)n(i[r]);return e},Mo.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},Mo);function Mo(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}var Lo,Fo,jo=(Uo.forUser=function(t,e,n,r){return Vr(""!==t.uid,"UserID must not be an empty string."),new Uo(t.isAuthenticated()?t.uid:"",e,n,r)},Uo.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zo(t).iterate({index:fs.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},Uo.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next((function(e){return e.lastStreamToken=Bo(n),Ko(t).put(e)}))},Uo.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next((function(t){return t.lastStreamToken}))},Uo.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next((function(n){return n.lastStreamToken=Bo(e),Ko(t).put(n)}))},Uo.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Wo(t),a=zo(t);return a.add({}).next((function(u){Vr("number"==typeof u,"Auto-generated key is not a number");var s=new _o(u,e,n,r),l=i.serializer.toDbMutationBatch(i.userId,s);i.documentKeysByBatchId[u]=s.keys();for(var c=[],h=0,f=r;h<f.length;h++){var p=f[h],d=ds.key(i.userId,p.key.path,u);c.push(a.put(l)),c.push(o.put(d,ds.PLACEHOLDER)),c.push(i.indexManager.addToCollectionParentIndex(t,p.key.path.popLast()))}return Po.waitFor(c).next((function(){return s}))}))},Uo.prototype.lookupMutationBatch=function(t,e){var n=this;return zo(t).get(e).next((function(t){return t?(Vr(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null}))},Uo.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Po.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r}return null}))},Uo.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return zo(t).iterate({index:fs.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Vr(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()})).next((function(){return o}))},Uo.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zo(t).iterate({index:fs.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},Uo.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zo(t).loadAll(fs.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.fromDbMutationBatch(t)}))}))},Uo.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ds.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Wo(t).iterate({range:i},(function(r,i,a){var u=r[0],s=r[1],l=r[2],c=eo(s);if(u===n.userId&&e.path.isEqual(c))return zo(t).get(l).next((function(t){if(!t)throw Ur("Dangling document-mutation reference found: "+r+" which points to "+l);Vr(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),o.push(n.serializer.fromDbMutationBatch(t))}));a.done()})).next((function(){return o}))},Uo.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new mo(bi),i=[];return e.forEach((function(e){var o=ds.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),u=Wo(t).iterate({range:a},(function(t,i,o){var a=t[0],u=t[1],s=t[2],l=eo(u);a===n.userId&&e.path.isEqual(l)?r=r.add(s):o.done()}));i.push(u)})),Po.waitFor(i).next((function(){return n.lookupMutationBatches(t,r)}))},Uo.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;Vr(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),Vr(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=ds.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new mo(bi);return Wo(t).iterate({range:a},(function(t,e,o){var a=t[0],s=t[1],l=t[2],c=eo(s);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(u=u.add(l)):o.done()})).next((function(){return n.lookupMutationBatches(t,u)}))},Uo.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(zo(t).get(e).next((function(t){if(null===t)throw Ur("Dangling document-mutation reference found, which points to "+e);Vr(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))})))})),Po.waitFor(i).next((function(){return r}))},Uo.prototype.removeMutationBatch=function(t,e){var n=this;return qo(t.simpleDbTransaction,this.userId,e).next((function(r){return n.removeCachedMutationKeys(e.batchId),Po.forEach(r,(function(e){return n.referenceDelegate.removeMutationReference(t,e)}))}))},Uo.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},Uo.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Po.resolve();var r=IDBKeyRange.lowerBound(ds.prefixForUser(e.userId)),i=[];return Wo(t).iterate({range:r},(function(t,n,r){if(t[0]===e.userId){var o=eo(t[1]);i.push(o)}else r.done()})).next((function(){Vr(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.canonicalString()})))}))}))},Uo.prototype.containsKey=function(t,e){return Vo(t,this.userId,e)},Uo.prototype.getMutationQueueMetadata=function(t){var e=this;return Ko(t).get(this.userId).next((function(t){return t||new cs(e.userId,-1,"")}))},Uo);function Uo(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}function Vo(t,e,n){var r=ds.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Wo(t).iterate({range:o,keysOnly:!0},(function(t,n,r){var o=t[0],u=t[1];t[2],o===e&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function qo(t,e,n){var r=t.store(fs.store),i=t.store(ds.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.iterate({range:a},(function(t,e,n){return u++,n.delete()}));o.push(s.next((function(){Vr(1===u,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],p=ds.key(e,f.key.path,n.batchId);o.push(i.delete(p)),l.push(f.key)}return Po.waitFor(o).next((function(){return l}))}function Bo(t){return t instanceof Uint8Array?(Vr("YES"===r.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function zo(t){return ul.getStore(t,fs.store)}function Wo(t){return ul.getStore(t,ds.store)}function Ko(t){return ul.getStore(t,cs.store)}(Fo=Lo=Lo||{})[Fo.QueryCache=0]="QueryCache",Fo[Fo.SyncEngine=1]="SyncEngine";var Qo=(Go.prototype.next=function(){var t=this.nextId;return this.nextId+=2,t},Go.prototype.after=function(t){return this.seek(t+2),this.next()},Go.prototype.seek=function(t){Vr((1&t)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},Go.forQueryCache=function(){return new Go(Lo.QueryCache,2)},Go.forSyncEngine=function(){return new Go(Lo.SyncEngine)},Go);function Go(t,e){Vr((1&(this.generatorId=t))===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.seek(void 0!==e?e:this.generatorId)}var Ho="SimpleDb",Yo=(Xo.openOrCreate=function(t,e,n){return Vr(Xo.isAvailable(),"IndexedDB not supported in current environment."),Lr(Ho,"Opening database:",t),new Po((function(r,i){var o=window.indexedDB.open(t,e);o.onsuccess=function(t){var e=t.target.result;r(new Xo(e))},o.onblocked=function(){i(new Qr(Kr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;"VersionError"===e.name?i(new Qr(Kr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(e)},o.onupgradeneeded=function(e){Lr(Ho,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var r=e.target.result,i=new Zo(o.transaction);n.createOrUpgrade(r,i,e.oldVersion,is).next((function(){Lr(Ho,"Database upgrade to version "+is+" complete")}))}})).toPromise()},Xo.delete=function(t){return Lr(Ho,"Removing database:",t),ra(window.indexedDB.deleteDatabase(t)).toPromise()},Xo.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===r.env.USE_MOCK_PERSISTENCE;var t=d(),e=Xo.getIOSVersion(t),n=0<e&&e<10,i=Xo.getAndroidVersion(t),o=0<i&&i<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||o)},Xo.getStore=function(t,e){return t.store(e)},Xo.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},Xo.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},Xo.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},Xo.prototype.runTransaction=function(t,e,n){var r=Zo.open(this.db,t,e),i=n(r).catch((function(t){return r.abort(t),Po.reject(t)})).toPromise();return i.catch((function(){})),r.completionPromise.then((function(){return i}))},Xo.prototype.close=function(){this.db.close()},Xo);function Xo(t){this.db=t,12.2===Xo.getIOSVersion(d())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}var $o=(Object.defineProperty(Jo.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(Jo.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(Jo.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),Jo.prototype.done=function(){this.shouldStop=!0},Jo.prototype.skip=function(t){this.nextKey=t},Jo.prototype.delete=function(){return ra(this.dbCursor.delete())},Jo);function Jo(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}var Zo=(ta.open=function(t,e,n){return new ta(t.transaction(n,e))},Object.defineProperty(ta.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),ta.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(Lr(Ho,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},ta.prototype.store=function(t){var e=this.transaction.objectStore(t);return Vr(!!e,"Object store not part of transaction: "+t),new ea(e)},ta);function ta(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new Gi,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=oa(t.target.error);e.completionDeferred.reject(n)}}var ea=(na.prototype.put=function(t,e){return ra(void 0!==e?(Lr(Ho,"PUT",this.store.name,t,e),this.store.put(e,t)):(Lr(Ho,"PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},na.prototype.add=function(t){return Lr(Ho,"ADD",this.store.name,t,t),ra(this.store.add(t))},na.prototype.get=function(t){var e=this;return ra(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Lr(Ho,"GET",e.store.name,t,n),n}))},na.prototype.delete=function(t){return Lr(Ho,"DELETE",this.store.name,t),ra(this.store.delete(t))},na.prototype.count=function(){return Lr(Ho,"COUNT",this.store.name),ra(this.store.count())},na.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,(function(t,e){r.push(e)})).next((function(){return r}))},na.prototype.deleteAll=function(t,e){Lr(Ho,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(t,e,n){return n.delete()}))},na.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},na.prototype.iterateSerial=function(t){var e=this.cursor({});return new Po((function(n,r){e.onerror=function(t){var e=oa(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},na.prototype.iterateCursor=function(t,e){var n=[];return new Po((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new $o(i),a=e(i.primaryKey,i.value,o);if(a instanceof Po){var u=a.catch((function(t){return o.done(),Po.reject(t)}));n.push(u)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return Po.waitFor(n)}))},na.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(Vr(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},na.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},na);function na(t){this.store=t}function ra(t){return new Po((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=oa(t.target.error);n(e)}}))}var ia=!1;function oa(t){var e=Yo.getIOSVersion(d());if(12.2<=e&&e<13){var n="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(n)){var r=new Qr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ia||(ia=!0,setTimeout((function(){throw r}),0)),r}}return t}var aa=(ua.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next((function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next((function(){return n.highestTargetId}))}))},ua.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next((function(t){return io.fromTimestamp(new no(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},ua.prototype.getHighestSequenceNumber=function(t){return ca(t.simpleDbTransaction)},ua.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)}))},ua.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next((function(){return n.retrieveMetadata(t).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)}))}))},ua.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},ua.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return sa(t).delete(e.targetId)})).next((function(){return n.retrieveMetadata(t)})).next((function(e){return Vr(0<e.targetCount,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)}))},ua.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return sa(t).iterate((function(a,u){var s=r.serializer.fromDbTarget(u);s.sequenceNumber<=e&&void 0===n[s.targetId]&&(i++,o.push(r.removeQueryData(t,s)))})).next((function(){return Po.waitFor(o)})).next((function(){return i}))},ua.prototype.forEachTarget=function(t,e){var n=this;return sa(t).iterate((function(t,r){var i=n.serializer.fromDbTarget(r);e(i)}))},ua.prototype.retrieveMetadata=function(t){return la(t.simpleDbTransaction)},ua.prototype.saveMetadata=function(t,e){return function(t){return ul.getStore(t,Cs.store)}(t).put(Cs.key,e)},ua.prototype.saveQueryData=function(t,e){return sa(t).put(this.serializer.toDbTarget(e))},ua.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},ua.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next((function(t){return t.targetCount}))},ua.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return sa(t).iterate({range:i,index:Ts.queryTargetsIndexName},(function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())})).next((function(){return o}))},ua.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ha(t);return e.forEach((function(e){var a=Ji(e.path);i.push(o.put(new Is(n,a))),i.push(r.referenceDelegate.addReference(t,e))})),Po.waitFor(i)},ua.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ha(t);return Po.forEach(e,(function(e){var o=Ji(e.path);return Po.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])}))},ua.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ha(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},ua.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ha(t),i=No();return r.iterate({range:n,keysOnly:!0},(function(t,e,n){var r=eo(t[1]),o=new zi(r);i=i.add(o)})).next((function(){return i}))},ua.prototype.containsKey=function(t,e){var n=Ji(e.path),r=IDBKeyRange.bound([n],[Ei(n)],!1,!0),i=0;return ha(t).iterate({index:Is.documentTargetsIndex,keysOnly:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return 0<i}))},ua.prototype.getQueryDataForTarget=function(t,e){var n=this;return sa(t).get(e).next((function(t){return t?n.serializer.fromDbTarget(t):null}))},ua);function ua(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Qo.forQueryCache()}function sa(t){return ul.getStore(t,Ts.store)}function la(t){return Yo.getStore(t,Cs.store).get(Cs.key).next((function(t){return Vr(null!==t,"Missing metadata row."),t}))}function ca(t){return la(t).next((function(t){return t.highestListenSequenceNumber}))}function ha(t){return ul.getStore(t,Is.store)}var fa=(pa.fromSet=function(t){return new pa(t)},pa.fromArray=function(t){var e=new mo(qi.comparator);return t.forEach((function(t){return e=e.add(t)})),new pa(e)},pa.prototype.covers=function(t){var e=!1;return this.fields.forEach((function(n){n.isPrefixOf(t)&&(e=!0)})),e},pa.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},pa);function pa(t){this.fields=t}var da=(ma.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},ma);function ma(t,e){this.field=t,this.transform=e}var va,ya,ga=function(t,e){this.version=t,this.transformResults=e};(ya=va=va||{})[ya.Set=0]="Set",ya[ya.Patch=1]="Patch",ya[ya.Transform=2]="Transform",ya[ya.Delete=3]="Delete";var ba=(wa.exists=function(t){return new wa(void 0,t)},wa.updateTime=function(t){return new wa(t)},Object.defineProperty(wa.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),wa.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof Ou&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof Ou:(Vr(this.isNone,"Precondition should be empty"),!0)},wa.prototype.isEqual=function(t){return function(t,e){return null!=t?!(!e||!t.isEqual(e)):t===e}(this.updateTime,t.updateTime)&&this.exists===t.exists},wa.NONE=new wa,wa);function wa(t,e){this.updateTime=t,this.exists=e,Vr(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}var Ea=(Ta.prototype.verifyKeyMatches=function(t){null!=t&&Vr(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},Ta.getPostMutationVersion=function(t){return t instanceof Ou?t.version:io.MIN},Ta);function Ta(){}var Sa,Ia=(c(ka,Sa=Ea),ka.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),Vr(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new Ou(this.key,n,{hasCommittedMutations:!0},this.value)},ka.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Ea.getPostMutationVersion(t);return new Ou(this.key,r,{hasLocalMutations:!0},this.value)},ka.prototype.extractBaseValue=function(t){return null},ka.prototype.isEqual=function(t){return t instanceof ka&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},ka);function ka(t,e,n){var r=Sa.call(this)||this;return r.key=t,r.value=e,r.precondition=n,r.type=va.Set,r}var Ca,Na=(c(Aa,Ca=Ea),Aa.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),Vr(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new ju(this.key,e.version);var n=this.patchDocument(t);return new Ou(this.key,e.version,{hasCommittedMutations:!0},n)},Aa.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Ea.getPostMutationVersion(t),i=this.patchDocument(t);return new Ou(this.key,r,{hasLocalMutations:!0},i)},Aa.prototype.extractBaseValue=function(t){return null},Aa.prototype.isEqual=function(t){return t instanceof Aa&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},Aa.prototype.patchDocument=function(t){var e;return e=t instanceof Ou?t.data():Iu.EMPTY,this.patchObject(e)},Aa.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}})),t},Aa);function Aa(t,e,n,r){var i=Ca.call(this)||this;return i.key=t,i.data=e,i.fieldMask=n,i.precondition=r,i.type=va.Patch,i}var Da,_a=(c(xa,Da=Ea),xa.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),Vr(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new ju(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data(),r);return new Ou(this.key,i,{hasCommittedMutations:!0},o)},xa.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),o=this.transformObject(r.data(),i);return new Ou(this.key,r.version,{hasLocalMutations:!0},o)},xa.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof Ou?t.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(e=null==e?Iu.EMPTY.set(i.field,a):e.set(i.field,a))}return e},xa.prototype.isEqual=function(t){return t instanceof xa&&this.key.isEqual(t.key)&&wi(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},xa.prototype.requireDocument=function(t){Vr(t instanceof Ou,"Unknown MaybeDocument type "+t);var e=t;return Vr(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},xa.prototype.serverTransformResults=function(t,e){var n=[];Vr(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof Ou&&(a=t.field(i.field)),n.push(o.applyToRemoteDocument(a,e[r]))}return n},xa.prototype.localTransformResults=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],u=a.transform,s=null;e instanceof Ou&&(s=e.field(a.field)),null===s&&n instanceof Ou&&(s=n.field(a.field)),r.push(u.applyToLocalView(s,t))}return r},xa.prototype.transformObject=function(t,e){Vr(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},xa);function xa(t,e){var n=Da.call(this)||this;return n.key=t,n.fieldTransforms=e,n.type=va.Transform,n.precondition=ba.exists(!0),n}var Oa,Ra,Pa,Ma,La,Fa=(c(ja,Oa=Ea),ja.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),Vr(null==e.transformResults,"Transform results received by DeleteMutation."),new Mu(this.key,e.version,{hasCommittedMutations:!0})},ja.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&Vr(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Mu(this.key,io.forDeletedDoc())):t},ja.prototype.extractBaseValue=function(t){return null},ja.prototype.isEqual=function(t){return t instanceof ja&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},ja);function ja(t,e){var n=Oa.call(this)||this;return n.key=t,n.precondition=e,n.type=va.Delete,n}(Pa=Ra=Ra||{})[Pa.NullValue=0]="NullValue",Pa[Pa.BooleanValue=1]="BooleanValue",Pa[Pa.NumberValue=2]="NumberValue",Pa[Pa.TimestampValue=3]="TimestampValue",Pa[Pa.StringValue=4]="StringValue",Pa[Pa.BlobValue=5]="BlobValue",Pa[Pa.RefValue=6]="RefValue",Pa[Pa.GeoPointValue=7]="GeoPointValue",Pa[Pa.ArrayValue=8]="ArrayValue",Pa[Pa.ObjectValue=9]="ObjectValue",(La=Ma=Ma||{})[La.Default=0]="Default",La[La.Estimate=1]="Estimate",La[La.Previous=2]="Previous";var Ua=(Va.fromSnapshotOptions=function(t,e){switch(t.serverTimestamps){case"estimate":return new Va(Ma.Estimate,e);case"previous":return new Va(Ma.Previous,e);case"none":case void 0:return new Va(Ma.Default,e);default:return Ur("fromSnapshotOptions() called with invalid options.")}},Va);function Va(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}var qa=(Ba.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},Ba.prototype.defaultCompareTo=function(t){return Vr(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),bi(this.typeOrder,t.typeOrder)},Ba);function Ba(){}var za,Wa=(c(Ka,za=qa),Ka.prototype.value=function(t){return null},Ka.prototype.isEqual=function(t){return t instanceof Ka},Ka.prototype.compareTo=function(t){return t instanceof Ka?0:this.defaultCompareTo(t)},Ka.INSTANCE=new Ka,Ka);function Ka(){var t=za.call(this)||this;return t.typeOrder=Ra.NullValue,t.internalValue=null,t}var Qa,Ga=(c(Ha,Qa=qa),Ha.prototype.value=function(t){return this.internalValue},Ha.prototype.isEqual=function(t){return t instanceof Ha&&this.internalValue===t.internalValue},Ha.prototype.compareTo=function(t){return t instanceof Ha?bi(this,t):this.defaultCompareTo(t)},Ha.of=function(t){return t?Ha.TRUE:Ha.FALSE},Ha.TRUE=new Ha(!0),Ha.FALSE=new Ha(!1),Ha);function Ha(t){var e=Qa.call(this)||this;return e.internalValue=t,e.typeOrder=Ra.BooleanValue,e}var Ya,Xa=(c($a,Ya=qa),$a.prototype.value=function(t){return this.internalValue},$a.prototype.compareTo=function(t){return t instanceof $a?function(t,e){return t<e?-1:e<t?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}(this.internalValue,t.internalValue):this.defaultCompareTo(t)},$a);function $a(t){var e=Ya.call(this)||this;return e.internalValue=t,e.typeOrder=Ra.NumberValue,e}function Ja(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Za,tu=(c(eu,Za=Xa),eu.prototype.isEqual=function(t){return t instanceof eu&&Ja(this.internalValue,t.internalValue)},eu);function eu(){return null!==Za&&Za.apply(this,arguments)||this}var nu,ru=(c(iu,nu=Xa),iu.prototype.isEqual=function(t){return t instanceof iu&&Ja(this.internalValue,t.internalValue)},iu.NAN=new iu(NaN),iu.POSITIVE_INFINITY=new iu(1/0),iu.NEGATIVE_INFINITY=new iu(-1/0),iu);function iu(){return null!==nu&&nu.apply(this,arguments)||this}var ou,au=(c(uu,ou=qa),uu.prototype.value=function(t){return this.internalValue},uu.prototype.isEqual=function(t){return t instanceof uu&&this.internalValue===t.internalValue},uu.prototype.compareTo=function(t){return t instanceof uu?bi(this.internalValue,t.internalValue):this.defaultCompareTo(t)},uu);function uu(t){var e=ou.call(this)||this;return e.internalValue=t,e.typeOrder=Ra.StringValue,e}var su,lu=(c(cu,su=qa),cu.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},cu.prototype.isEqual=function(t){return t instanceof cu&&this.internalValue.isEqual(t.internalValue)},cu.prototype.compareTo=function(t){return t instanceof cu?this.internalValue._compareTo(t.internalValue):t instanceof fu?-1:this.defaultCompareTo(t)},cu);function cu(t){var e=su.call(this)||this;return e.internalValue=t,e.typeOrder=Ra.TimestampValue,e}var hu,fu=(c(pu,hu=qa),pu.prototype.value=function(t){return t&&t.serverTimestampBehavior===Ma.Estimate?new lu(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===Ma.Previous&&this.previousValue?this.previousValue.value(t):null},pu.prototype.isEqual=function(t){return t instanceof pu&&this.localWriteTime.isEqual(t.localWriteTime)},pu.prototype.compareTo=function(t){return t instanceof pu?this.localWriteTime._compareTo(t.localWriteTime):t instanceof lu?1:this.defaultCompareTo(t)},pu.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},pu);function pu(t,e){var n=hu.call(this)||this;return n.localWriteTime=t,n.previousValue=e,n.typeOrder=Ra.TimestampValue,n}var du,mu=(c(vu,du=qa),vu.prototype.value=function(t){return this.internalValue},vu.prototype.isEqual=function(t){return t instanceof vu&&this.internalValue.isEqual(t.internalValue)},vu.prototype.compareTo=function(t){return t instanceof vu?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},vu);function vu(t){var e=du.call(this)||this;return e.internalValue=t,e.typeOrder=Ra.BlobValue,e}var yu,gu=(c(bu,yu=qa),bu.prototype.value=function(t){return this.key},bu.prototype.isEqual=function(t){return t instanceof bu&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},bu.prototype.compareTo=function(t){if(t instanceof bu){var e=this.databaseId.compareTo(t.databaseId);return 0!==e?e:zi.comparator(this.key,t.key)}return this.defaultCompareTo(t)},bu);function bu(t,e){var n=yu.call(this)||this;return n.databaseId=t,n.key=e,n.typeOrder=Ra.RefValue,n}var wu,Eu=(c(Tu,wu=qa),Tu.prototype.value=function(t){return this.internalValue},Tu.prototype.isEqual=function(t){return t instanceof Tu&&this.internalValue.isEqual(t.internalValue)},Tu.prototype.compareTo=function(t){return t instanceof Tu?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},Tu);function Tu(t){var e=wu.call(this)||this;return e.internalValue=t,e.typeOrder=Ra.GeoPointValue,e}var Su,Iu=(c(ku,Su=qa),ku.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal((function(n,r){e[n]=r.value(t)})),e},ku.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},ku.prototype.isEqual=function(t){if(t instanceof ku){for(var e=this.internalValue.getIterator(),n=t.internalValue.getIterator();e.hasNext()&&n.hasNext();){var r=e.getNext(),i=n.getNext();if(r.key!==i.key||!r.value.isEqual(i.value))return!1}return!e.hasNext()&&!n.hasNext()}return!1},ku.prototype.compareTo=function(t){if(t instanceof ku){for(var e=this.internalValue.getIterator(),n=t.internalValue.getIterator();e.hasNext()&&n.hasNext();){var r=e.getNext(),i=n.getNext(),o=bi(r.key,i.key)||r.value.compareTo(i.value);if(o)return o}return bi(e.hasNext(),n.hasNext())}return this.defaultCompareTo(t)},ku.prototype.set=function(t,e){if(Vr(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),e);var n=this.child(t.firstSegment());n instanceof ku||(n=ku.EMPTY);var r=n.set(t.popFirst(),e);return this.setChild(t.firstSegment(),r)},ku.prototype.delete=function(t){if(Vr(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new ku(this.internalValue.remove(t.firstSegment()));var e=this.child(t.firstSegment());if(e instanceof ku){var n=e.delete(t.popFirst());return new ku(this.internalValue.insert(t.firstSegment(),n))}return this},ku.prototype.contains=function(t){return null!==this.field(t)},ku.prototype.field=function(t){Vr(!t.isEmpty(),"Can't get field of empty path");var e=this;return t.forEach((function(t){e=e instanceof ku?e.internalValue.get(t):null})),e},ku.prototype.fieldMask=function(){var t=new mo(qi.comparator);return this.internalValue.forEach((function(e,n){var r=new qi([e]);if(n instanceof ku){var i=n.fieldMask().fields;i.isEmpty()?t=t.add(r):i.forEach((function(e){t=t.add(r.child(e))}))}else t=t.add(r)})),fa.fromSet(t)},ku.prototype.toString=function(){return this.internalValue.toString()},ku.prototype.child=function(t){return this.internalValue.get(t)||void 0},ku.prototype.setChild=function(t,e){return new ku(this.internalValue.insert(t,e))},ku.EMPTY=new ku(new ao(bi)),ku);function ku(t){var e=Su.call(this)||this;return e.internalValue=t,e.typeOrder=Ra.ObjectValue,e}var Cu,Nu=(c(Au,Cu=qa),Au.prototype.value=function(t){return this.internalValue.map((function(e){return e.value(t)}))},Au.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},Au.prototype.forEach=function(t){this.internalValue.forEach(t)},Au.prototype.isEqual=function(t){if(t instanceof Au){if(this.internalValue.length!==t.internalValue.length)return!1;for(var e=0;e<this.internalValue.length;e++)if(!this.internalValue[e].isEqual(t.internalValue[e]))return!1;return!0}return!1},Au.prototype.compareTo=function(t){if(t instanceof Au){for(var e=Math.min(this.internalValue.length,t.internalValue.length),n=0;n<e;n++){var r=this.internalValue[n].compareTo(t.internalValue[n]);if(r)return r}return bi(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},Au.prototype.toString=function(){return"["+this.internalValue.map((function(t){return t.toString()})).join(",")+"]"},Au);function Au(t){var e=Cu.call(this)||this;return e.internalValue=t,e.typeOrder=Ra.ArrayValue,e}var Du=(_u.compareByKey=function(t,e){return zi.comparator(t.key,e.key)},_u);function _u(t,e){this.key=t,this.version=e}var xu,Ou=(c(Ru,xu=Du),Ru.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var r=this.getProtoField(t);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(e,n)}return n},Ru.prototype.data=function(){var t=this;if(!this.objectValue){var e=Iu.EMPTY;Jr(this.proto.fields||{},(function(n,r){e=e.set(new qi([n]),t.converter(r))})),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},Ru.prototype.value=function(){return this.data().value()},Ru.prototype.isEqual=function(t){return t instanceof Ru&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},Ru.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Ru.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),Ru.prototype.getProtoField=function(t){Vr(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.firstSegment()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},Ru.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):Ur("Trying to compare documents on fields that don't exist")},Ru);function Ru(t,e,n,r,i,o){var a=xu.call(this,t,e)||this;return a.objectValue=r,a.proto=i,a.converter=o,Vr(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!n.hasLocalMutations,a.hasCommittedMutations=!!n.hasCommittedMutations,a}var Pu,Mu=(c(Lu,Pu=Du),Lu.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Lu.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Lu.prototype.isEqual=function(t){return t instanceof Lu&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Lu);function Lu(t,e,n){var r=Pu.call(this,t,e)||this;return r.hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}var Fu,ju=(c(Uu,Fu=Du),Uu.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Uu.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),Uu.prototype.isEqual=function(t){return t instanceof Uu&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Uu);function Uu(){return null!==Fu&&Fu.apply(this,arguments)||this}var Vu=(qu.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];if(a.isEqual(t))return u}},qu.prototype.has=function(t){return void 0!==this.get(t)},qu.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},qu.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},qu.prototype.forEach=function(t){Jr(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];t(a,u)}}))},qu.prototype.isEmpty=function(){return Zr(this.inner)},qu);function qu(t){this.mapKeyFn=t,this.inner={}}var Bu=(zu.prototype.addEntry=function(t){this.assertNotApplied(),this.changes.set(t.key,t)},zu.prototype.removeEntry=function(t){this.assertNotApplied(),this.changes.set(t,null)},zu.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Po.resolve(n):this.getFromCache(t,e)},zu.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},zu.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},zu.prototype.assertNotApplied=function(){Vr(!this.changesApplied,"Changes have already been applied.")},zu);function zu(){this.changes=new Vu((function(t){return t.toString()})),this.changesApplied=!1}var Wu,Ku="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Qu=(Object.defineProperty(Gu.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),Gu.prototype.start=function(t){var e=Yo.getStore(t,xs.store);return this.synchronizeLastDocumentChangeId(e)},Gu.prototype.addEntry=function(t,e,n){var r=this;return Xu(t).put(Ju(e),n).next((function(){r.indexManager.addToCollectionParentIndex(t,e.path.popLast())}))},Gu.prototype.removeEntry=function(t,e){var n=Xu(t),r=Ju(e);return n.delete(r)},Gu.prototype.updateMetadata=function(t,e,n){var r=this;return this.getMetadata(t).next((function(i){return i.byteSize+=n,r.setMetadata(t,i).next((function(){if(r.keepDocumentChangeLog)return $u(t).put({changes:r.serializer.toDbResourcePaths(e)})}))}))},Gu.prototype.getEntry=function(t,e){var n=this;return Xu(t).get(Ju(e)).next((function(t){return t?n.serializer.fromDbRemoteDocument(t):null}))},Gu.prototype.getSizedEntry=function(t,e){var n=this;return Xu(t).get(Ju(e)).next((function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:Zu(t)}:null}))},Gu.prototype.getEntries=function(t,e){var n=this,r=Eo();return this.forEachDbEntry(t,e,(function(t,e){r=e?r.insert(t,n.serializer.fromDbRemoteDocument(e)):r.insert(t,null)})).next((function(){return r}))},Gu.prototype.getSizedEntries=function(t,e){var n=this,r=Eo(),i=new ao(zi.comparator);return this.forEachDbEntry(t,e,(function(t,e){i=e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i.insert(t,Zu(e))):(r=r.insert(t,null),i.insert(t,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},Gu.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Po.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Xu(t).iterate({range:r},(function(t,e,r){for(var a=zi.fromSegments(t);o&&zi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},Gu.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;Vr(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=So(),i=e.path.length+1,o=e.path.toArray(),a=IDBKeyRange.lowerBound(o);return Xu(t).iterate({range:a},(function(t,o,a){if(t.length===i){var u=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(u.key.path)?u instanceof Ou&&e.matches(u)&&(r=r.insert(u.key,u)):a.done()}})).next((function(){return r}))},Gu.prototype.getNewDocumentChanges=function(t){var e=this;Vr(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=No(),r=wo(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=$u(t);return a.iterate({range:i},(function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next((function(){return Po.reject(new Qr(Kr.DATA_LOSS,Ku))}));n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id})).next((function(){var i=[];return n.forEach((function(n){i.push(e.getEntry(t,n).next((function(t){var e=t||new Mu(n,io.forDeletedDoc());r=r.insert(n,e)})))})),Po.waitFor(i)})).next((function(){return r}))},Gu.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return $u(t).delete(n)},Gu.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},(function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()}))},Gu.prototype.newChangeBuffer=function(){return new Gu.RemoteDocumentChangeBuffer(this)},Gu.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},Gu.prototype.getMetadata=function(t){return Yu(t).get(ws.key).next((function(t){return Vr(!!t,"Missing document cache metadata"),t}))},Gu.prototype.setMetadata=function(t,e){return Yu(t).put(ws.key,e)},Gu.RemoteDocumentChangeBuffer=(c(Hu,Wu=Bu),Hu.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=No();return this.changes.forEach((function(o,a){var u=e.documentSizes.get(o);if(Vr(void 0!==u,"Cannot modify a document that wasn't read (for "+o+")"),a){var s=e.documentCache.serializer.toDbRemoteDocument(a),l=Zu(s);r+=l-u,n.push(e.documentCache.addEntry(t,o,s))}else r-=u,n.push(e.documentCache.removeEntry(t,o));i=i.add(o)})),n.push(this.documentCache.updateMetadata(t,i,r)),Po.waitFor(n)},Hu.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next((function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)}))},Hu.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next((function(t){var e=t.maybeDocuments;return t.sizeMap.forEach((function(t,e){n.documentSizes.set(t,e)})),e}))},Hu),Gu);function Gu(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}function Hu(t){var e=Wu.call(this)||this;return e.documentCache=t,e.documentSizes=new Vu((function(t){return t.toString()})),e}function Yu(t){return ul.getStore(t,ws.store)}function Xu(t){return ul.getStore(t,gs.store)}function $u(t){return ul.getStore(t,xs.store)}function Ju(t){return t.path.toArray()}function Zu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ur("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var ts=(es.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Po.resolve()},es.prototype.getCollectionParents=function(t,e){return Po.resolve(this.collectionParentIndex.getEntries(e))},es);function es(){this.collectionParentIndex=new ns}var ns=(rs.prototype.add=function(t){Vr(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new mo(Fi.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},rs.prototype.getEntries=function(t){return(this.index[t]||new mo(Fi.comparator)).toArray()},rs);function rs(){this.index={}}var is=8,os=(as.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Vr(n<r&&0<=n&&r<=is,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&1<=r&&(function(t){t.createObjectStore(ss.store)}(t),function(t){t.createObjectStore(cs.store,{keyPath:cs.keyPath}),t.createObjectStore(fs.store,{keyPath:fs.keyPath,autoIncrement:!0}).createIndex(fs.userMutationsIndex,fs.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ds.store)}(t),_s(t),function(t){t.createObjectStore(gs.store)}(t));var o=Po.resolve();return n<3&&3<=r&&(0!==n&&(function(t){t.deleteObjectStore(Is.store),t.deleteObjectStore(Ts.store),t.deleteObjectStore(Cs.store)}(t),_s(t)),o=o.next((function(){return function(t){var e=t.store(Cs.store),n=new Cs(0,0,io.MIN.toTimestamp(),0);return e.put(Cs.key,n)}(e)}))),n<4&&4<=r&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(fs.store).loadAll().next((function(n){t.deleteObjectStore(fs.store),t.createObjectStore(fs.store,{keyPath:fs.keyPath,autoIncrement:!0}).createIndex(fs.userMutationsIndex,fs.userMutationsKeyPath,{unique:!0});var r=e.store(fs.store),i=n.map((function(t){return r.put(t)}));return Po.waitFor(i)}))}(t,e)}))),o=o.next((function(){!function(t){t.createObjectStore(Rs.store,{keyPath:Rs.keyPath})}(t),function(t){t.createObjectStore(xs.store,{keyPath:"id",autoIncrement:!0})}(t)}))),n<5&&5<=r&&(o=o.next((function(){return i.removeAcknowledgedMutations(e)}))),n<6&&6<=r&&(o=o.next((function(){return function(t){t.createObjectStore(ws.store)}(t),i.addDocumentGlobal(e)}))),n<7&&7<=r&&(o=o.next((function(){return i.ensureSequenceNumbers(e)}))),n<8&&8<=r&&(o=o.next((function(){return i.createCollectionParentIndex(t,e)}))),o},as.prototype.addDocumentGlobal=function(t){var e=0;return t.store(gs.store).iterate((function(t,n){e+=Zu(n)})).next((function(){var n=new ws(e);return t.store(ws.store).put(ws.key,n)}))},as.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(cs.store),r=t.store(fs.store);return n.loadAll().next((function(n){return Po.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(fs.userMutationsIndex,i).next((function(r){return Po.forEach(r,(function(r){Vr(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return qo(t,n.userId,i).next((function(){}))}))}))}))}))},as.prototype.ensureSequenceNumbers=function(t){var e=t.store(Is.store),n=t.store(gs.store);return ca(t).next((function(t){var r=[];return n.iterate((function(n,i){var o=new Fi(n),a=function(t){return[0,Ji(t)]}(o);r.push(e.get(a).next((function(n){return n?Po.resolve():function(n){return e.put(new Is(0,Ji(n),t))}(o)})))})).next((function(){return Po.waitFor(r)}))}))},as.prototype.createCollectionParentIndex=function(t,e){function n(t){if(i.add(t)){var e=t.lastSegment(),n=t.popLast();return r.put({collectionId:e,parent:Ji(n)})}}t.createObjectStore(As.store,{keyPath:As.keyPath});var r=e.store(As.store),i=new ns;return e.store(gs.store).iterate({keysOnly:!0},(function(t,e){return n(new Fi(t).popLast())})).next((function(){return e.store(ds.store).iterate({keysOnly:!0},(function(t,e){t[0];var r=t[1];return n((t[2],eo(r)).popLast())}))}))},as);function as(t){this.serializer=t}var us=function(t,e){this.seconds=t,this.nanoseconds=e},ss=(ls.store="owner",ls.key="owner",ls);function ls(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}var cs=(hs.store="mutationQueues",hs.keyPath="userId",hs);function hs(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}var fs=(ps.store="mutations",ps.keyPath="batchId",ps.userMutationsIndex="userMutationsIndex",ps.userMutationsKeyPath=["userId","batchId"],ps);function ps(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}var ds=(ms.prefixForUser=function(t){return[t]},ms.prefixForPath=function(t,e){return[t,Ji(e)]},ms.key=function(t,e,n){return[t,Ji(e),n]},ms.store="documentMutations",ms.PLACEHOLDER=new ms,ms);function ms(){}var vs=function(t,e){this.path=t,this.readTime=e},ys=function(t,e){this.path=t,this.version=e},gs=(bs.store="remoteDocuments",bs);function bs(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}var ws=(Es.store="remoteDocumentGlobal",Es.key="remoteDocumentGlobalKey",Es);function Es(t){this.byteSize=t}var Ts=(Ss.store="targets",Ss.keyPath="targetId",Ss.queryTargetsIndexName="queryTargetsIndex",Ss.queryTargetsKeyPath=["canonicalId","targetId"],Ss);function Ss(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}var Is=(ks.store="targetDocuments",ks.keyPath=["targetId","path"],ks.documentTargetsIndex="documentTargetsIndex",ks.documentTargetsKeyPath=["path","targetId"],ks);function ks(t,e,n){this.targetId=t,this.path=e,Vr(0===t==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}var Cs=(Ns.key="targetGlobalKey",Ns.store="targetGlobal",Ns);function Ns(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}var As=(Ds.store="collectionParents",Ds.keyPath=["collectionId","parent"],Ds);function Ds(t,e){this.collectionId=t,this.parent=e}function _s(t){t.createObjectStore(Is.store,{keyPath:Is.keyPath}).createIndex(Is.documentTargetsIndex,Is.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ts.store,{keyPath:Ts.keyPath}).createIndex(Ts.queryTargetsIndexName,Ts.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Cs.store)}var xs=(Os.store="remoteDocumentChanges",Os.keyPath="id",Os);function Os(t){this.changes=t}var Rs=(Ps.store="clientMetadata",Ps.keyPath="clientId",Ps);function Ps(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}var Ms,Ls,Fs=[cs.store,fs.store,ds.store,gs.store,Ts.store,ss.store,Cs.store,Is.store].concat([Rs.store,xs.store]).concat([ws.store]).concat([As.store]),js=(Us.prototype.addToCollectionParentIndex=function(t,e){if(Vr(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){Vr(1<=e.length,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Vs(t).put({collectionId:n,parent:Ji(r)})}return Po.resolve()},Us.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ei(e),""],!1,!0);return Vs(t).loadAll(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(eo(o.parent))}return n}))},Us);function Us(){this.collectionParentsCache=new ns}function Vs(t){return ul.getStore(t,As.store)}(Ls=Ms=Ms||{})[Ls.Listen=0]="Listen",Ls[Ls.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",Ls[Ls.LimboResolution=2]="LimboResolution";var qs=(Bs.prototype.withSequenceNumber=function(t){return new Bs(this.query,this.targetId,this.purpose,t,this.snapshotVersion,this.resumeToken)},Bs.prototype.withResumeToken=function(t,e){return new Bs(this.query,this.targetId,this.purpose,this.sequenceNumber,e,t)},Bs.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},Bs);function Bs(t,e,n,r,i,o){void 0===i&&(i=io.MIN),void 0===o&&(o=zr()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}var zs=(Ws.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=zi.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new Mu(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=zi.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new ju(e,n)):Ur("Unexpected DbRemoteDocument")},Ws.prototype.toDbRemoteDocument=function(t){if(t instanceof Ou){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t),n=t.hasCommittedMutations;return new gs(null,null,e,n)}if(t instanceof Mu){var r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);return n=t.hasCommittedMutations,new gs(null,new vs(r,i),null,n)}return t instanceof ju?(r=t.key.path.toArray(),i=this.toDbTimestamp(t.version),new gs(new ys(r,i),null,null,!0)):Ur("Unexpected MaybeDocumment")},Ws.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new us(e.seconds,e.nanoseconds)},Ws.prototype.fromDbTimestamp=function(t){var e=new no(t.seconds,t.nanoseconds);return io.fromTimestamp(e)},Ws.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.remoteSerializer.toMutation(t)})),i=e.mutations.map((function(t){return n.remoteSerializer.toMutation(t)}));return new fs(t,e.batchId,e.localWriteTime.toMillis(),r,i)},Ws.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.remoteSerializer.fromMutation(t)})),r=t.mutations.map((function(t){return e.remoteSerializer.fromMutation(t)})),i=no.fromMillis(t.localWriteTimeMs);return new _o(t.batchId,i,n,r)},Ws.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach((function(t){e.push(Ji(t.path))})),e},Ws.prototype.fromDbResourcePaths=function(t){for(var e=No(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new zi(eo(i)))}return e},Ws.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=function(t){return void 0!==t.documents}(t.query)?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new qs(e,t.targetId,Ms.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},Ws.prototype.toDbTarget=function(t){Vr(Ms.Listen===t.purpose,"Only queries with purpose "+Ms.Listen+" may be stored, got "+t.purpose);var e,n,i=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),n=t.resumeToken instanceof Uint8Array?(Vr("YES"===r.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),t.resumeToken.toString()):t.resumeToken,new Ts(t.targetId,t.query.canonicalId(),i,n,t.sequenceNumber,e)},Ws);function Ws(t){this.remoteSerializer=t}function Ks(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=bi(n,i);return 0===a?bi(r,o):a}var Qs=(Gs.prototype.nextIndex=function(){return++this.previousIndex},Gs.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ks(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(Gs.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),Gs);function Gs(t){this.maxElements=t,this.buffer=new mo(Ks),this.previousIndex=0}var Hs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ys=(Xs.withCacheSize=function(t){return new Xs(t,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Xs.COLLECTION_DISABLED=-1,Xs.MINIMUM_CACHE_SIZE_BYTES=1048576,Xs.DEFAULT=new Xs(Xs.DEFAULT_CACHE_SIZE_BYTES=41943040,Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),Xs.DISABLED=new Xs(Xs.COLLECTION_DISABLED,0,0),Xs);function Xs(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}var $s=(Js.prototype.start=function(){Vr(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Ys.COLLECTION_DISABLED&&this.scheduleGC()},Js.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(Js.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),Js.prototype.scheduleGC=function(){var t=this;Vr(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;Lr("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Ki.LruGarbageCollection,e,(function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then((function(){return t.scheduleGC()})).catch(ll)}))},Js);function Js(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}var Zs=(tl.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next((function(t){return Math.floor(e/100*t)}))},tl.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Po.resolve(xi.INVALID);var r=new Qs(e);return this.delegate.forEachTarget(t,(function(t){return r.addElement(t.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,(function(t){return r.addElement(t)}))})).next((function(){return r.maxValue}))},tl.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},tl.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},tl.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Ys.COLLECTION_DISABLED?(Lr("LruGarbageCollector","Garbage collection skipped; disabled"),Po.resolve(Hs)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Lr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Hs):n.runGarbageCollection(t,e)}))},tl.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},tl.prototype.runGarbageCollection=function(t,e){var n,r,i,o,a,u,s,l=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return r=e>l.params.maximumSequenceNumbersToCollect?(Lr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),l.params.maximumSequenceNumbersToCollect):e,o=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return s=Date.now(),Pr()<=Ir.DEBUG&&Lr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(s-u)+"ms\nTotal Duration: "+(s-c)+"ms"),Po.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},tl);function tl(t,e){this.delegate=t,this.params=e}var el,nl="IndexedDbPersistence",rl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",il="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",ol=(c(al,el=function(){}),al);function al(t,e){var n=el.call(this)||this;return n.simpleDbTransaction=t,n.currentSequenceNumber=e,n}var ul=(sl.getStore=function(t,e){if(t instanceof ol)return Yo.getStore(t.simpleDbTransaction,e);throw Ur("IndexedDbPersistence must use instances of IndexedDbTransaction")},sl.createIndexedDbPersistence=function(t){return f(this,void 0,void 0,(function(){var e;return p(this,(function(n){switch(n.label){case 0:if(!sl.isAvailable())throw new Qr(Kr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(e=new sl(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return n.sent(),[2,e]}}))}))},sl.prototype.start=function(){var t=this;return Vr(!this.started,"IndexedDbPersistence double-started!"),Vr(null!==this.window,"Expected 'window' to be defined"),Yo.openOrCreate(this.dbName,is,new os(this.serializer)).then((function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()})).then((function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()})).then((function(){return t.simpleDb.runTransaction("readonly",[Cs.store],(function(e){return ca(e).next((function(e){t.listenSequence=new xi(e,t.sequenceNumberSyncer)}))}))})).then((function(){t._started=!0})).catch((function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)}))},sl.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Fs,(function(e){return t.remoteDocumentCache.start(e)}))},sl.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return f(e,void 0,void 0,(function(){return p(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},sl.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener((function(n){return f(e,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},sl.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget((function(){return f(e,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},sl.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Fs,(function(e){return hl(e).put(new Rs(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next((function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next((function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget((function(){return t.primaryStateListener(!1)})))}))})).next((function(){return t.canActAsPrimary(e)})).next((function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget((function(){return t.primaryStateListener(t.isPrimary)})),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0}))}))},sl.prototype.verifyPrimaryLease=function(t){var e=this;return cl(t).get(ss.key).next((function(t){return Po.resolve(e.isLocalClient(t))}))},sl.prototype.removeClientMetadata=function(t){return hl(t).delete(this.clientId)},sl.prototype.maybeGarbageCollectMultiClientState=function(){return f(this,void 0,void 0,(function(){var t,e,n=this;return p(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),e=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(r){var i=sl.getStore(r,Rs.store);return i.loadAll().next((function(r){t=n.filterActiveClients(r,18e5),e=r.filter((function(e){return-1===t.indexOf(e)}))})).next((function(){return Po.forEach(e,(function(t){return i.delete(t.clientId)}))})).next((function(){if(0<(t=t.filter((function(t){return t.clientId!==n.clientId}))).length){var e=t.map((function(t){return t.lastProcessedDocumentChangeId||0})),i=Math.min.apply(Math,e);return n.remoteDocumentCache.removeDocumentChangesThroughChangeId(r,i)}}))}))]);case 1:r.sent(),e.forEach((function(t){n.window.localStorage.removeItem(n.zombiedClientLocalStorageKey(t.clientId))})),r.label=2;case 2:return[2]}}))}))},sl.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Ki.ClientMetadataRefresh,4e3,(function(){return t.updateClientMetadataAndTryBecomePrimary().then((function(){return t.maybeGarbageCollectMultiClientState()})).then((function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},sl.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},sl.prototype.canActAsPrimary=function(t){var e=this;return cl(t).get(ss.key).next((function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new Qr(Kr.FAILED_PRECONDITION,il);return!1}}return!(!e.networkEnabled||!e.inForeground)||hl(t).loadAll().next((function(t){return void 0===e.filterActiveClients(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Lr(nl,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},sl.prototype.shutdown=function(){return f(this,void 0,void 0,(function(){var t=this;return p(this,(function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[ss.store,Rs.store],(function(e){return t.releasePrimaryLeaseIfHeld(e).next((function(){return t.removeClientMetadata(e)}))}))];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},sl.prototype.filterActiveClients=function(t,e){var n=this;return t.filter((function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)}))},sl.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Rs.store],(function(e){return hl(e).loadAll().next((function(e){return t.filterActiveClients(e,18e5).map((function(t){return t.clientId}))}))}))},sl.clearPersistence=function(t){return f(this,void 0,void 0,(function(){var e;return p(this,(function(n){switch(n.label){case 0:return sl.isAvailable()?(e=t+sl.MAIN_DATABASE,[4,Yo.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(sl.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),sl.prototype.getMutationQueue=function(t){return Vr(this.started,"Cannot initialize MutationQueue before persistence is started."),jo.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},sl.prototype.getQueryCache=function(){return Vr(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},sl.prototype.getRemoteDocumentCache=function(){return Vr(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},sl.prototype.getIndexManager=function(){return Vr(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},sl.prototype.runTransaction=function(t,e,n){var r=this;return Lr(nl,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Fs,(function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next((function(e){if(!e)throw Fr("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new Qr(Kr.FAILED_PRECONDITION,rl);return n(new ol(i,r.listenSequence.next()))})).next((function(t){return r.acquireOrExtendPrimaryLease(i).next((function(){return t}))})):r.verifyAllowTabSynchronization(i).next((function(){return n(new ol(i,r.listenSequence.next()))}))}))},sl.prototype.verifyAllowTabSynchronization=function(t){var e=this;return cl(t).get(ss.key).next((function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new Qr(Kr.FAILED_PRECONDITION,il)}))},sl.prototype.acquireOrExtendPrimaryLease=function(t){var e=new ss(this.clientId,this.allowTabSynchronization,Date.now());return cl(t).put(ss.key,e)},sl.isAvailable=function(){return Yo.isAvailable()},sl.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},sl.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=cl(t);return n.get(ss.key).next((function(t){return e.isLocalClient(t)?(Lr(nl,"Releasing primary lease."),n.delete(ss.key)):Po.resolve()}))},sl.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Fr("Detected an update time that is in the future: "+t+" > "+n),1))},sl.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},sl.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(Vr(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},sl.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},sl.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(Vr("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},sl.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return Lr(nl,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Fr(nl,"Failed to get zombied client id.",t),!1}},sl.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){Fr("Failed to set zombie client id.",t)}},sl.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},sl.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},sl.MAIN_DATABASE="main",sl);function sl(t,e,n,r,i,o,a,u){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.queue=o,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new fl(this,i),this.dbName=e+sl.MAIN_DATABASE,this.serializer=new zs(a),this.document=r.document,this.queryCache=new aa(this.referenceDelegate,this.serializer),this.indexManager=new js,this.remoteDocumentCache=new Qu(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new Qr(Kr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}function ll(t){return f(this,void 0,void 0,(function(){return p(this,(function(e){if(!function(t){return t.code===Kr.FAILED_PRECONDITION&&t.message===rl}(t))throw t;return Lr(nl,"Unexpectedly lost primary lease"),[2]}))}))}function cl(t){return t.store(ss.store)}function hl(t){return t.store(Rs.store)}var fl=(pl.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next((function(t){return e.next((function(e){return t+e}))}))},pl.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},pl.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},pl.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,(function(t,n){return e(n)}))},pl.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},pl.prototype.addReference=function(t,e){return dl(t,e)},pl.prototype.removeReference=function(t,e){return dl(t,e)},pl.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},pl.prototype.removeMutationReference=function(t,e){return dl(t,e)},pl.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Po.resolve(!0):function(t,e){var n=!1;return Ko(t).iterateSerial((function(r){return Vo(t,r,e).next((function(t){return t&&(n=!0),Po.resolve(!t)}))})).next((function(){return n}))}(t,e)},pl.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(t,(function(a,u){if(u<=e){var s=n.isPinned(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),ha(t).delete(function(t){return[0,Ji(t.path)]}(a))}))}));i.push(s)}})).next((function(){return Po.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},pl.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(t,n)},pl.prototype.updateLimboDocument=function(t,e){return dl(t,e)},pl.prototype.forEachOrphanedDocument=function(t,e){var n,r=ha(t),i=xi.INVALID;return r.iterate({index:Is.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),u=r.sequenceNumber;0===o?(i!==xi.INVALID&&e(new zi(eo(n)),i),i=u,n=a):i=xi.INVALID})).next((function(){i!==xi.INVALID&&e(new zi(eo(n)),i)}))},pl.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},pl);function pl(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new Zs(this,e)}function dl(t,e){return ha(t).put(function(t,e){return new Is(0,Ji(t.path),e)}(e,t.currentSequenceNumber))}var ml=(vl.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.getDocumentInternal(t,e,r)}))},vl.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t}))},vl.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Eo();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)})),r},vl.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.getLocalViewOfDocuments(t,e)}))},vl.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=wo();return i.forEach((function(t,e){e=e||new Mu(t,io.forDeletedDoc()),o=o.insert(t,e)})),o}))},vl.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},vl.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new zi(e)).next((function(t){var e=So();return t instanceof Ou&&(e=e.insert(t.key,t)),e}))},vl.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;Vr(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=So();return this.indexManager.getCollectionParents(t,r).next((function(o){return Po.forEach(o,(function(o){var a=e.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(t,a).next((function(t){t.forEach((function(t,e){i=i.insert(t,e)}))}))})).next((function(){return i}))}))},vl.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next((function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return r=e,i.addMissingBaseDocuments(t,r,n).next((function(t){n=t;for(var e=0,i=r;e<i.length;e++)for(var o=i[e],a=0,u=o.mutations;a<u.length;a++){var s=u[a],l=s.key,c=n.get(l),h=s.applyToLocalView(c,c,o.localWriteTime);n=h instanceof Ou?n.insert(l,h):n.remove(l)}}))})).next((function(){return n.forEach((function(t,r){e.matches(r)||(n=n.remove(t))})),n}))},vl.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=No(),i=0,o=e;i<o.length;i++)for(var a=0,u=o[i].mutations;a<u.length;a++){var s=u[a];s instanceof Na&&null===n.get(s.key)&&(r=r.add(s.key))}var l=n;return this.remoteDocumentCache.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Ou&&(l=l.insert(t,e))})),l}))},vl);function vl(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}var yl=(gl.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},gl.prototype.addReference=function(t,e){var n=new bl(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},gl.prototype.addReferences=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},gl.prototype.removeReference=function(t,e){this.removeRef(new bl(t,e))},gl.prototype.removeReferences=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},gl.prototype.removeReferencesForId=function(t){var e=this,n=zi.EMPTY,r=new bl(n,t),i=new bl(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(t){e.removeRef(t),o.push(t.key)})),o},gl.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach((function(e){return t.removeRef(e)}))},gl.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},gl.prototype.referencesForId=function(t){var e=zi.EMPTY,n=new bl(e,t),r=new bl(e,t+1),i=No();return this.refsByTarget.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},gl.prototype.containsKey=function(t){var e=new bl(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},gl);function gl(){this.refsByKey=new mo(bl.compareByKey),this.refsByTarget=new mo(bl.compareByTargetId)}var bl=(wl.compareByKey=function(t,e){return zi.comparator(t.key,e.key)||bi(t.targetOrBatchId,e.targetOrBatchId)},wl.compareByTargetId=function(t,e){return bi(t.targetOrBatchId,e.targetOrBatchId)||zi.comparator(t.key,e.key)},wl);function wl(t,e){this.key=t,this.targetOrBatchId=e}var El="LocalStore",Tl=(Sl.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",(function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next((function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new ml(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)})).next((function(t){for(var i=[],o=[],a=No(),u=0,s=r;u<s.length;u++){var l=s[u];i.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var f=h[c];a=a.add(f.key)}}for(var p=0,d=t;p<d.length;p++){l=d[p],o.push(l.batchId);for(var m=0,v=l.mutations;m<v.length;m++)f=v[m],a=a.add(f.key)}return e.localDocuments.getDocuments(n,a).next((function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}}))}))}))},Sl.prototype.localWrite=function(t){var e=this,n=no.now(),r=t.reduce((function(t,e){return t.add(e.key)}),No());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(i){return e.localDocuments.getDocuments(i,r).next((function(r){for(var o=[],a=0,u=t;a<u.length;a++){var s=u[a],l=s.extractBaseValue(r.get(s.key));null!=l&&o.push(new Na(s.key,l,l.fieldMask(),ba.exists(!0)))}return e.mutationQueue.addMutationBatch(i,n,o,t).next((function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}}))}))}))},Sl.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.mutationQueue.lookupMutationKeys(n,t).next((function(t){return t?e.localDocuments.getDocuments(n,t):Po.resolve(null)}))}))},Sl.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next((function(){return e.applyWriteToRemoteDocuments(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,r)}))}))},Sl.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next((function(t){return Vr(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,r)}))}))},Sl.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))},Sl.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.mutationQueue.getLastStreamToken(e)}))},Sl.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.mutationQueue.setLastStreamToken(n,t)}))},Sl.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)}))},Sl.prototype.applyRemoteEvent=function(t){var e=this,n=this.remoteDocuments.newChangeBuffer(),r=t.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(i){var o=[];$r(t.targetChanges,(function(t,n){var a=e.queryDataByTarget[t];if(a){o.push(e.queryCache.removeMatchingKeys(i,n.removedDocuments,t).next((function(){return e.queryCache.addMatchingKeys(i,n.addedDocuments,t)})));var u=n.resumeToken;if(0<u.length){var s=a.withResumeToken(u,r);e.queryDataByTarget[t]=s,Sl.shouldPersistQueryData(a,s,n)&&o.push(e.queryCache.updateQueryData(i,s))}}}));var a=wo(),u=No();if(t.documentUpdates.forEach((function(t,e){u=u.add(t)})),o.push(n.getEntries(i,u).next((function(r){t.documentUpdates.forEach((function(u,s){var l=r.get(u);s instanceof Mu&&s.version.isEqual(io.MIN)?(n.removeEntry(u),a=a.insert(u,s)):null==l||0<s.version.compareTo(l.version)||0===s.version.compareTo(l.version)&&l.hasPendingWrites?(io.MIN.isEqual(t.snapshotVersion)&&Fr(El,"Cannot add a document when the remote version is zero"),n.addEntry(s),a=a.insert(u,s)):Lr(El,"Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",s.version),t.resolvedLimboDocuments.has(u)&&o.push(e.persistence.referenceDelegate.updateLimboDocument(i,u))}))}))),!r.isEqual(io.MIN)){var s=e.queryCache.getLastRemoteSnapshotVersion(i).next((function(t){return Vr(0<=r.compareTo(t),"Watch stream reverted to previous snapshot?? "+r+" < "+t),e.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,r)}));o.push(s)}return Po.waitFor(o).next((function(){return n.apply(i)})).next((function(){return e.localDocuments.getLocalViewOfDocuments(i,a)}))}))},Sl.shouldPersistQueryData=function(t,e,n){return Vr(0<e.resumeToken.length,"Attempted to persist query data with no resume token"),0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size},Sl.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Po.forEach(t,(function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Po.forEach(t.removedKeys,(function(t){return e.persistence.referenceDelegate.removeReference(n,t)}))}))}))},Sl.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)}))},Sl.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.localDocuments.getDocument(n,t)}))},Sl.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",(function(n){var r;return e.queryCache.getQueryData(n,t).next((function(i){return i?(r=i,Po.resolve()):e.queryCache.allocateTargetId(n).next((function(i){return r=new qs(t,i,Ms.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)}))})).next((function(){return Vr(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r}))}))},Sl.prototype.releaseQuery=function(t,e){var n=this,r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,(function(r){return n.queryCache.getQueryData(r,t).next((function(i){Vr(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],u=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Po.resolve():Po.forEach(u,(function(t){return n.persistence.referenceDelegate.removeReference(r,t)})).next((function(){return n.persistence.referenceDelegate.removeTarget(r,a)}))}))}))},Sl.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",(function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)}))},Sl.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)}))},Sl.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},Sl.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},Sl.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},Sl.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Po.resolve();return o.forEach((function(r){a=a.next((function(){return n.getEntry(t,r)})).next((function(t){var o=t,a=e.docVersions.get(r);Vr(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):Vr(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(t,i)}))},Sl.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.queryDataByTarget)}))},Sl.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",(function(n){return e.queryCache.getQueryDataForTarget(n,t).next((function(t){return t?t.query:null}))}))},Sl.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.remoteDocuments.getNewDocumentChanges(e)}))},Sl.RESUME_TOKEN_MAX_AGE_MICROS=3e8,Sl);function Sl(t,e){this.persistence=t,this.localViewReferences=new yl,this.queryDataByTarget={},Vr(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new ml(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}var Il=(kl.prototype.checkEmpty=function(t){return Po.resolve(0===this.mutationQueue.length)},kl.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");Vr(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return Vr(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Po.resolve()},kl.prototype.getLastStreamToken=function(t){return Po.resolve(this.lastStreamToken)},kl.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Po.resolve()},kl.prototype.addMutationBatch=function(t,e,n,r){Vr(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&Vr(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new _o(i,e,n,r);this.mutationQueue.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new bl(s.key,i)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast())}return Po.resolve(o)},kl.prototype.lookupMutationBatch=function(t,e){return Po.resolve(this.findMutationBatch(e))},kl.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return Vr(null!=n,"Failed to find local mutation batch."),Po.resolve(n.keys())},kl.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.indexOfBatchId(n),i=r<0?0:r;return Po.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},kl.prototype.getHighestUnacknowledgedBatchId=function(){return Po.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},kl.prototype.getAllMutationBatches=function(t){return Po.resolve(this.mutationQueue.slice())},kl.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new bl(e,0),i=new bl(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(t){Vr(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);Vr(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),Po.resolve(o)},kl.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new mo(bi);return e.forEach((function(t){var e=new bl(t,0),i=new bl(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],(function(e){Vr(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)}))})),Po.resolve(this.findMutationBatches(r))},kl.prototype.getAllMutationBatchesAffectingQuery=function(t,e){Vr(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;zi.isDocumentKey(i)||(i=i.child(""));var o=new bl(new zi(i),0),a=new mo(bi);return this.batchesByDocumentKey.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)}),o),Po.resolve(this.findMutationBatches(a))},kl.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)})),n},kl.prototype.removeMutationBatch=function(t,e){var n=this;Vr(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Po.forEach(e.mutations,(function(i){var o=new bl(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)})).next((function(){n.batchesByDocumentKey=r}))},kl.prototype.removeCachedMutationKeys=function(t){},kl.prototype.containsKey=function(t,e){var n=new bl(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Po.resolve(e.isEqual(r&&r.key))},kl.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&Vr(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Po.resolve()},kl.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return Vr(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},kl.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},kl.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return Vr(n.batchId===t,"If found batch must match"),n},kl);function kl(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=zr(),this.batchesByDocumentKey=new mo(bl.compareByKey)}var Cl=(Nl.prototype.getTargetCount=function(t){return Po.resolve(this.targetCount)},Nl.prototype.forEachTarget=function(t,e){return this.queries.forEach((function(t,n){return e(n)})),Po.resolve()},Nl.prototype.getLastRemoteSnapshotVersion=function(t){return Po.resolve(this.lastRemoteSnapshotVersion)},Nl.prototype.getHighestSequenceNumber=function(t){return Po.resolve(this.highestSequenceNumber)},Nl.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Po.resolve(e)},Nl.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Po.resolve()},Nl.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},Nl.prototype.addQueryData=function(t,e){return Vr(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Po.resolve()},Nl.prototype.updateQueryData=function(t,e){return Vr(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Po.resolve()},Nl.prototype.removeQueryData=function(t,e){return Vr(0<this.targetCount,"Removing a target from an empty cache"),Vr(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Po.resolve()},Nl.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach((function(a,u){u.sequenceNumber<=e&&!n[u.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,u.targetId)),i++)})),Po.waitFor(o).next((function(){return i}))},Nl.prototype.getQueryCount=function(t){return Po.resolve(this.targetCount)},Nl.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Po.resolve(n)},Nl.prototype.getQueryDataForTarget=function(t,e){return Ur("Not yet implemented.")},Nl.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.addReference(t,e))})),Po.waitFor(i)},Nl.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.removeReference(t,e))})),Po.waitFor(i)},Nl.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Po.resolve()},Nl.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Po.resolve(n)},Nl.prototype.containsKey=function(t,e){return Po.resolve(this.references.containsKey(e))},Nl);function Nl(t){this.persistence=t,this.queries=new Vu((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=io.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new yl,this.targetCount=0,this.targetIdGenerator=Qo.forQueryCache()}var Al,Dl=(_l.prototype.addEntry=function(t,e){var n=e.key,r=this.docs.get(n),i=r?r.size:0,o=this.sizer(e);return this.docs=this.docs.insert(n,{maybeDocument:e,size:o}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())},_l.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},_l.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Po.resolve(n?n.maybeDocument:null)},_l.prototype.getEntries=function(t,e){var n=this,r=Eo();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)})),Po.resolve(r)},_l.prototype.getDocumentsMatchingQuery=function(t,e){Vr(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=So(),r=new zi(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,u=o.value.maybeDocument;if(!e.path.isPrefixOf(a.path))break;u instanceof Ou&&e.matches(u)&&(n=n.insert(u.key,u))}return Po.resolve(n)},_l.prototype.forEachDocumentKey=function(t,e){return Po.forEach(this.docs,(function(t){return e(t)}))},_l.prototype.getNewDocumentChanges=function(t){var e=this,n=wo();return this.newDocumentChanges.forEach((function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new Mu(t,io.forDeletedDoc());n=n.insert(t,i)})),this.newDocumentChanges=No(),Po.resolve(n)},_l.prototype.newChangeBuffer=function(){return new _l.RemoteDocumentChangeBuffer(this)},_l.prototype.getSize=function(t){return Po.resolve(this.size)},_l.RemoteDocumentChangeBuffer=(c(xl,Al=Bu),xl.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i?n.push(e.documentCache.addEntry(t,i)):e.documentCache.removeEntry(r)})),Po.waitFor(n)},xl.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},xl.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},xl),_l);function _l(t,e){this.indexManager=t,this.sizer=e,this.docs=new ao(zi.comparator),this.newDocumentChanges=No(),this.size=0}function xl(t){var e=Al.call(this)||this;return e.documentCache=t,e}var Ol=(Rl.createLruPersistence=function(t,e,n){return new Rl(t,(function(t){return new Fl(t,new zs(e),n)}))},Rl.createEagerPersistence=function(t){return new Rl(t,(function(t){return new Ml(t)}))},Rl.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(Rl.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),Rl.prototype.getActiveClients=function(){return f(this,void 0,void 0,(function(){return p(this,(function(t){return[2,[this.clientId]]}))}))},Rl.prototype.setPrimaryStateListener=function(t){return t(!0)},Rl.prototype.setDatabaseDeletedListener=function(){},Rl.prototype.setNetworkEnabled=function(t){},Rl.prototype.getIndexManager=function(){return this.indexManager},Rl.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Il(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},Rl.prototype.getQueryCache=function(){return this.queryCache},Rl.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},Rl.prototype.runTransaction=function(t,e,n){var r=this;Lr("MemoryPersistence","Starting transaction:",t);var i=new Pl(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(t){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return t}))})).toPromise()},Rl.prototype.mutationQueuesContainKey=function(t,e){return Po.or(function(t){var e=[];return Jr(t,(function(t,n){return e.push(n)})),e}(this.mutationQueues).map((function(n){return function(){return n.containsKey(t,e)}})))},Rl);function Rl(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new xi(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Cl(this),this.indexManager=new ts,this.remoteDocumentCache=new Dl(this.indexManager,(function(t){return n.referenceDelegate.documentSize(t)}))}var Pl=function(t){this.currentSequenceNumber=t},Ml=(Object.defineProperty(Ll.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw Ur("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),Ll.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},Ll.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Po.resolve()},Ll.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Po.resolve()},Ll.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Po.resolve()},Ll.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.orphanedDocuments.add(t)}))})).next((function(){return r.removeQueryData(t,e)}))},Ll.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},Ll.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Po.forEach(this.orphanedDocuments,(function(r){return e.isReferenced(t,r).next((function(t){t||n.removeEntry(r)}))})).next((function(){return e._orphanedDocuments=null,n.apply(t)}))},Ll.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next((function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)}))},Ll.prototype.documentSize=function(t){return 0},Ll.prototype.isReferenced=function(t,e){var n=this;return Po.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Po.resolve(n.inMemoryPins.containsKey(e))}])},Ll);function Ll(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}var Fl=(jl.prototype.onTransactionStarted=function(){},jl.prototype.onTransactionCommitted=function(t){return Po.resolve()},jl.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},jl.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},jl.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},jl.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Po.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(t,r,i).next((function(t){return t?Po.resolve():e(i)}))}))},jl.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},jl.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},jl.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(t,(function(i){return n.isPinned(t,i,e).next((function(t){t||(r++,o.removeEntry(i))}))})).next((function(){return o.apply(t)})).next((function(){return r}))},jl.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Po.resolve()},jl.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(t,n)},jl.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Po.resolve()},jl.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Po.resolve()},jl.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Po.resolve()},jl.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ur("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},jl.prototype.isPinned=function(t,e,n){var r=this;return Po.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Po.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Po.resolve(void 0!==t&&n<t)}])},jl.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},jl);function jl(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Vu((function(t){return Ji(t.path)})),this.garbageCollector=new Zs(this,n)}var Ul=Number,Vl=Ul.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),ql=Ul.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Bl=Ul.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function zl(t){return null==t}function Wl(t){return Bl(t)&&t<=ql&&Vl<=t}var Kl=(Ql.prototype.reset=function(){this.currentBaseMs=0},Ql.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},Ql.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);0<this.currentBaseMs&&Lr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return e.lastAttemptTime=Date.now(),t()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},Ql.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},Ql.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},Ql);function Ql(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}var Gl,Hl,Yl="PersistentStream";(Hl=Gl=Gl||{})[Hl.Initial=0]="Initial",Hl[Hl.Starting=1]="Starting",Hl[Hl.Open=2]="Open",Hl[Hl.Error=3]="Error",Hl[Hl.Backoff=4]="Backoff";var Xl=($l.prototype.isStarted=function(){return this.state===Gl.Starting||this.state===Gl.Open||this.state===Gl.Backoff},$l.prototype.isOpen=function(){return this.state===Gl.Open},$l.prototype.start=function(){this.state!==Gl.Error?(Vr(this.state===Gl.Initial,"Already started"),this.auth()):this.performBackoff()},$l.prototype.stop=function(){return f(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(Gl.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},$l.prototype.inhibitBackoff=function(){Vr(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Gl.Initial,this.backoff.reset()},$l.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return t.handleIdleCloseTimer()})))},$l.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},$l.prototype.handleIdleCloseTimer=function(){return f(this,void 0,void 0,(function(){return p(this,(function(t){return this.isOpen()?[2,this.close(Gl.Initial)]:[2]}))}))},$l.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},$l.prototype.close=function(t,e){return f(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return Vr(this.isStarted(),"Only started streams should be closed."),Vr(t===Gl.Error||zl(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==Gl.Error?this.backoff.reset():e&&e.code===Kr.RESOURCE_EXHAUSTED?(Fr(e.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===Kr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}}))}))},$l.prototype.tearDown=function(){},$l.prototype.auth=function(){var t=this;Vr(this.state===Gl.Initial,"Must be in initial state to auth"),this.state=Gl.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(e){t.closeCount===n&&t.startStream(e)}),(function(n){e((function(){var e=new Qr(Kr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)}))}))},$l.prototype.startStream=function(t){var e=this;Vr(this.state===Gl.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen((function(){n((function(){return Vr(e.state===Gl.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=Gl.Open,e.listener.onOpen()}))})),this.stream.onClose((function(t){n((function(){return e.handleStreamClose(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},$l.prototype.performBackoff=function(){var t=this;Vr(this.state===Gl.Error,"Should only perform backoff when in Error state"),this.state=Gl.Backoff,this.backoff.backoffAndRun((function(){return f(t,void 0,void 0,(function(){return p(this,(function(t){return Vr(this.state===Gl.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Gl.Initial,this.start(),Vr(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},$l.prototype.handleStreamClose=function(t){return Vr(this.isStarted(),"Can't handle server close on non-started stream"),Lr(Yl,"close with error: "+t),this.stream=null,this.close(Gl.Error,t)},$l.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget((function(){return e.closeCount===t?n():(Lr(Yl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},$l);function $l(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Gl.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Kl(t,e)}var Jl,Zl=(c(tc,Jl=Xl),tc.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},tc.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},tc.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},tc.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},tc);function tc(t,e,n,r,i){var o=Jl.call(this,t,Ki.ListenStreamConnectionBackoff,Ki.ListenStreamIdle,e,n,i)||this;return o.serializer=r,o}var ec,nc=(c(rc,ec=Xl),Object.defineProperty(rc.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),rc.prototype.start=function(){this.handshakeComplete_=!1,ec.prototype.start.call(this)},rc.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},rc.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},rc.prototype.onMessage=function(t){if(Vr(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return Vr(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},rc.prototype.writeHandshake=function(){Vr(this.isOpen(),"Writing handshake requires an opened stream"),Vr(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},rc.prototype.writeMutations=function(t){var e=this;Vr(this.isOpen(),"Writing mutations requires an opened stream"),Vr(this.handshakeComplete_,"Handshake must be complete before writing mutations"),Vr(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map((function(t){return e.serializer.toMutation(t)}))};this.sendRequest(n)},rc);function rc(t,e,n,r,i){var o=ec.call(this,t,Ki.WriteStreamConnectionBackoff,Ki.WriteStreamIdle,e,n,i)||this;return o.serializer=r,o.handshakeComplete_=!1,o.lastStreamToken=zr(),o}var ic=(oc.prototype.newPersistentWriteStream=function(t){return new nc(this.queue,this.connection,this.credentials,this.serializer,t)},oc.prototype.newPersistentWatchStream=function(t){return new Zl(this.queue,this.connection,this.credentials,this.serializer,t)},oc.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map((function(t){return e.serializer.toMutation(t)}))};return this.invokeRPC("Commit",n).then((function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)}))},oc.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map((function(t){return e.serializer.toName(t)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=wo();n.forEach((function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);Vr(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},oc.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(t,e,r)})).catch((function(t){throw t.code===Kr.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},oc.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(t,e,r)})).catch((function(t){throw t.code===Kr.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},oc);function oc(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}var ac,uc,sc,lc,cc=(hc.prototype.lookup=function(t){return f(this,void 0,void 0,(function(){var e,n=this;return p(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Qr(Kr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof Mu||t instanceof Ou?n.recordVersion(t):Ur("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},hc.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},hc.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t)},hc.prototype.delete=function(t){this.write([new Fa(t,this.precondition(t))]),this.writtenDocs.add(t)},hc.prototype.commit=function(){return f(this,void 0,void 0,(function(){var t;return p(this,(function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach((function(e){t=t.remove(e.key)})),!t.isEmpty())throw new Qr(Kr.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}}))}))},hc.prototype.recordVersion=function(t){var e;if(t instanceof Ou)e=t.version;else{if(!(t instanceof Mu))throw Ur("Document in a transaction was a "+t.constructor.name);e=io.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new Qr(Kr.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},hc.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?ba.updateTime(e):ba.NONE},hc.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(this.writtenDocs.has(t)||!e)return ba.exists(!0);if(e.isEqual(io.forDeletedDoc()))throw new Qr(Kr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ba.updateTime(e)},hc.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},hc.prototype.ensureCommitNotCalled=function(){Vr(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},hc);function hc(t){this.datastore=t,this.readVersions=ko(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}(uc=ac=ac||{})[uc.Unknown=0]="Unknown",uc[uc.Online=1]="Online",uc[uc.Offline=2]="Offline",(lc=sc=sc||{})[lc.RemoteStore=0]="RemoteStore",lc[lc.SharedClientState=1]="SharedClientState";var fc,pc,dc=(mc.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(ac.Unknown),Vr(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Ki.OnlineStateTimeout,1e4,(function(){return t.onlineStateTimer=null,Vr(t.state===ac.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(ac.Offline),Promise.resolve()})))},mc.prototype.handleWatchStreamFailure=function(t){this.state===ac.Online?(this.setAndBroadcast(ac.Unknown),Vr(0===this.watchStreamFailures,"watchStreamFailures must be 0"),Vr(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(ac.Offline)))},mc.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===ac.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},mc.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},mc.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(Fr(e),this.shouldWarnClientIsOffline=!1):Lr("OnlineStateTracker",e)},mc.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},mc);function mc(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=ac.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}function vc(t){switch(t){case Kr.OK:return Ur("Treated status OK as error");case Kr.CANCELLED:case Kr.UNKNOWN:case Kr.DEADLINE_EXCEEDED:case Kr.RESOURCE_EXHAUSTED:case Kr.INTERNAL:case Kr.UNAVAILABLE:case Kr.UNAUTHENTICATED:return!1;case Kr.INVALID_ARGUMENT:case Kr.NOT_FOUND:case Kr.ALREADY_EXISTS:case Kr.PERMISSION_DENIED:case Kr.FAILED_PRECONDITION:case Kr.ABORTED:case Kr.OUT_OF_RANGE:case Kr.UNIMPLEMENTED:case Kr.DATA_LOSS:return!0;default:return Ur("Unknown status code: "+t)}}function yc(t){if(void 0===t)return Fr("GRPC error has no .code"),Kr.UNKNOWN;switch(t){case fc.OK:return Kr.OK;case fc.CANCELLED:return Kr.CANCELLED;case fc.UNKNOWN:return Kr.UNKNOWN;case fc.DEADLINE_EXCEEDED:return Kr.DEADLINE_EXCEEDED;case fc.RESOURCE_EXHAUSTED:return Kr.RESOURCE_EXHAUSTED;case fc.INTERNAL:return Kr.INTERNAL;case fc.UNAVAILABLE:return Kr.UNAVAILABLE;case fc.UNAUTHENTICATED:return Kr.UNAUTHENTICATED;case fc.INVALID_ARGUMENT:return Kr.INVALID_ARGUMENT;case fc.NOT_FOUND:return Kr.NOT_FOUND;case fc.ALREADY_EXISTS:return Kr.ALREADY_EXISTS;case fc.PERMISSION_DENIED:return Kr.PERMISSION_DENIED;case fc.FAILED_PRECONDITION:return Kr.FAILED_PRECONDITION;case fc.ABORTED:return Kr.ABORTED;case fc.OUT_OF_RANGE:return Kr.OUT_OF_RANGE;case fc.UNIMPLEMENTED:return Kr.UNIMPLEMENTED;case fc.DATA_LOSS:return Kr.DATA_LOSS;default:return Ur("Unknown status code: "+t)}}(pc=fc=fc||{})[pc.OK=0]="OK",pc[pc.CANCELLED=1]="CANCELLED",pc[pc.UNKNOWN=2]="UNKNOWN",pc[pc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pc[pc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pc[pc.NOT_FOUND=5]="NOT_FOUND",pc[pc.ALREADY_EXISTS=6]="ALREADY_EXISTS",pc[pc.PERMISSION_DENIED=7]="PERMISSION_DENIED",pc[pc.UNAUTHENTICATED=16]="UNAUTHENTICATED",pc[pc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pc[pc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pc[pc.ABORTED=10]="ABORTED",pc[pc.OUT_OF_RANGE=11]="OUT_OF_RANGE",pc[pc.UNIMPLEMENTED=12]="UNIMPLEMENTED",pc[pc.INTERNAL=13]="INTERNAL",pc[pc.UNAVAILABLE=14]="UNAVAILABLE",pc[pc.DATA_LOSS=15]="DATA_LOSS";var gc,bc,wc,Ec,Tc=(Sc.emptySet=function(t){return new Sc(t.comparator)},Sc.prototype.has=function(t){return null!=this.keyedMap.get(t)},Sc.prototype.get=function(t){return this.keyedMap.get(t)},Sc.prototype.first=function(){return this.sortedSet.minKey()},Sc.prototype.last=function(){return this.sortedSet.maxKey()},Sc.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},Sc.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(Sc.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),Sc.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},Sc.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},Sc.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},Sc.prototype.isEqual=function(t){if(!(t instanceof Sc))return!1;if(this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},Sc.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},Sc.prototype.copy=function(t,e){var n=new Sc;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n},Sc);function Sc(t){this.comparator=t?function(e,n){return t(e,n)||zi.comparator(e.key,n.key)}:function(t,e){return zi.comparator(t.key,e.key)},this.keyedMap=So(),this.sortedSet=new ao(this.comparator)}(bc=gc=gc||{})[bc.Added=0]="Added",bc[bc.Removed=1]="Removed",bc[bc.Modified=2]="Modified",bc[bc.Metadata=3]="Metadata",(Ec=wc=wc||{})[Ec.Local=0]="Local",Ec[Ec.Synced=1]="Synced";var Ic=(kc.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==gc.Added&&n.type===gc.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===gc.Metadata&&n.type!==gc.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===gc.Modified&&n.type===gc.Modified?this.changeMap=this.changeMap.insert(e,{type:gc.Modified,doc:t.doc}):t.type===gc.Modified&&n.type===gc.Added?this.changeMap=this.changeMap.insert(e,{type:gc.Added,doc:t.doc}):t.type===gc.Removed&&n.type===gc.Added?this.changeMap=this.changeMap.remove(e):t.type===gc.Removed&&n.type===gc.Modified?this.changeMap=this.changeMap.insert(e,{type:gc.Removed,doc:n.doc}):t.type===gc.Added&&n.type===gc.Removed?this.changeMap=this.changeMap.insert(e,{type:gc.Modified,doc:t.doc}):Ur("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},kc.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal((function(e,n){t.push(n)})),t},kc);function kc(){this.changeMap=new ao(zi.comparator)}var Cc=(Nc.fromInitialDocuments=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:gc.Added,doc:t})})),new Nc(t,e,Tc.emptySet(e),i,n,r,!0,!1)},Object.defineProperty(Nc.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),Nc.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},Nc);function Nc(t,e,n,r,i,o,a,u){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}var Ac=(Dc.createSynthesizedRemoteEventForCurrentChange=function(t,e){var n,r=((n={})[t]=_c.createSynthesizedTargetChangeForCurrentChange(t,e),n);return new Dc(io.MIN,r,Do(),wo(),No())},Dc);function Dc(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}var _c=(xc.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new xc(zr(),e,No(),No(),No())},xc);function xc(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}var Oc,Rc,Pc=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Mc=function(t,e){this.targetId=t,this.existenceFilter=e};(Rc=Oc=Oc||{})[Rc.NoChange=0]="NoChange",Rc[Rc.Added=1]="Added",Rc[Rc.Removed=2]="Removed",Rc[Rc.Current=3]="Current",Rc[Rc.Reset=4]="Reset";var Lc=function(t,e,n,r){void 0===n&&(n=zr()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Fc=(Object.defineProperty(jc.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(jc.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(jc.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(jc.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),jc.prototype.updateResumeToken=function(t){0<t.length&&(this._hasPendingChanges=!0,this._resumeToken=t)},jc.prototype.toTargetChange=function(){var t=No(),e=No(),n=No();return this.documentChanges.forEach((function(r,i){switch(i){case gc.Added:t=t.add(r);break;case gc.Modified:e=e.add(r);break;case gc.Removed:n=n.add(r);break;default:Ur("Encountered invalid change type: "+i)}})),new _c(this._resumeToken,this._current,t,e,n)},jc.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Bc()},jc.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},jc.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},jc.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},jc.prototype.recordTargetResponse=function(){this.pendingResponses-=1},jc.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},jc);function jc(){this.pendingResponses=0,this.documentChanges=Bc(),this._resumeToken=zr(),this._current=!1,this._hasPendingChanges=!0}var Uc=(Vc.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof Ou?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof Mu&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.removeDocumentFromTarget(r,t.key,t.newDoc)},Vc.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ensureTargetState(n);switch(t.state){case Oc.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Oc.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Oc.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),Vr(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Oc.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Oc.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:Ur("Unknown target watch change state: "+t.state)}}))},Vc.prototype.forEachTarget=function(t,e){0<t.targetIds.length?t.targetIds.forEach(e):$r(this.targetStates,e)},Vc.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new zi(i.path);this.removeDocumentFromTarget(e,o,new Mu(o,io.forDeletedDoc()))}else Vr(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},Vc.prototype.createRemoteEvent=function(t){var e=this,n={};$r(this.targetStates,(function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new zi(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new Mu(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=No();this.pendingDocumentTargetMapping.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Ms.LimboResolution||(i=!1)})),i&&(r=r.add(t))}));var i=new Ac(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=wo(),this.pendingDocumentTargetMapping=qc(),this.pendingTargetResets=new mo(bi),i},Vc.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?gc.Modified:gc.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},Vc.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,gc.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},Vc.prototype.removeTarget=function(t){delete this.targetStates[t]},Vc.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},Vc.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},Vc.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Fc),this.targetStates[t]},Vc.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new mo(bi),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},Vc.prototype.isActiveTarget=function(t){var e=null!==this.queryDataForActiveTarget(t);return e||Lr("WatchChangeAggregator","Detected inactive target",t),e},Vc.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},Vc.prototype.resetTarget=function(t){var e=this;Vr(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Fc,this.metadataProvider.getRemoteKeysForTarget(t).forEach((function(n){e.removeDocumentFromTarget(t,n,null)}))},Vc.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},Vc);function Vc(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=wo(),this.pendingDocumentTargetMapping=qc(),this.pendingTargetResets=new mo(bi)}function qc(){return new ao(zi.comparator)}function Bc(){return new ao(zi.comparator)}var zc="RemoteStore",Wc=(Kc.prototype.start=function(){return this.enableNetwork()},Kc.prototype.enableNetwork=function(){return f(this,void 0,void 0,(function(){var t;return p(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(ac.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},Kc.prototype.disableNetwork=function(){return f(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(ac.Offline),[2]}}))}))},Kc.prototype.disableNetworkInternal=function(){return f(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),0<this.writePipeline.length&&(Lr(zc,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},Kc.prototype.shutdown=function(){return f(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return Lr(zc,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(ac.Unknown),[2]}}))}))},Kc.prototype.listen=function(t){Vr(!Yr(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},Kc.prototype.unlisten=function(t){Vr(Yr(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),Zr(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(ac.Unknown))},Kc.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},Kc.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},Kc.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},Kc.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},Kc.prototype.startWatchStream=function(){Vr(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Uc(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},Kc.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!Zr(this.listenTargets)},Kc.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},Kc.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},Kc.prototype.onWatchStreamOpen=function(){return f(this,void 0,void 0,(function(){var t=this;return p(this,(function(e){return $r(this.listenTargets,(function(e,n){t.sendWatchRequest(n)})),[2]}))}))},Kc.prototype.onWatchStreamClose=function(t){return f(this,void 0,void 0,(function(){return p(this,(function(e){return void 0===t&&Vr(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(ac.Unknown),[2]}))}))},Kc.prototype.onWatchStreamChange=function(t,e){return f(this,void 0,void 0,(function(){var n;return p(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(ac.Online),t instanceof Lc&&t.state===Oc.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Pc?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Mc?this.watchChangeAggregator.handleExistenceFilter(t):(Vr(t instanceof Lc,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(io.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),0<=e.compareTo(n)?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},Kc.prototype.raiseWatchSnapshot=function(t){var e=this;Vr(!t.isEqual(io.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return $r(n.targetChanges,(function(n,r){if(0<r.resumeToken.length){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.withResumeToken(r.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(zr(),n.snapshotVersion),e.sendUnwatchRequest(t);var r=new qs(n.query,t,Ms.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},Kc.prototype.handleTargetError=function(t){var e=this;Vr(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return f(e,void 0,void 0,(function(){return p(this,(function(e){return Yr(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]}))}))}))})),r},Kc.prototype.fillWritePipeline=function(){return f(this,void 0,void 0,(function(){var t,e;return p(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},Kc.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},Kc.prototype.outstandingWrites=function(){return this.writePipeline.length},Kc.prototype.addToWritePipeline=function(t){Vr(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},Kc.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},Kc.prototype.startWriteStream=function(){Vr(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},Kc.prototype.onWriteStreamOpen=function(){return f(this,void 0,void 0,(function(){return p(this,(function(t){return this.writeStream.writeHandshake(),[2]}))}))},Kc.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}})).catch(ll)},Kc.prototype.onMutationResult=function(t,e){var n=this;Vr(0<this.writePipeline.length,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Oo.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},Kc.prototype.onWriteStreamClose=function(t){return f(this,void 0,void 0,(function(){var e=this;return p(this,(function(n){return void 0===t&&Vr(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then((function(){e.shouldStartWriteStream()&&e.startWriteStream()}))]:[2]}))}))},Kc.prototype.handleHandshakeError=function(t){return f(this,void 0,void 0,(function(){return p(this,(function(e){return vc(t.code)?(Lr(zc,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=zr(),[2,this.localStore.setLastStreamToken(zr()).catch(ll)]):[2]}))}))},Kc.prototype.handleWriteError=function(t){return f(this,void 0,void 0,(function(){var e,n=this;return p(this,(function(r){return function(t){return vc(t)&&t!==Kr.ABORTED}(t.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then((function(){return n.fillWritePipeline()}))]):[2]}))}))},Kc.prototype.createTransaction=function(){return new cc(this.datastore)},Kc.prototype.restartNetwork=function(){return f(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(ac.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},Kc.prototype.handleCredentialChange=function(){return f(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(Lr(zc,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Kc.prototype.applyPrimaryState=function(t){return f(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return(this.isPrimary=t)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(ac.Unknown),e.label=4;case 4:return[2]}}))}))},Kc);function Kc(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(t){n.enqueueAndForget((function(){return f(o,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(Lr(zc,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new dc(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}var Qc=(Object.defineProperty(Gc.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(Gc.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),Gc.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},Gc.prototype._compareTo=function(t){return bi(this._lat,t._lat)||bi(this._long,t._long)},Gc);function Gc(t,e){if(ei("GeoPoint",arguments,2),ii("GeoPoint","number",1,t),ii("GeoPoint","number",2,e),!isFinite(t)||t<-90||90<t)throw new Qr(Kr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Qr(Kr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}var Hc=(Yc.atPath=function(t){return new Yc(t)},Object.defineProperty(Yc.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[Th]:this.memoizedOrderBy=[new wh(t),Th];else{Vr(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:vh.ASCENDING;this.memoizedOrderBy.push(a===vh.ASCENDING?Th:Sh)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),Yc.prototype.addFilter=function(t){Vr(null==this.getInequalityFilterField()||!(t instanceof Zc)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),Vr(!this.isDocumentQuery(),"No filtering allowed for document query");var e=this.filters.concat([t]);return new Yc(this.path,this.collectionGroup,this.explicitOrderBy.slice(),e,this.limit,this.startAt,this.endAt)},Yc.prototype.addOrderBy=function(t){Vr(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var e=this.explicitOrderBy.concat([t]);return new Yc(this.path,this.collectionGroup,e,this.filters.slice(),this.limit,this.startAt,this.endAt)},Yc.prototype.withLimit=function(t){return new Yc(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},Yc.prototype.withStartAt=function(t){return new Yc(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},Yc.prototype.withEndAt=function(t){return new Yc(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},Yc.prototype.asCollectionQueryAtPath=function(t){return new Yc(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},Yc.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";zl(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},Yc.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(t+=", filters: ["+this.filters.join(", ")+"]"),zl(this.limit)||(t+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},Yc.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},Yc.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return Vr(n,"orderBy used that doesn't compare on key field"),0},Yc.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},Yc.prototype.hasLimit=function(){return!zl(this.limit)},Yc.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},Yc.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Zc&&n.isInequality())return n.field}return null},Yc.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Zc&&0<=t.indexOf(r.op))return r.op}return null},Yc.prototype.isDocumentQuery=function(){return zi.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},Yc.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},Yc.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):zi.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},Yc.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},Yc.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},Yc.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},Yc.prototype.assertValidBound=function(t){Vr(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},Yc);function Yc(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}var Xc=($c.fromString=function(t){switch(t){case"<":return $c.LESS_THAN;case"<=":return $c.LESS_THAN_OR_EQUAL;case"==":return $c.EQUAL;case">=":return $c.GREATER_THAN_OR_EQUAL;case">":return $c.GREATER_THAN;case"array-contains":return $c.ARRAY_CONTAINS;case"in":return $c.IN;case"array-contains-any":return $c.ARRAY_CONTAINS_ANY;default:return Ur("Unknown FieldFilter operator: "+t)}},$c.prototype.toString=function(){return this.name},$c.prototype.isEqual=function(t){return this.name===t.name},$c.LESS_THAN=new $c("<"),$c.LESS_THAN_OR_EQUAL=new $c("<="),$c.EQUAL=new $c("=="),$c.GREATER_THAN=new $c(">"),$c.GREATER_THAN_OR_EQUAL=new $c(">="),$c.ARRAY_CONTAINS=new $c("array-contains"),$c.IN=new $c("in"),$c.ARRAY_CONTAINS_ANY=new $c("array-contains-any"),$c);function $c(t){this.name=t}var Jc,Zc=(c(th,Jc=function(){}),th.create=function(t,e,n){if(t.isKeyField())return e===Xc.IN?(Vr(n instanceof Nu,"Comparing on key with IN, but filter value not an ArrayValue"),Vr(n.internalValue.every((function(t){return t instanceof gu})),"Comparing on key with IN, but an array value was not a RefValue"),new oh(t,n)):(Vr(n instanceof gu,"Comparing on key, but filter value not a RefValue"),Vr(e!==Xc.ARRAY_CONTAINS&&e!==Xc.ARRAY_CONTAINS_ANY,"'"+e.toString()+"' queries don't make sense on document keys."),new nh(t,e,n));if(n.isEqual(Wa.INSTANCE)){if(e!==Xc.EQUAL)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new th(t,e,n)}if(n.isEqual(ru.NAN)){if(e!==Xc.EQUAL)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new th(t,e,n)}return e===Xc.ARRAY_CONTAINS?new sh(t,n):e===Xc.IN?(Vr(n instanceof Nu,"IN filter has invalid value: "+n.toString()),new hh(t,n)):e===Xc.ARRAY_CONTAINS_ANY?(Vr(n instanceof Nu,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new dh(t,n)):new th(t,e,n)},th.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},th.prototype.matchesComparison=function(t){switch(this.op){case Xc.LESS_THAN:return t<0;case Xc.LESS_THAN_OR_EQUAL:return t<=0;case Xc.EQUAL:return 0===t;case Xc.GREATER_THAN:return 0<t;case Xc.GREATER_THAN_OR_EQUAL:return 0<=t;default:return Ur("Unknown FieldFilter operator: "+this.op)}},th.prototype.isInequality=function(){return 0<=[Xc.LESS_THAN,Xc.LESS_THAN_OR_EQUAL,Xc.GREATER_THAN,Xc.GREATER_THAN_OR_EQUAL].indexOf(this.op)},th.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},th.prototype.isEqual=function(t){return t instanceof th&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},th.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},th);function th(t,e,n){var r=Jc.call(this)||this;return r.field=t,r.op=e,r.value=n,r}var eh,nh=(c(rh,eh=Zc),rh.prototype.matches=function(t){var e=this.value,n=zi.comparator(t.key,e.key);return this.matchesComparison(n)},rh);function rh(){return null!==eh&&eh.apply(this,arguments)||this}var ih,oh=(c(ah,ih=Zc),ah.prototype.matches=function(t){return this.value.internalValue.some((function(e){return t.key.isEqual(e.key)}))},ah);function ah(t,e){var n=ih.call(this,t,Xc.IN,e)||this;return n.value=e,n}var uh,sh=(c(lh,uh=Zc),lh.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Nu&&e.contains(this.value)},lh);function lh(t,e){return uh.call(this,t,Xc.ARRAY_CONTAINS,e)||this}var ch,hh=(c(fh,ch=Zc),fh.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},fh);function fh(t,e){var n=ch.call(this,t,Xc.IN,e)||this;return n.value=e,n}var ph,dh=(c(mh,ph=Zc),mh.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Nu&&n.internalValue.some((function(t){return e.value.contains(t)}))},mh);function mh(t,e){var n=ph.call(this,t,Xc.ARRAY_CONTAINS_ANY,e)||this;return n.value=e,n}var vh=(yh.prototype.toString=function(){return this.name},yh.ASCENDING=new yh("asc"),yh.DESCENDING=new yh("desc"),yh);function yh(t){this.name=t}var gh=(bh.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},bh.prototype.sortsBeforeDocument=function(t,e){Vr(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())Vr(o instanceof gu,"Bound has a non-key value where the key path is being used."),n=zi.comparator(o.key,e.key);else{var a=e.field(i.field);Vr(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===vh.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},bh.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];if(!n.isEqual(r))return!1}return!0},bh);function bh(t,e){this.position=t,this.before=e}var wh=(Eh.prototype.compare=function(t,e){var n=this.isKeyOrderBy?Ou.compareByKey(t,e):Ou.compareByField(this.field,t,e);switch(this.dir){case vh.ASCENDING:return n;case vh.DESCENDING:return-1*n;default:return Ur("Unknown direction: "+this.dir)}},Eh.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},Eh.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},Eh.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},Eh);function Eh(t,e){this.field=t,void 0===e&&(e=vh.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}var Th=new wh(qi.keyField(),vh.ASCENDING),Sh=new wh(qi.keyField(),vh.DESCENDING),Ih=(kh.prototype.applyToLocalView=function(t,e){return new fu(e,t)},kh.prototype.applyToRemoteDocument=function(t,e){return e},kh.prototype.computeBaseValue=function(t){return null},kh.prototype.isEqual=function(t){return t instanceof kh},kh.instance=new kh,kh);function kh(){}var Ch=(Nh.prototype.applyToLocalView=function(t,e){return this.apply(t)},Nh.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},Nh.prototype.apply=function(t){for(var e=Oh(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Nu(e)},Nh.prototype.computeBaseValue=function(t){return null},Nh.prototype.isEqual=function(t){return t instanceof Nh&&wi(t.elements,this.elements)},Nh);function Nh(t){this.elements=t}var Ah=(Dh.prototype.applyToLocalView=function(t,e){return this.apply(t)},Dh.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},Dh.prototype.apply=function(t){for(var e=Oh(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Nu(e)},Dh.prototype.computeBaseValue=function(t){return null},Dh.prototype.isEqual=function(t){return t instanceof Dh&&wi(t.elements,this.elements)},Dh);function Dh(t){this.elements=t}var _h=(xh.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);if(n instanceof tu&&this.operand instanceof tu){var r=n.internalValue+this.operand.internalValue;return new tu(r)}return r=n.internalValue+this.operand.internalValue,new ru(r)},xh.prototype.applyToRemoteDocument=function(t,e){return Vr(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},xh.prototype.computeBaseValue=function(t){return t instanceof Xa?t:new tu(0)},xh.prototype.isEqual=function(t){return t instanceof xh&&this.operand.isEqual(t.operand)},xh);function xh(t){this.operand=t}function Oh(t){return t instanceof Nu?t.internalValue.slice():[]}var Rh=(Ph.prototype.isEqual=function(t){return t&&t.count===this.count},Ph);function Ph(t){this.count=t}var Mh,Lh,Fh=((Mh={})[vh.ASCENDING.name]="ASCENDING",Mh[vh.DESCENDING.name]="DESCENDING",Mh),jh=((Lh={})[Xc.LESS_THAN.name]="LESS_THAN",Lh[Xc.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Lh[Xc.GREATER_THAN.name]="GREATER_THAN",Lh[Xc.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Lh[Xc.EQUAL.name]="EQUAL",Lh[Xc.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Lh[Xc.IN.name]="IN",Lh[Xc.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Lh),Uh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vh(t,e){Vr(!zl(t),e+" is missing")}function qh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):Ur("can't parse "+t)}var Bh=(zh.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},zh.prototype.unsafeCastProtoByteString=function(t){return t},zh.prototype.fromRpcStatus=function(t){var e=void 0===t.code?Kr.UNKNOWN:yc(t.code);return new Qr(e,t.message||"")},zh.prototype.toInt32Value=function(t){return zl(t)?void 0:{value:t}},zh.prototype.fromInt32Value=function(t){var e;return zl(e="object"==typeof t?t.value:t)?null:e},zh.prototype.toTimestamp=function(t){return{seconds:""+t.seconds,nanos:t.nanoseconds}},zh.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);Vr(!!t,"Cannot deserialize null or undefined timestamp.");var e=qh(t.seconds||"0"),n=t.nanos||0;return new no(e,n)},zh.prototype.fromIso8601String=function(t){var e=0,n=Uh.exec(t);if(Vr(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new no(o,e)},zh.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},zh.prototype.fromBlob=function(t){return"string"==typeof t?(Vr(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Ii.fromBase64String(t)):(Vr(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Ii.fromUint8Array(t))},zh.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},zh.prototype.fromVersion=function(t){return Vr(!!t,"Trying to deserialize version that isn't set"),io.fromTimestamp(this.fromTimestamp(t))},zh.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},zh.prototype.fromResourceName=function(t){var e=Fi.fromString(t);return Vr(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},zh.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},zh.prototype.fromName=function(t){var e=this.fromResourceName(t);return Vr(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),Vr(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new zi(this.extractLocalPathFromResourceName(e))},zh.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},zh.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?Fi.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(zh.prototype,"encodedDatabaseId",{get:function(){return new Fi(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),zh.prototype.fullyQualifiedPrefixPath=function(t){return new Fi(["projects",t.projectId,"databases",t.database])},zh.prototype.extractLocalPathFromResourceName=function(t){return Vr(4<t.length&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},zh.prototype.isValidResourceName=function(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)},zh.prototype.toValue=function(t){if(t instanceof Wa)return{nullValue:"NULL_VALUE"};if(t instanceof Ga)return{booleanValue:t.value()};if(t instanceof tu)return{integerValue:""+t.value()};if(t instanceof ru){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof au?{stringValue:t.value()}:t instanceof Iu?{mapValue:this.toMapValue(t)}:t instanceof Nu?{arrayValue:this.toArrayValue(t)}:t instanceof lu?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Eu?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof mu?{bytesValue:this.toBytes(t.value())}:t instanceof gu?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:Ur("Unknown FieldValue "+JSON.stringify(t))},zh.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return Wa.INSTANCE;if("booleanValue"in t)return Ga.of(t.booleanValue);if("integerValue"in t)return new tu(qh(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return ru.NAN;if("Infinity"===t.doubleValue)return ru.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return ru.NEGATIVE_INFINITY}return new ru(t.doubleValue)}if("stringValue"in t)return new au(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t){Vh(t.arrayValue,"arrayValue");var n=t.arrayValue.values||[];return new Nu(n.map((function(t){return e.fromValue(t)})))}if("timestampValue"in t)return Vh(t.timestampValue,"timestampValue"),new lu(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t){Vh(t.geoPointValue,"geoPointValue");var r=t.geoPointValue.latitude||0,i=t.geoPointValue.longitude||0;return new Eu(new Qc(r,i))}if("bytesValue"in t){Vh(t.bytesValue,"bytesValue");var o=this.fromBlob(t.bytesValue);return new mu(o)}if("referenceValue"in t){Vh(t.referenceValue,"referenceValue");var a=this.fromResourceName(t.referenceValue),u=new Di(a.get(1),a.get(3)),s=new zi(this.extractLocalPathFromResourceName(a));return new gu(u,s)}return Ur("Unknown Value proto "+JSON.stringify(t))},zh.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},zh.prototype.toDocument=function(t){return Vr(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},zh.prototype.fromDocument=function(t,e){var n=this,r=this.fromName(t.name),i=this.fromVersion(t.updateTime);return new Ou(r,i,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.fromValue(t)}))},zh.prototype.toFields=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.toValue(r)})),n},zh.prototype.fromFields=function(t){var e=this,n=t,r=Iu.EMPTY;return Jr(n,(function(t,n){r=r.set(new qi([t]),e.fromValue(n))})),r},zh.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},zh.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.toValue(t))})),{values:n}},zh.prototype.fromFound=function(t){var e=this;Vr(!!t.found,"Tried to deserialize a found document from a missing document."),Vh(t.found.name,"doc.found.name"),Vh(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime);return new Ou(n,r,{},void 0,t.found,(function(t){return e.fromValue(t)}))},zh.prototype.fromMissing=function(t){Vr(!!t.missing,"Tried to deserialize a missing document from a found document."),Vr(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new Mu(e,n)},zh.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):Ur("invalid batch get response: "+JSON.stringify(t))},zh.prototype.toWatchTargetChangeState=function(t){switch(t){case Oc.Added:return"ADD";case Oc.Current:return"CURRENT";case Oc.NoChange:return"NO_CHANGE";case Oc.Removed:return"REMOVE";case Oc.Reset:return"RESET";default:return Ur("Unknown WatchTargetChangeState: "+t)}},zh.prototype.toTestWatchChange=function(t){if(t instanceof Mc)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Pc){if(t.newDoc instanceof Ou){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof Mu)return e=t.newDoc,{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Lc){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return fc.OK;switch(t){case Kr.OK:return fc.OK;case Kr.CANCELLED:return fc.CANCELLED;case Kr.UNKNOWN:return fc.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return fc.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return fc.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return fc.INTERNAL;case Kr.UNAVAILABLE:return fc.UNAVAILABLE;case Kr.UNAUTHENTICATED:return fc.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return fc.INVALID_ARGUMENT;case Kr.NOT_FOUND:return fc.NOT_FOUND;case Kr.ALREADY_EXISTS:return fc.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return fc.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return fc.FAILED_PRECONDITION;case Kr.ABORTED:return fc.ABORTED;case Kr.OUT_OF_RANGE:return fc.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return fc.UNIMPLEMENTED;case Kr.DATA_LOSS:return fc.DATA_LOSS;default:return Ur("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return Ur("Unrecognized watch change: "+JSON.stringify(t))},zh.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){Vh(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,u=a&&this.fromRpcStatus(a);e=new Lc(r,i,o,u||null)}else if("documentChange"in t){Vh(t.documentChange,"documentChange"),Vh(t.documentChange.document,"documentChange.name"),Vh(t.documentChange.document.name,"documentChange.document.name"),Vh(t.documentChange.document.updateTime,"documentChange.document.updateTime");var s=t.documentChange,l=this.fromName(s.document.name),c=this.fromVersion(s.document.updateTime),h=new Ou(l,c,{},void 0,s.document,(function(t){return n.fromValue(t)})),f=s.targetIds||[],p=s.removedTargetIds||[];e=new Pc(f,p,h.key,h)}else if("documentDelete"in t){Vh(t.documentDelete,"documentDelete"),Vh(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;l=this.fromName(d.document),c=d.readTime?this.fromVersion(d.readTime):io.forDeletedDoc(),h=new Mu(l,c),p=d.removedTargetIds||[],e=new Pc([],p,h.key,h)}else if("documentRemove"in t){Vh(t.documentRemove,"documentRemove"),Vh(t.documentRemove.document,"documentRemove");var m=t.documentRemove;l=this.fromName(m.document),p=m.removedTargetIds||[],e=new Pc([],p,l,null)}else{if(!("filter"in t))return Ur("Unknown change type "+JSON.stringify(t));Vh(t.filter,"filter"),Vh(t.filter.targetId,"filter.targetId");var v=t.filter,y=v.count||0,g=new Rh(y),b=v.targetId;e=new Mc(b,g)}return e},zh.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Oc.NoChange:"ADD"===t?Oc.Added:"REMOVE"===t?Oc.Removed:"CURRENT"===t?Oc.Current:"RESET"===t?Oc.Reset:Ur("Got unexpected TargetChange.state: "+t)},zh.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return io.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?io.MIN:e.readTime?this.fromVersion(e.readTime):io.MIN},zh.prototype.toMutation=function(t){var e,n=this;if(t instanceof Ia)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Fa)e={delete:this.toName(t.key)};else if(t instanceof Na)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof _a))return Ur("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.toFieldTransform(t)}))}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},zh.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ba.NONE;if(t.update){Vh(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new Na(r,i,o,n)}return new Ia(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new Fa(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map((function(t){return e.fromFieldTransform(t)}));return Vr(!0===n.exists,'Transforms only support precondition "exists == true"'),new _a(r,a)}return Ur("unknown mutation proto: "+JSON.stringify(t))},zh.prototype.toPrecondition=function(t){return Vr(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ur("Unknown precondition")},zh.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ba.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ba.exists(t.exists):ba.NONE},zh.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),i=null;return t.transformResults&&0<t.transformResults.length&&(i=t.transformResults.map((function(t){return n.fromValue(t)}))),new ga(r,i)},zh.prototype.fromWriteResults=function(t,e){var n=this;return t&&0<t.length?(Vr(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.fromWriteResult(t,e)}))):[]},zh.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof Ih)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ch)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof Ah)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof _h)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw Ur("Unknown transform: "+t.transform)},zh.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)Vr("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=Ih.instance;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ch(r.map((function(t){return e.fromValue(t)})))}else if("removeAllFromArray"in t)r=t.removeAllFromArray.values||[],n=new Ah(r.map((function(t){return e.fromValue(t)})));else if("increment"in t){var i=this.fromValue(t.increment);Vr(i instanceof Xa,"NUMERIC_ADD transform requires a NumberValue"),n=new _h(i)}else Ur("Unknown transform proto: "+JSON.stringify(t));var o=qi.fromServerFormat(t.fieldPath);return new da(o,n)},zh.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},zh.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;Vr(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return Hc.atPath(this.fromQueryPath(n))},zh.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(Vr(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(Vr(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},zh.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){Vr(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var u=[];n.orderBy&&(u=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var l=null;n.startAt&&(l=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Hc(e,i,u,a,s,l,c)},zh.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},zh.prototype.toLabel=function(t){switch(t){case Ms.Listen:return null;case Ms.ExistenceFilterMismatch:return"existence-filter-mismatch";case Ms.LimboResolution:return"limbo-document";default:return Ur("Unrecognized query purpose: "+t)}},zh.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,0<t.resumeToken.length&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},zh.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Zc?e.toUnaryOrFieldFilter(t):Ur("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},zh.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.fromFilter(t)})).reduce((function(t,e){return t.concat(e)})):Ur("Unknown filter: "+JSON.stringify(t)):[]},zh.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.toPropertyOrder(t)}))},zh.prototype.fromOrder=function(t){var e=this;return t.map((function(t){return e.fromPropertyOrder(t)}))},zh.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.toValue(t)}))}},zh.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.fromValue(t)}));return new gh(r,n)},zh.prototype.toDirection=function(t){return Fh[t.name]},zh.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return vh.ASCENDING;case"DESCENDING":return vh.DESCENDING;default:return}},zh.prototype.toOperatorName=function(t){return jh[t.name]},zh.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Xc.EQUAL;case"GREATER_THAN":return Xc.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Xc.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Xc.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Xc.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Xc.ARRAY_CONTAINS;case"IN":return Xc.IN;case"ARRAY_CONTAINS_ANY":return Xc.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return Ur("Unspecified operator");default:return Ur("Unknown operator")}},zh.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},zh.prototype.fromFieldPathReference=function(t){return qi.fromServerFormat(t.fieldPath)},zh.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},zh.prototype.fromPropertyOrder=function(t){return new wh(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},zh.prototype.fromFieldFilter=function(t){return Zc.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},zh.prototype.toUnaryOrFieldFilter=function(t){if(t.op===Xc.EQUAL){if(t.value.isEqual(ru.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(Wa.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},zh.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return Zc.create(e,Xc.EQUAL,ru.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return Zc.create(n,Xc.EQUAL,Wa.INSTANCE);case"OPERATOR_UNSPECIFIED":return Ur("Unspecified filter");default:return Ur("Unknown filter")}},zh.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}},zh.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map((function(t){return qi.fromServerFormat(t)}));return fa.fromArray(e)},zh);function zh(t,e){this.databaseId=t,this.options=e}var Wh=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Kh=(Qh.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new Wh,this.queries.set(e,r)),r.listeners.push(t),Vr(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),!r.viewSnap||t.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(e).then((function(t){return r.targetId=t})):Promise.resolve(r.targetId)},Qh.prototype.unlisten=function(t){return f(this,void 0,void 0,(function(){var e,n,r,i;return p(this,(function(o){return e=t.query,n=!1,(r=this.queries.get(e))&&0<=(i=r.listeners.indexOf(t))&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]}))}))},Qh.prototype.onWatchChange=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var u=0,s=a.listeners;u<s.length;u++)s[u].onViewSnapshot(i)&&(e=!0);a.viewSnap=i}}e&&this.raiseSnapshotsInSyncEvent()},Qh.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},Qh.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(t)&&(e=!0)})),e&&this.raiseSnapshotsInSyncEvent()},Qh.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},Qh.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},Qh.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(t){t.next()}))},Qh);function Qh(t){this.syncEngine=t,this.queries=new Vu((function(t){return t.canonicalId()})),this.onlineState=ac.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}var Gh=(Hh.prototype.onViewSnapshot=function(t){if(Vr(0<t.docChanges.length||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==gc.Metadata&&e.push(i)}t=new Cc(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),o=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),o=!0),this.snap=t,o},Hh.prototype.onError=function(t){this.queryObserver.error(t)},Hh.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},Hh.prototype.shouldRaiseInitialEvent=function(t,e){if(Vr(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==ac.Offline;return this.options.waitForSyncWhenOnline&&n?(Vr(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===ac.Offline},Hh.prototype.shouldRaiseEvent=function(t){if(0<t.docChanges.length)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},Hh.prototype.raiseInitialEvent=function(t){Vr(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Cc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},Hh);function Hh(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=ac.Unknown,this.options=n||{}}var Yh=(Xh.fromSnapshot=function(t,e){for(var n=No(),r=No(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case gc.Added:n=n.add(a.doc.key);break;case gc.Removed:r=r.add(a.doc.key)}}return new Xh(t,n,r)},Xh);function Xh(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}var $h=function(t){this.key=t},Jh=function(t){this.key=t},Zh=(Object.defineProperty(tf.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),tf.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Ic,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),c=e instanceof Ou?e:null;c&&(Vr(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!l&&n.mutatedKeys.has(l.key),f=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),p=!1;l&&c?l.data().isEqual(c.data())?h!==f&&(r.track({type:gc.Metadata,doc:c}),p=!0):n.shouldWaitForSyncedDocument(l,c)||(r.track({type:gc.Modified,doc:c}),p=!0,s&&0<n.query.docComparator(c,s)&&(u=!0)):!l&&c?(r.track({type:gc.Added,doc:c}),p=!0):l&&!c&&(r.track({type:gc.Removed,doc:l}),p=!0,s&&(u=!0)),p&&(o=c?(a=a.add(c),f?o.add(t):o.delete(t)):(a=a.delete(t),o.delete(t)))})),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),o=o.delete(l.key),r.track({type:gc.Removed,doc:l})}return Vr(!u||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:u,mutatedKeys:o}},tf.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},tf.prototype.applyChanges=function(t,e,n){var r=this;Vr(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort((function(t,e){return function(t,e){function n(t){switch(t){case gc.Added:return 1;case gc.Modified:case gc.Metadata:return 2;case gc.Removed:return 0;default:return Ur("Unknown ChangeType: "+t)}}return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)})),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],u=0===this.limboDocuments.size&&this.current?wc.Synced:wc.Local,s=u!==this.syncState;return this.syncState=u,0!==o.length||s?{snapshot:new Cc(this.query,t.documentSet,i,o,t.mutatedKeys,u===wc.Local,s,!1),limboChanges:a}:{limboChanges:a}},tf.prototype.applyOnlineStateChange=function(t){return this.current&&t===ac.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ic,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},tf.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},tf.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.add(t)})),t.modifiedDocuments.forEach((function(t){return Vr(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")})),t.removedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)})),this.current=t.current)},tf.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=No(),this.documentSet.forEach((function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))}));var n=[];return e.forEach((function(e){t.limboDocuments.has(e)||n.push(new Jh(e))})),this.limboDocuments.forEach((function(t){e.has(t)||n.push(new $h(t))})),n},tf.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=No();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},tf.prototype.computeInitialSnapshot=function(){return Cc.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===wc.Local)},tf);function tf(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=No(),this.mutatedKeys=No(),this.documentSet=new Tc(t.docComparator.bind(t))}var ef=(nf.prototype.run=function(){this.runWithBackOff()},nf.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun((function(){return f(t,void 0,void 0,(function(){var t,e,n=this;return p(this,(function(r){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.handleTransactionError(t)}))}))})).catch((function(t){n.handleTransactionError(t)})),[2]}))}))}))},nf.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!zl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},nf.prototype.handleTransactionError=function(t){var e=this;0<this.retries&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return e.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(t)},nf.prototype.isRetryableTransactionError=function(t){if("FirebaseError"!==t.name)return!1;var e=t.code;return"aborted"===e||"failed-precondition"===e||!vc(e)},nf);function nf(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=5,this.backoff=new Kl(this.asyncQueue,Ki.RetryTransaction)}var rf="SyncEngine",of=function(t,e,n){this.query=t,this.targetId=e,this.view=n},af=function(t){this.key=t,this.receivedDocument=!1},uf=(Object.defineProperty(sf.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),sf.prototype.subscribe=function(t){Vr(null!==t,"SyncEngine listener cannot be null"),Vr(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},sf.prototype.listen=function(t){return f(this,void 0,void 0,(function(){var e,n,r,i,o;return p(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}}))}))},sf.prototype.initializeViewAndComputeSnapshot=function(t,e){return f(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,l;return p(this,(function(c){switch(c.label){case 0:return n=t.query,[4,this.localStore.executeQuery(n)];case 1:return r=c.sent(),[4,this.localStore.remoteDocumentKeys(t.targetId)];case 2:return i=c.sent(),o=new Zh(n,i),a=o.computeDocChanges(r),u=_c.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&this.onlineState!==ac.Offline),Vr(0===(s=o.applyChanges(a,!0===this.isPrimary,u)).limboChanges.length,"View returned limbo docs before target ack from the server."),Vr(!!s.snapshot,"applyChanges for new view should always return a snapshot"),l=new of(n,t.targetId,o),this.queryViewsByQuery.set(n,l),this.queryViewsByTarget[t.targetId]=l,[2,s.snapshot]}}))}))},sf.prototype.synchronizeViewAndComputeSnapshot=function(t){return f(this,void 0,void 0,(function(){var e,n,r;return p(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t.query)];case 1:return e=i.sent(),[4,this.localStore.remoteDocumentKeys(t.targetId)];case 2:return n=i.sent(),r=t.view.synchronizeWithPersistedState(e,n),this.isPrimary&&this.updateTrackedLimbos(t.targetId,r.limboChanges),[2,r]}}))}))},sf.prototype.unlisten=function(t){return f(this,void 0,void 0,(function(){var e,n=this;return p(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),Vr(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then((function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)})).catch(ll)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},sf.prototype.write=function(t,e){return f(this,void 0,void 0,(function(){var n;return p(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},sf.prototype.runTransaction=function(t,e,n){new ef(t,this.remoteStore,e,n).run()},sf.prototype.applyRemoteEvent=function(t){return f(this,void 0,void 0,(function(){var e,n=this;return p(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=r.sent(),Jr(t.targetChanges,(function(t,e){var r=n.limboResolutionsByTarget[Number(t)];r&&(Vr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<e.addedDocuments.size?r.receivedDocument=!0:0<e.modifiedDocuments.size?Vr(r.receivedDocument,"Received change for limbo target document without add."):0<e.removedDocuments.size&&(Vr(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,ll(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},sf.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===sc.RemoteStore||!this.isPrimary&&e===sc.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(e,r){var i=r.view.applyOnlineStateChange(t);Vr(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},sf.prototype.rejectListen=function(t,e){return f(this,void 0,void 0,(function(){var n,r,i,o,a,u,s=this;return p(this,(function(l){switch(l.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new ao(zi.comparator)).insert(r,new Mu(r,io.forDeletedDoc())),o=No().add(r),a=new Ac(io.MIN,{},new mo(bi),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return Vr(!!(u=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then((function(){return s.removeAndCleanupQuery(u)})).catch(ll)];case 2:l.sent(),this.syncEngineListener.onWatchError(u.query,e),l.label=3;case 3:return[2]}}))}))},sf.prototype.applyBatchState=function(t,e,n){return f(this,void 0,void 0,(function(){var r;return p(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(Lr(rf,"Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):Ur("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},sf.prototype.applySuccessfulWrite=function(t){return f(this,void 0,void 0,(function(){var e,n;return p(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),e=t.batch.batchId,this.processUserCallback(e,null),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,ll(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},sf.prototype.rejectFailedWrite=function(t,e){return f(this,void 0,void 0,(function(){var n;return p(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,ll(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},sf.prototype.registerPendingWritesCallback=function(t){return f(this,void 0,void 0,(function(){var e,n;return p(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||Lr(rf,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=r.sent())?t.resolve():((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n)),[2]}}))}))},sf.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach((function(t){t.resolve()})),this.pendingWritesCallbacks.delete(t)},sf.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach((function(e){e.forEach((function(e){e.reject(new Qr(Kr.CANCELLED,t))}))})),this.pendingWritesCallbacks.clear()},sf.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n=(n=n||new ao(bi)).insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},sf.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(Vr(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},sf.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach((function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)}))}},sf.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},sf.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof $h?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof Jh?(Lr(rf,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):Ur("Unknown limbo change: "+JSON.stringify(i))}},sf.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){Lr(rf,"New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Hc.atPath(e.path);this.limboResolutionsByTarget[n]=new af(e),this.remoteStore.listen(new qs(r,n,Ms.LimboResolution,xi.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},sf.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},sf.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return f(this,void 0,void 0,(function(){var n,r,i,o=this;return p(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(a,u){i.push(Promise.resolve().then((function(){var e=u.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(u.query).then((function(t){return u.view.computeDocChanges(t,e)})):e})).then((function(t){var i=e&&e.targetChanges[u.targetId],a=u.view.applyChanges(t,!0===o.isPrimary,i);if(o.updateTrackedLimbos(u.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(u.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var s=Yh.fromSnapshot(u.targetId,a.snapshot);r.push(s)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}}))}))},sf.prototype.assertSubscribed=function(t){Vr(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},sf.prototype.handleCredentialChange=function(t){return f(this,void 0,void 0,(function(){var e,n;return p(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},sf.prototype.applyPrimaryState=function(t){return f(this,void 0,void 0,(function(){var e,n,r,i,o,a,u,s=this;return p(this,(function(l){switch(l.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return l.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=l.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],u=Promise.resolve(),$r(this.queryViewsByTarget,(function(t,e){s.sharedClientState.isLocalQueryTarget(t)?a.push(t):u=u.then((function(){return s.unlisten(e.query)})),s.remoteStore.unlisten(e.targetId)})),[4,u]);case 4:return l.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return l.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))},sf.prototype.resetLimboDocuments=function(){var t=this;$r(this.limboResolutionsByTarget,(function(e){t.remoteStore.unlisten(e)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new ao(zi.comparator)},sf.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return f(this,void 0,void 0,(function(){var e,n,r,i,o,a,u,s,l;return p(this,(function(c){switch(c.label){case 0:e=[],n=[],r=0,i=t,c.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(u=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(u.query,!0)]:[3,5]):[3,11];case 2:return c.sent(),[4,this.localStore.allocateQuery(u.query)];case 3:return a=c.sent(),[4,this.synchronizeViewAndComputeSnapshot(u)];case 4:return(s=c.sent()).snapshot&&n.push(s.snapshot),[3,9];case 5:return Vr(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return Vr(!!(l=c.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(l)];case 7:return a=c.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:c.sent(),c.label=9;case 9:e.push(a),c.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,e]}}))}))},sf.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},sf.prototype.applyTargetState=function(t,e,n){return f(this,void 0,void 0,(function(){var r,i,o,a,u;return p(this,(function(s){switch(s.label){case 0:if(this.isPrimary)return Lr(rf,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,11];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return s.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=s.sent(),i=Ac.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return s.sent(),[3,11];case 4:return function(t){return t.code===Kr.DATA_LOSS&&t.message===Ku}(o=s.sent())?(a=[],$r(this.queryViewsByTarget,(function(t){return a.push(t)})),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)]):[3,6];case 5:return s.sent(),[3,7];case 6:throw o;case 7:return[3,8];case 8:return u=this.queryViewsByTarget[t],this.removeAndCleanupQuery(u),[4,this.localStore.releaseQuery(u.query,!0)];case 9:return s.sent(),this.syncEngineListener.onWatchError(u.query,n),[3,11];case 10:Ur("Unexpected target state: "+e),s.label=11;case 11:return[2]}}))}))},sf.prototype.applyActiveTargetsChange=function(t,e){return f(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,l,c,h=this;return p(this,(function(f){switch(f.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,f.label=1;case 1:return n<r.length?(c=r[n],Vr(!this.queryViewsByTarget[c],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(c)]):[3,6];case 2:return Vr(!!(i=f.sent()),"Query data for active target "+c+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=f.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:f.sent(),this.remoteStore.listen(o),f.label=5;case 5:return n++,[3,1];case 6:a=function(t){var e;return p(this,(function(n){switch(n.label){case 0:return(e=u.queryViewsByTarget[t])?[4,u.localStore.releaseQuery(e.query,!1).then((function(){h.remoteStore.unlisten(t),h.removeAndCleanupQuery(e)})).catch(ll)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},u=this,s=0,l=e,f.label=7;case 7:return s<l.length?(c=l[s],[5,a(c)]):[3,10];case 8:f.sent(),f.label=9;case 9:return s++,[3,7];case 10:return[2]}}))}))},sf.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},sf.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},sf.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?No().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:No()},sf);function sf(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Vu((function(t){return t.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new ao(zi.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new yl,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Qo.forSyncEngine(),this.isPrimary=void 0,this.onlineState=ac.Unknown}var lf=(cf.prototype.isAuthenticated=function(){return null!=this.uid},cf.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},cf.prototype.isEqual=function(t){return t.uid===this.uid},cf.UNAUTHENTICATED=new cf(null),cf.GOOGLE_CREDENTIALS=new cf("google-credentials-uid"),cf.FIRST_PARTY=new cf("first-party-uid"),cf);function cf(t){this.uid=t}var hf="SharedClientState",ff="firestore_clients",pf="firestore_mutations",df="firestore_targets",mf=(vf.fromWebStorageEntry=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Qr(r.error.code,r.error.message)),i?new vf(t,e,r.state,o):(Fr(hf,"Failed to parse mutation state for ID '"+e+"': "+n),null)},vf.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},vf);function vf(t,e,n,r){this.user=t,this.batchId=e,this.state=n,Vr(void 0!==(this.error=r)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}var yf=(gf.fromWebStorageEntry=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Qr(n.error.code,n.error.message)),r?new gf(t,n.state,i):(Fr(hf,"Failed to parse target state for ID '"+t+"': "+e),null)},gf.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},gf);function gf(t,e,n){this.targetId=t,this.state=e,Vr(void 0!==(this.error=n)==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}var bf=(wf.fromWebStorageEntry=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Do(),o=0;r&&o<n.activeTargetIds.length;++o)r=Wl(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new wf(t,i):(Fr(hf,"Failed to parse client data for instance '"+t+"': "+e),null)},wf);function wf(t,e){this.clientId=t,this.activeTargetIds=e}var Ef=(Tf.fromWebStorageEntry=function(t){var e=JSON.parse(t);return"object"==typeof e&&e.onlineState in ac&&"string"==typeof e.clientId?new Tf(e.clientId,ac[e.onlineState]):(Fr(hf,"Failed to parse online state: "+t),null)},Tf);function Tf(t,e){this.clientId=t,this.onlineState=e}var Sf=(If.prototype.addQueryTarget=function(t){Vr(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},If.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},If.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},If);function If(){this.activeTargetIds=Do()}var kf=(Cf.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},Cf.prototype.start=function(){return f(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,u,s,l,c,h=this;return p(this,(function(f){switch(f.label){case 0:return Vr(!this.started,"WebStorageSharedClientState already started"),Vr(null!==this.syncEngine,"syncEngine property must be set before calling start()"),Vr(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=bf.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(u),s=0,l=this.earlyEvents;s<l.length;s++)c=l[s],this.handleWebStorageEvent(c);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},Cf.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},Cf.prototype.getAllActiveQueryTargets=function(){var t=Do();return Jr(this.activeClients,(function(e,n){t=t.unionWith(n.activeTargetIds)})),t},Cf.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},Cf.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},Cf.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},Cf.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=yf.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},Cf.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},Cf.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},Cf.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},Cf.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},Cf.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.removeMutationState(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},Cf.prototype.setOnlineState=function(t){this.persistOnlineState(t)},Cf.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},Cf.prototype.getItem=function(t){var e=this.storage.getItem(t);return Lr(hf,"READ",t,e),e},Cf.prototype.setItem=function(t,e){Lr(hf,"SET",t,e),this.storage.setItem(t,e)},Cf.prototype.removeItem=function(t){Lr(hf,"REMOVE",t),this.storage.removeItem(t)},Cf.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(Lr(hf,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return f(e,void 0,void 0,(function(){var e,n,r,i,o,a;return p(this,(function(u){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(Vr(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=xi.INVALID;if(null!=t)try{var n=JSON.parse(t);Vr("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){Fr(hf,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==xi.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(Cf.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),Cf.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},Cf.prototype.persistMutationState=function(t,e,n){var r=new mf(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},Cf.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},Cf.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:ac[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},Cf.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new yf(t,e,n);this.setItem(r,i.toWebStorageJSON())},Cf.prototype.toWebStorageClientStateKey=function(t){return Vr(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),ff+"_"+this.persistenceKey+"_"+t},Cf.prototype.toWebStorageQueryTargetMetadataKey=function(t){return df+"_"+this.persistenceKey+"_"+t},Cf.prototype.toWebStorageMutationBatchKey=function(t){var e=pf+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},Cf.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},Cf.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return Vr(null!==n,"Cannot parse client state key '"+t+"'"),bf.fromWebStorageEntry(n,e)},Cf.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);Vr(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mf.fromWebStorageEntry(new lf(i),r,e)},Cf.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);Vr(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return yf.fromWebStorageEntry(r,e)},Cf.prototype.fromWebStorageOnlineState=function(t){return Ef.fromWebStorageEntry(t)},Cf.prototype.handleMutationBatchEvent=function(t){return f(this,void 0,void 0,(function(){return p(this,(function(e){return t.user.uid!==this.currentUser.uid?(Lr(hf,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]}))}))},Cf.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},Cf.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach((function(t){return f(n,void 0,void 0,(function(){return p(this,(function(e){return r.has(t)||o.push(t),[2]}))}))})),r.forEach((function(t){return f(n,void 0,void 0,(function(){return p(this,(function(e){return i.has(t)||a.push(t),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,a)},Cf.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},Cf);function Cf(t,e,n,r,i){if(this.queue=t,this.platform=e,this.persistenceKey=n,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!Cf.isAvailable(this.platform))throw new Qr(Kr.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+n,this.activeClients[this.localClientId]=new Sf,this.clientStateKeyRe=new RegExp("^"+ff+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+pf+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+df+"_"+o+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+n,this.platform.window.addEventListener("storage",this.storageListener)}var Nf=(Af.prototype.addPendingMutation=function(t){},Af.prototype.updateMutationState=function(t,e,n){},Af.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},Af.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},Af.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},Af.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},Af.prototype.clearQueryState=function(t){delete this.queryState[t]},Af.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},Af.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},Af.prototype.start=function(){return this.localState=new Sf,Promise.resolve()},Af.prototype.handleUserChange=function(t,e,n){},Af.prototype.setOnlineState=function(t){},Af.prototype.shutdown=function(){},Af.prototype.writeSequenceNumber=function(t){},Af);function Af(){this.localState=new Sf,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}var Df="FirestoreClient",_f=(xf.prototype.lruParams=function(){return Ys.withCacheSize(this.cacheSizeBytes)},xf);function xf(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}var Of=function(){},Rf=(Pf.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new Gi,r=new Gi,i=!1;return this.credentials.setChangeListener((function(o){i?e.asyncQueue.enqueueAndForget((function(){return e.handleCredentialChange(o)})):(i=!0,e.initializePersistence(t,r,o).then((function(t){return e.initializeRest(o,t)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},Pf.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.syncEngine.enableNetwork()}))},Pf.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof _f?this.startIndexedDbPersistence(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()})):(e.resolve(),this.startMemoryPersistence())},Pf.prototype.canFallback=function(t){return t instanceof Qr?t.code===Kr.FAILED_PRECONDITION||t.code===Kr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},Pf.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Qr(Kr.FAILED_PRECONDITION,"The client has already been terminated.")},Pf.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=ul.buildStoragePrefix(this.databaseInfo),i=new Bh(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return f(n,void 0,void 0,(function(){var n,o;return p(this,(function(a){switch(a.label){case 0:if(e.synchronizeTabs&&!kf.isAvailable(this.platform))throw new Qr(Kr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new kf(this.asyncQueue,this.platform,r,this.clientId,t):new Nf,[4,ul.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),[2,(this.persistence=o).referenceDelegate.garbageCollector]}}))}))}))},Pf.prototype.startMemoryPersistence=function(){return this.persistence=Ol.createEagerPersistence(this.clientId),this.sharedClientState=new Nf,Promise.resolve(null)},Pf.prototype.initializeRest=function(t,e){var n=this;return Lr(Df,"Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return f(n,void 0,void 0,(function(){var n,i,o,a,u,s=this;return p(this,(function(l){switch(l.label){case 0:return this.localStore=new Tl(this.persistence,t),e&&(this.lruScheduler=new $s(e,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new ic(this.asyncQueue,r,this.credentials,i),a=function(t){return s.syncEngine.applyOnlineStateChange(t,sc.RemoteStore)},u=function(t){return s.syncEngine.applyOnlineStateChange(t,sc.SharedClientState)},this.remoteStore=new Wc(this.localStore,o,this.asyncQueue,a,n),this.syncEngine=new uf(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Kh(this.syncEngine),[4,this.sharedClientState.start()];case 1:return l.sent(),[4,this.remoteStore.start()];case 2:return l.sent(),[4,this.persistence.setPrimaryStateListener((function(t){return f(s,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}}))}))}))];case 3:return l.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return f(s,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 4:return l.sent(),[2]}}))}))}))},Pf.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),Lr(Df,"Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},Pf.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.syncEngine.disableNetwork()}))},Pf.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return f(t,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},Pf.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new Gi;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.registerPendingWritesCallback(e)})),e.promise},Pf.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var i=new Gh(t,e,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},Pf.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.unlisten(t)}))},Pf.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.localStore.readDocument(t)})).then((function(t){if(t instanceof Ou)return t;if(t instanceof Mu)return null;throw new Qr(Kr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},Pf.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.localStore.executeQuery(t)})).then((function(e){var n=No(),r=new Zh(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot}))},Pf.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new Gi;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.write(t,n)})),n.promise},Pf.prototype.databaseId=function(){return this.databaseInfo.databaseId},Pf.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()}))},Pf.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(Pf.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),Pf.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new Gi;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()})),n.promise},Pf);function Pf(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=yi.newId()}var Mf=(Lf.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},Lf.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},Lf.prototype.mute=function(){this.muted=!0},Lf.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},Lf);function Lf(t){this.observer=t,this.muted=!1}var Ff=(jf.documentId=function(){return jf._DOCUMENT_ID},jf.prototype.isEqual=function(t){if(!(t instanceof jf))throw di("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},jf._DOCUMENT_ID=new jf(qi.keyField().canonicalString()),jf);function jf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new Qr(Kr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+vi(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(ii("FieldPath","string",n,t[n]),0===t[n].length)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(t)}var Uf=new RegExp("[~\\*/\\[\\]]"),Vf=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}},qf=(Bf.prototype.getToken=function(){return Promise.resolve(null)},Bf.prototype.invalidateToken=function(){},Bf.prototype.setChangeListener=function(t){Vr(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=t)(lf.UNAUTHENTICATED)},Bf.prototype.removeChangeListener=function(){Vr(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},Bf);function Bf(){this.changeListener=null}var zf=(Wf.prototype.getToken=function(){var t=this;Vr(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(t.tokenCounter!==e)throw new Qr(Kr.ABORTED,"getToken aborted due to token change.");return n?(Vr("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Vf(n.accessToken,t.currentUser)):null}))},Wf.prototype.invalidateToken=function(){this.forceRefresh=!0},Wf.prototype.setChangeListener=function(t){Vr(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=t)(this.currentUser)},Wf.prototype.removeChangeListener=function(){Vr(null!=this.tokenListener,"removeChangeListener() called twice"),Vr(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},Wf.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return Vr(null===t||"string"==typeof t,"Received invalid UID: "+t),new lf(t)},Wf);function Wf(t){var e=this;this.app=t,this.tokenListener=null,this.currentUser=lf.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}var Kf=(Object.defineProperty(Qf.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),Qf);function Qf(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=lf.FIRST_PARTY}var Gf=(Hf.prototype.getToken=function(){return Promise.resolve(new Kf(this.gapi,this.sessionIndex))},Hf.prototype.setChangeListener=function(t){t(lf.FIRST_PARTY)},Hf.prototype.removeChangeListener=function(){},Hf.prototype.invalidateToken=function(){},Hf);function Hf(t,e){this.gapi=t,this.sessionIndex=e}function Yf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Xf=($f.delete=function(){return ti("FieldValue.delete",arguments),Zf.instance},$f.serverTimestamp=function(){return ti("FieldValue.serverTimestamp",arguments),np.instance},$f.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ni("FieldValue.arrayUnion",arguments,1),new op(t)},$f.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ni("FieldValue.arrayRemove",arguments,1),new sp(t)},$f.increment=function(t){return ii("FieldValue.increment","number",1,t),ei("FieldValue.increment",arguments,1),new hp(t)},$f.prototype.isEqual=function(t){return this===t},$f);function $f(t){this._methodName=t}var Jf,Zf=(c(tp,Jf=Xf),tp.instance=new tp,tp);function tp(){return Jf.call(this,"FieldValue.delete")||this}var ep,np=(c(rp,ep=Xf),rp.instance=new rp,rp);function rp(){return ep.call(this,"FieldValue.serverTimestamp")||this}var ip,op=(c(ap,ip=Xf),ap);function ap(t){var e=ip.call(this,"FieldValue.arrayUnion")||this;return e._elements=t,e}var up,sp=(c(lp,up=Xf),lp);function lp(t){var e=up.call(this,"FieldValue.arrayRemove")||this;return e._elements=t,e}var cp,hp=(c(fp,cp=Xf),fp);function fp(t){var e=cp.call(this,"FieldValue.increment")||this;return e._operand=t,e}var pp=Hr(Xf,"Use FieldValue.<field>() instead."),dp=/^__.*__$/,mp=(vp.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new Na(t,this.data,this.fieldMask,e)):n.push(new Ia(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new _a(t,this.fieldTransforms)),n},vp);function vp(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}var yp,gp,bp=(wp.prototype.toMutations=function(t,e){var n=[new Na(t,this.data,this.fieldMask,e)];return 0<this.fieldTransforms.length&&n.push(new _a(t,this.fieldTransforms)),n},wp);function wp(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Ep(t){switch(t){case yp.Set:case yp.MergeSet:case yp.Update:return!0;case yp.Argument:return!1;default:throw Ur("Unexpected case for UserDataSource: "+t)}}(gp=yp=yp||{})[gp.Set=0]="Set",gp[gp.Update=1]="Update",gp[gp.MergeSet=2]="MergeSet",gp[gp.Argument=3]="Argument";var Tp=(Sp.prototype.childContextForField=function(t){var e=null==this.path?null:this.path.child(t),n=new Sp(this.dataSource,this.methodName,e,!1,this.fieldTransforms,this.fieldMask);return n.validatePathSegment(t),n},Sp.prototype.childContextForFieldPath=function(t){var e=null==this.path?null:this.path.child(t),n=new Sp(this.dataSource,this.methodName,e,!1,this.fieldTransforms,this.fieldMask);return n.validatePath(),n},Sp.prototype.childContextForArray=function(t){return new Sp(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},Sp.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Qr(Kr.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},Sp.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},Sp.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},Sp.prototype.validatePathSegment=function(t){if(Ep(this.dataSource)&&dp.test(t))throw this.createError("Document fields cannot begin and end with __")},Sp);function Sp(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}var Ip=function(t,e){this.databaseId=t,this.key=e},kp=(Cp.prototype.parseSetData=function(t,e){var n=new Tp(yp.Set,t,qi.EMPTY_PATH);Ap("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new mp(r,null,n.fieldTransforms)},Cp.prototype.parseMergeData=function(t,e,n){var r=new Tp(yp.MergeSet,t,qi.EMPTY_PATH);Ap("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var u=new mo(qi.comparator),s=0,l=n;s<l.length;s++){var c=l[s],h=void 0;if(c instanceof Ff)h=c._internalPath;else{if("string"!=typeof c)throw Ur("Expected stringOrFieldPath to be a string or a FieldPath");h=_p(t,c)}if(!r.contains(h))throw new Qr(Kr.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");u=u.add(h)}i=fa.fromSet(u),o=r.fieldTransforms.filter((function(t){return i.covers(t.field)}))}else i=fa.fromArray(r.fieldMask),o=r.fieldTransforms;return new mp(a,i,o)},Cp.prototype.parseUpdateData=function(t,e){var n=this,r=new Tp(yp.Update,t,qi.EMPTY_PATH);Ap("Data must be an object, but it was:",r,e);var i=new mo(qi.comparator),o=Iu.EMPTY;Jr(e,(function(e,a){var u=_p(t,e),s=r.childContextForFieldPath(u);if((a=n.runPreConverter(a,s))instanceof Zf)i=i.add(u);else{var l=n.parseData(a,s);null!=l&&(i=i.add(u),o=o.set(u,l))}}));var a=fa.fromSet(i);return new bp(o,a,r.fieldTransforms)},Cp.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new Tp(yp.Update,t,qi.EMPTY_PATH),o=[Dp(t,e)],a=[n];if(r.length%2!=0)throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<r.length;u+=2)o.push(Dp(t,r[u])),a.push(r[u+1]);var s=new mo(qi.comparator),l=Iu.EMPTY;for(u=0;u<o.length;++u){var c=o[u],h=i.childContextForFieldPath(c),f=this.runPreConverter(a[u],h);if(f instanceof Zf)s=s.add(c);else{var p=this.parseData(f,h);null!=p&&(s=s.add(c),l=l.set(c,p))}}var d=fa.fromSet(s);return new bp(l,d,i.fieldTransforms)},Cp.prototype.parseQueryValue=function(t,e){var n=new Tp(yp.Argument,t,qi.EMPTY_PATH),r=this.parseData(e,n);return Vr(null!=r,"Parsed data should not be null."),Vr(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},Cp.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=xp(t);throw e.createError(n)}},Cp.prototype.parseData=function(t,e){if(Np(t=this.runPreConverter(t,e)))return Ap("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Xf)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},Cp.prototype.parseObject=function(t,e){var n=this,r=new ao(bi);return Zr(t)?e.path&&0<e.path.length&&e.fieldMask.push(e.path):Jr(t,(function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))})),new Iu(r)},Cp.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],u=this.parseData(a,e.childContextForArray(r));null==u&&(u=Wa.INSTANCE),n.push(u),r++}return new Nu(n)},Cp.prototype.parseSentinelFieldValue=function(t,e){if(!Ep(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof Zf){if(e.dataSource!==yp.MergeSet)throw e.dataSource===yp.Update?(Vr(0<e.path.length,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof np)e.fieldTransforms.push(new da(e.path,Ih.instance));else if(t instanceof op){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new Ch(n);e.fieldTransforms.push(new da(e.path,r))}else if(t instanceof sp){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new Ah(n);e.fieldTransforms.push(new da(e.path,i))}else if(t instanceof hp){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new _h(o);e.fieldTransforms.push(new da(e.path,a))}else Ur("Unknown FieldValue type: "+t)},Cp.prototype.parseScalarValue=function(t,e){if(null===t)return Wa.INSTANCE;if("number"==typeof t)return Wl(t)?new tu(t):new ru(t);if("boolean"==typeof t)return Ga.of(t);if("string"==typeof t)return new au(t);if(t instanceof Date)return new lu(no.fromDate(t));if(t instanceof no)return new lu(new no(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Qc)return new Eu(t);if(t instanceof Ii)return new mu(t);if(t instanceof Ip)return new gu(t.databaseId,t.key);throw e.createError("Unsupported field value: "+hi(t))},Cp.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map((function(e,r){var i=new Tp(yp.Argument,t,qi.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))}))},Cp);function Cp(t){this.preConverter=t}function Np(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof no||t instanceof Qc||t instanceof Ii||t instanceof Ip||t instanceof Xf)}function Ap(t,e,n){if(!Np(n)||!ci(n)){var r=hi(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Dp(t,e){if(e instanceof Ff)return e._internalPath;if("string"==typeof e)return _p(t,e);throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function _p(t,e){try{return function(t){if(0<=t.search(Uf))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ff.bind.apply(Ff,[void 0].concat(t.split("."))))}catch(e){throw new Qr(Kr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=xp(e);throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function xp(t){return t instanceof Error?t.message:t.toString()}var Op=Ys.COLLECTION_DISABLED,Rp=(Pp.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},Pp);function Pp(t){if(void 0===t.host){if(void 0!==t.ssl)throw new Qr(Kr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else ai("settings","non-empty string","host",t.host),this.host=t.host,ui("settings","boolean","ssl",t.ssl),this.ssl=Xr(t.ssl,!0);if(pi("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),ui("settings","object","credentials",t.credentials),this.credentials=t.credentials,ui("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?Fr("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&Fr("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=Xr(t.timestampsInSnapshots,!0),ui("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ys.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Op&&t.cacheSizeBytes<Ys.MINIMUM_CACHE_SIZE_BYTES)throw new Qr(Kr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ys.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}ui("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}var Mp=(Lp.prototype.settings=function(t){if(ei("Firestore.settings",arguments,1),ii("Firestore.settings","object",1,t),Yr(t,"persistence"))throw new Qr(Kr.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Rp(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new Qr(Kr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._settings=e).credentials&&(this._credentials=function(t){if(!t)return new qf;switch(t.type){case"gapi":var e=t.client;return Vr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Gf(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Qr(Kr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},Lp.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},Lp.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},Lp.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new Qr(Kr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&Fr("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=Xr(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new _f(this._settings.cacheSizeBytes,e))},Lp.prototype.clearPersistence=function(){var t=this,e=ul.buildStoragePrefix(this.makeDatabaseInfo()),n=new Gi;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return f(t,void 0,void 0,(function(){var t;return p(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new Qr(Kr.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,ul.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},Lp.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Lp.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),Lp.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},Lp.prototype.onSnapshotsInSync=function(t){if(this.ensureClientConfigured(),Yf(t))return this.onSnapshotsInSyncInternal(t);ii("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.onSnapshotsInSyncInternal(e)},Lp.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Mf({next:function(){t.next&&t.next()},error:function(t){throw Ur("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},Lp.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Of),this._firestoreClient},Lp.prototype.makeDatabaseInfo=function(){return new Ni(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},Lp.prototype.configureClient=function(t){Vr(!!this._settings.host,"FirestoreSettings.host is not set"),Vr(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new Rf(qr.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},Lp.prototype.createDataConverter=function(t){return new kp((function(e){if(e instanceof qp){var n=t,r=e.firestore._databaseId;if(!r.isEqual(n))throw new Qr(Kr.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Ip(t,e._key)}return e}))},Lp.databaseIdFromApp=function(t){var e=t.options;if(!Yr(e,"projectId"))throw new Qr(Kr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new Qr(Kr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Di(n)},Object.defineProperty(Lp.prototype,"app",{get:function(){if(!this._firebaseApp)throw new Qr(Kr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),Lp.prototype.collection=function(t){return ei("Firestore.collection",arguments,1),ii("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new ed(Fi.fromString(t),this)},Lp.prototype.doc=function(t){return ei("Firestore.doc",arguments,1),ii("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),qp.forPath(Fi.fromString(t),this)},Lp.prototype.collectionGroup=function(t){if(ei("Firestore.collectionGroup",arguments,1),ii("Firestore.collectionGroup","non-empty string",1,t),0<=t.indexOf("/"))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Xp(new Hc(Fi.EMPTY_PATH,t),this)},Lp.prototype.runTransaction=function(t){var e=this;return ei("Firestore.runTransaction",arguments,1),ii("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction((function(n){return t(new Fp(e,n))}))},Lp.prototype.batch=function(){return this.ensureClientConfigured(),new Up(this)},Object.defineProperty(Lp,"logLevel",{get:function(){switch(Pr()){case Ir.DEBUG:return"debug";case Ir.ERROR:return"error";case Ir.SILENT:return"silent";default:return Ur("Unknown log level: "+Pr())}},enumerable:!0,configurable:!0}),Lp.setLogLevel=function(t){switch(ei("Firestore.setLogLevel",arguments,1),ii("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":Mr(Ir.DEBUG);break;case"error":Mr(Ir.ERROR);break;case"silent":Mr(Ir.SILENT);break;default:throw new Qr(Kr.INVALID_ARGUMENT,"Invalid log level: "+t)}},Lp.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},Lp);function Lp(t){var e=this;if(this._firebaseApp=null,this._queue=new Xi,this.INTERNAL={delete:function(){return f(e,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof t.options){var n=t;this._firebaseApp=n,this._databaseId=Lp.databaseIdFromApp(n),this._persistenceKey=n.name,this._credentials=new zf(n)}else{var r=t;if(!r.projectId)throw new Qr(Kr.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new Di(r.projectId,r.database),this._persistenceKey="[DEFAULT]",this._credentials=new qf}this._settings=new Rp({}),this._dataConverter=this.createDataConverter(this._databaseId)}var Fp=(jp.prototype.get=function(t){var e=this;ei("Transaction.get",arguments,1);var n=ad("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Ur("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof Mu)return new Kp(e._firestore,n._key,null,!1,!1);if(r instanceof Ou)return new Kp(e._firestore,n._key,r,!1,!1);throw Ur("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},jp.prototype.set=function(t,e,n){ri("Transaction.set",arguments,2,3);var r=ad("Transaction.set",t,this._firestore),i=(n=rd("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},jp.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return i="string"==typeof e||e instanceof Ff?(ni("Transaction.update",arguments,3),r=ad("Transaction.update",t,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(ei("Transaction.update",arguments,2),r=ad("Transaction.update",t,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},jp.prototype.delete=function(t){ei("Transaction.delete",arguments,1);var e=ad("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},jp);function jp(t,e){this._firestore=t,this._transaction=e}var Up=(Vp.prototype.set=function(t,e,n){ri("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=ad("WriteBatch.set",t,this._firestore),i=(n=rd("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ba.NONE)),this},Vp.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),i="string"==typeof e||e instanceof Ff?(ni("WriteBatch.update",arguments,3),r=ad("WriteBatch.update",t,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(ei("WriteBatch.update",arguments,2),r=ad("WriteBatch.update",t,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ba.exists(!0))),this},Vp.prototype.delete=function(t){ei("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=ad("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Fa(e._key,ba.NONE)),this},Vp.prototype.commit=function(){return f(this,void 0,void 0,(function(){return p(this,(function(t){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},Vp.prototype.verifyNotCommitted=function(){if(this._committed)throw new Qr(Kr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Vp);function Vp(t){this._firestore=t,this._mutations=[],this._committed=!1}var qp=(Bp.forPath=function(t,e){if(t.length%2!=0)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new Bp(new zi(t),e)},Object.defineProperty(Bp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Bp.prototype,"parent",{get:function(){return new ed(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Bp.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),Bp.prototype.collection=function(t){if(ei("DocumentReference.collection",arguments,1),ii("DocumentReference.collection","non-empty string",1,t),!t)throw new Qr(Kr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Fi.fromString(t);return new ed(this._key.path.child(e),this.firestore)},Bp.prototype.isEqual=function(t){if(!(t instanceof Bp))throw di("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},Bp.prototype.set=function(t,e){ri("DocumentReference.set",arguments,1,2);var n=(e=rd("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ba.NONE))},Bp.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof Ff?(ni("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(ei("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ba.exists(!0)))},Bp.prototype.delete=function(){return ei("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Fa(this._key,ba.NONE)])},Bp.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ri("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Yf(t[i])||(pi("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),ui("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return n=Yf(t[i])?t[i]:(ii("DocumentReference.onSnapshot","function",i,t[i]),oi("DocumentReference.onSnapshot","function",i+1,t[i+1]),oi("DocumentReference.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},Bp.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Mf({next:function(t){if(e.next){Vr(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Kp(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Hc.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},Bp.prototype.get=function(t){var e=this;return ri("DocumentReference.get",arguments,0,1),od("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then((function(t){n(new Kp(e.firestore,e._key,t,!0,t instanceof Ou&&t.hasLocalMutations))}),r):e.getViaSnapshotListener(n,r,t)}))},Bp.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new Qr(Kr.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new Qr(Kr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},Bp);function Bp(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}var zp=(Wp.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},Wp);function Wp(t,e){this.hasPendingWrites=t,this.fromCache=e}var Kp=(Qp.prototype.data=function(t){return ri("DocumentSnapshot.data",arguments,0,1),t=id("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data(),Ua.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},Qp.prototype.get=function(t,e){if(ri("DocumentSnapshot.get",arguments,1,2),e=id("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(Dp("DocumentSnapshot.get",t));if(null!==n)return this.convertValue(n,Ua.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(Qp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Qp.prototype,"ref",{get:function(){return new qp(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Qp.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(Qp.prototype,"metadata",{get:function(){return new zp(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),Qp.prototype.isEqual=function(t){if(!(t instanceof Qp))throw di("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},Qp.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.convertValue(i,e)})),r},Qp.prototype.convertValue=function(t,e){if(t instanceof Iu)return this.convertObject(t,e);if(t instanceof Nu)return this.convertArray(t,e);if(t instanceof gu){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||Fr("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new qp(n,this._firestore)}return t.value(e)},Qp.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map((function(t){return n.convertValue(t,e)}))},Qp);function Qp(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}var Gp,Hp=(c(Yp,Gp=Kp),Yp.prototype.data=function(t){var e=Gp.prototype.data.call(this,t);return Vr("object"==typeof e,"Document in a QueryDocumentSnapshot should exist"),e},Yp);function Yp(){return null!==Gp&&Gp.apply(this,arguments)||this}var Xp=($p.prototype.where=function(t,e,n){ei("Query.where",arguments,3),fi("Query.where",3,n),"in"!==e&&"array-contains-any"!==e&&function(t,e,n,r){if(!e.some((function(t){return t===r})))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid value "+hi(r)+" provided to function Query.where() for its "+mi(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,e);var r,i=Dp("Query.where",t),o=Xc.fromString(e);if(i.isKeyField()){if(o===Xc.ARRAY_CONTAINS||o===Xc.ARRAY_CONTAINS_ANY)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===Xc.IN){this.validateDisjunctiveFilterElements(n,o);for(var a=[],u=0,s=n;u<s.length;u++){var l=s[u];a.push(this.parseDocumentIdValue(l))}r=new Nu(a)}else r=this.parseDocumentIdValue(n)}else o!==Xc.IN&&o!==Xc.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(n,o),r=this.firestore._dataConverter.parseQueryValue("Query.where",n);var c=Zc.create(i,o,r);return this.validateNewFilter(c),new $p(this._query.addFilter(c),this.firestore)},$p.prototype.orderBy=function(t,e){var n;if(ri("Query.orderBy",arguments,1,2),oi("Query.orderBy","non-empty string",2,e),void 0===e||"asc"===e)n=vh.ASCENDING;else{if("desc"!==e)throw new Qr(Kr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n=vh.DESCENDING}if(null!==this._query.startAt)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Dp("Query.orderBy",t),i=new wh(r,n);return this.validateNewOrderBy(i),new $p(this._query.addOrderBy(i),this.firestore)},$p.prototype.limit=function(t){if(ei("Query.limit",arguments,1),ii("Query.limit","number",1,t),t<=0)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new $p(this._query.withLimit(t),this.firestore)},$p.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ni("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",t,e,!0);return new $p(this._query.withStartAt(r),this.firestore)},$p.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ni("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",t,e,!1);return new $p(this._query.withStartAt(r),this.firestore)},$p.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ni("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",t,e,!0);return new $p(this._query.withEndAt(r),this.firestore)},$p.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ni("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",t,e,!1);return new $p(this._query.withEndAt(r),this.firestore)},$p.prototype.isEqual=function(t){if(!(t instanceof $p))throw di("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},$p.prototype.boundFromDocOrFields=function(t,e,n,r){if(fi(t,1,e),e instanceof Kp){if(0<n.length)throw new Qr(Kr.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new Qr(Kr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},$p.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new gu(this.firestore._databaseId,e.key));else{var u=e.field(a.field);if(u instanceof fu)throw new Qr(Kr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var s=a.field.canonicalString();throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+s+"' (used as the orderBy) does not exist.")}r.push(u)}}return new gh(r,n)},$p.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new Qr(Kr.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var u=this._query.path.child(Fi.fromString(a));if(!zi.isDocumentKey(u))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var s=new zi(u);i.push(new gu(this.firestore._databaseId,s))}else{var l=this.firestore._dataConverter.parseQueryValue(t,a);i.push(l)}}return new gh(i,n)},$p.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ri("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Yf(t[i])||(pi("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),ui("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=Yf(t[i])?t[i]:(ii("Query.onSnapshot","function",i,t[i]),oi("Query.onSnapshot","function",i+1,t[i+1]),oi("Query.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},$p.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Mf({next:function(t){e.next&&e.next(new Jp(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},$p.prototype.get=function(t){var e=this;return ri("Query.get",arguments,0,1),od("Query.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then((function(t){n(new Jp(e.firestore,e._query,t))}),r):e.getViaSnapshotListener(n,r,t)}))},$p.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new Qr(Kr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},$p.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(Fi.fromString(t));if(!zi.isDocumentKey(e))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new gu(this.firestore._databaseId,new zi(e))}if(t instanceof qp){var n=t;return new gu(this.firestore._databaseId,n._key)}throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hi(t)+".")},$p.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=t.indexOf(null))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(0<t.filter((function(t){return Number.isNaN(t)})).length)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},$p.prototype.validateNewFilter=function(t){if(t instanceof Zc){var e=[Xc.ARRAY_CONTAINS,Xc.ARRAY_CONTAINS_ANY],n=[Xc.IN,Xc.ARRAY_CONTAINS_ANY],r=0<=e.indexOf(t.op),i=0<=n.indexOf(t.op);if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(t.field,a)}else if(i||r){var u=null;if(i&&(u=this._query.findFilterOperator(n)),null===u&&r&&(u=this._query.findFilterOperator(e)),null!=u)throw u===t.op?new Qr(Kr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Qr(Kr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+u.toString()+"' filters.")}}},$p.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},$p.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new Qr(Kr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},$p);function $p(t,e){this._query=t,this.firestore=e}var Jp=(Object.defineProperty(Zp.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(Zp.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(Zp.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),Zp.prototype.forEach=function(t,e){var n=this;ri("QuerySnapshot.forEach",arguments,1,2),ii("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach((function(r){t.call(e,n.convertToDocumentImpl(r))}))},Object.defineProperty(Zp.prototype,"query",{get:function(){return new Xp(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Zp.prototype.docChanges=function(t){t&&(pi("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),ui("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new Qr(Kr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map((function(e){var o=new Hp(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return Vr(e.type===gc.Added,"Invalid event type for first snapshot"),Vr(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.oldDocs;return n.docChanges.filter((function(t){return e||t.type!==gc.Metadata})).map((function(e){var r=new Hp(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==gc.Added&&(Vr(0<=(i=o.indexOf(e.doc.key)),"Index for document not found"),o=o.delete(e.doc.key)),e.type!==gc.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case gc.Added:return"added";case gc.Modified:case gc.Metadata:return"modified";case gc.Removed:return"removed";default:return Ur("Unknown change type: "+t)}}(e.type),doc:r,oldIndex:i,newIndex:a}}))}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},Zp.prototype.isEqual=function(t){if(!(t instanceof Zp))throw di("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},Zp.prototype.convertToDocumentImpl=function(t){return new Hp(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},Zp);function Zp(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new zp(n.hasPendingWrites,n.fromCache)}["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(Jp.prototype.docChanges,t,{get:function(){return function(){throw new Qr(Kr.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var td,ed=(c(nd,td=Xp),Object.defineProperty(nd.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(nd.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new qp(new zi(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(nd.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),nd.prototype.doc=function(t){if(ri("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=yi.newId()),ii("CollectionReference.doc","non-empty string",1,t),""===t)throw new Qr(Kr.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=Fi.fromString(t);return qp.forPath(this._query.path.child(e),this.firestore)},nd.prototype.add=function(t){ei("CollectionReference.add",arguments,1),ii("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then((function(){return e}))},nd);function nd(t,e){var n=td.call(this,Hc.atPath(t),e)||this;if(t.length%2!=1)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return n}function rd(t,e){if(void 0===e)return{merge:!1};if(pi(t,e,["merge","mergeFields"]),ui(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+hi(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Qr(Kr.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+hi(r[o]))}(t,e,n,r,i)}(t,"mergeFields","a string or a FieldPath",e.mergeFields,(function(t){return"string"==typeof t||t instanceof Ff})),void 0!==e.mergeFields&&void 0!==e.merge)throw new Qr(Kr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function id(t,e){return void 0===e?{}:(pi(t,e,["serverTimestamps"]),si(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function od(t,e){oi(t,"object",1,e),e&&(pi(t,e,["source"]),si(t,0,"source",e.source,["default","server","cache"]))}function ad(t,e,n){if(e instanceof qp){if(e.firestore!==n)throw new Qr(Kr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw di(t,"DocumentReference",1,e)}var ud=Hr(Mp,"Use firebase.firestore() instead."),sd=Hr(Fp,"Use firebase.firestore().runTransaction() instead."),ld=Hr(Up,"Use firebase.firestore().batch() instead."),cd=Hr(qp,"Use firebase.firestore().doc() instead."),hd=Hr(Kp),fd=Hr(Hp),pd=Hr(Xp),dd=Hr(Jp),md=Hr(ed,"Use firebase.firestore().collection() instead."),vd={Firestore:ud,GeoPoint:Qc,Timestamp:no,Blob:Ci,Transaction:sd,WriteBatch:ld,DocumentReference:cd,DocumentSnapshot:hd,Query:pd,QueryDocumentSnapshot:fd,QuerySnapshot:dd,CollectionReference:md,FieldPath:Ff,FieldValue:pp,setLogLevel:Mp.setLogLevel,CACHE_SIZE_UNLIMITED:Op},yd=(gd.prototype.addCallback=function(t){},gd.prototype.shutdown=function(){},gd);function gd(){}var bd="ConnectivityMonitor",wd=(Ed.prototype.addCallback=function(t){this.callbacks.push(t)},Ed.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},Ed.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},Ed.prototype.onNetworkAvailable=function(){Lr(bd,"Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},Ed.prototype.onNetworkUnavailable=function(){Lr(bd,"Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},Ed.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},Ed);function Ed(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}var Td=(Sd.prototype.onOpen=function(t){Vr(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},Sd.prototype.onClose=function(t){Vr(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},Sd.prototype.onMessage=function(t){Vr(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},Sd.prototype.close=function(){this.closeFn()},Sd.prototype.send=function(t){this.sendFn(t)},Sd.prototype.callOnOpen=function(){Vr(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},Sd.prototype.callOnClose=function(t){Vr(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},Sd.prototype.callOnMessage=function(t){Vr(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},Sd);function Sd(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}var Id="Connection",kd={BatchGetDocuments:"batchGet",Commit:"commit"},Cd="gl-js/ fire/"+Or,Nd=(Ad.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Cd},Ad.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise((function(o,a){var u=new xr;u.listenOnce(Dr.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Ar.NO_ERROR:var e=u.getResponseJson();Lr(Id,"XHR received:",JSON.stringify(e)),o(e);break;case Ar.TIMEOUT:Lr(Id,'RPC "'+t+'" timed out'),a(new Qr(Kr.DEADLINE_EXCEEDED,"Request time out"));break;case Ar.HTTP_ERROR:var n=u.getStatus();if(Lr(Id,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),0<n){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return 0<=Object.values(Kr).indexOf(e)?e:Kr.UNKNOWN}(r.status);a(new Qr(i,r.message))}else a(new Qr(Kr.UNKNOWN,"Server responded with status "+u.getStatus()))}else Lr(Id,'RPC "'+t+'" failed'),a(new Qr(Kr.UNAVAILABLE,"Connection failed."));break;default:Ur('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{Lr(Id,'RPC "'+t+'" completed.')}}));var s=h({},e);delete s.database;var l=JSON.stringify(s);Lr(Id,"XHR sending: ",i+" "+l);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),u.send(i,"POST",l,c,15)}))},Ad.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},Ad.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Nr(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");function a(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))}Lr(Id,"Creating WebChannel: "+o+" "+i);var u=r.createWebChannel(o,i),s=!1,l=!1,c=new Td({sendFn:function(t){l?Lr(Id,"Not sending because WebChannel is closed:",t):(s||(Lr(Id,"Opening WebChannel transport."),u.open(),s=!0),Lr(Id,"WebChannel sending:",t),u.send(t))},closeFn:function(){return u.close()}});return a(_r.EventType.OPEN,(function(){l||Lr(Id,"WebChannel transport opened.")})),a(_r.EventType.CLOSE,(function(){l||(l=!0,Lr(Id,"WebChannel transport closed"),c.callOnClose())})),a(_r.EventType.ERROR,(function(t){l||(l=!0,Lr(Id,"WebChannel transport errored:",t),c.callOnClose(new Qr(Kr.UNAVAILABLE,"The operation could not be completed")))})),a(_r.EventType.MESSAGE,(function(t){if(!l){var e=t.data[0];Vr(!!e,"Got a webchannel message without data.");var n=e,r=n.error||n[0]&&n[0].error;if(r){Lr(Id,"WebChannel received error:",r);var i=r.status,o=function(t){var e=fc[t];if(void 0!==e)return yc(e)}(i),a=r.message;void 0===o&&(o=Kr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,c.callOnClose(new Qr(o,a)),u.close()}else Lr(Id,"WebChannel received:",e),c.callOnMessage(e)}})),setTimeout((function(){c.callOnOpen()}),0),c},Ad.prototype.makeUrl=function(t){var e=kd[t];Vr(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},Ad);function Ad(t){this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}var Dd=(Object.defineProperty(_d.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(_d.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),_d.prototype.loadConnection=function(t){return Promise.resolve(new Nd(t))},_d.prototype.newConnectivityMonitor=function(){return wd.isAvailable()?new wd:new yd},_d.prototype.newSerializer=function(t){return new Bh(t,{useProto3Json:!0})},_d.prototype.formatJSON=function(t){return JSON.stringify(t)},_d.prototype.atob=function(t){return atob(t)},_d.prototype.btoa=function(t){return btoa(t)},_d);function _d(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}qr.setPlatform(new Dd),function(t){t.INTERNAL.registerService("firestore",(function(t){return new Mp(t)}),function(t){Vr(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(vd))}(t)}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-firestore - be sure to load firebase-app.js first.")}}(n(5)),function(t){"use strict";try{(function(){t=t&&t.hasOwnProperty("default")?t.default:t,function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this;function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=i.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)u.b(this.a[t]);this.a=null}};var u=new n;return e.prototype.o=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(e){o(e)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ja(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?u.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=o(t),a=i.next();!a.done;a=i.next())r(a.value).Ja(e,n)}))},e.all=function(t){var n=o(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--u&&t(a)}}for(var a=[],u=0;a.push(void 0),u++,r(i.value).Ja(o(a.length-1),e),!(i=n.next()).done;);}))},e}));var a=a||{},u=this||self;function s(t){return"string"==typeof t}function l(t){return"boolean"==typeof t}var c=/^[\w+/_-]+[=]{0,2}$/,h=null;function f(){}function p(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return null===t}function m(t){return"array"==p(t)}function v(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function y(t){return"function"==p(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var b="closure_uid_"+(1e9*Math.random()>>>0),w=0;function E(t,e,n){return t.call.apply(t.bind,arguments)}function T(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function S(t,e,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:T).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,(t.prototype.constructor=t).fd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function A(t){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");A.call(this,n+t[r])}function _(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function x(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function O(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function R(){this.b=this.a=null}C(A,Error),A.prototype.name="CustomError",C(D,A),D.prototype.name="AssertionError",x.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var P=new x((function(){return new M}),(function(t){t.reset()}));function M(){this.next=this.b=this.a=null}function L(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;_("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}R.prototype.add=function(t,e){var n=P.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},U=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=s(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},V=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function q(t,e){return 0<=F(t,e)}function B(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n=s(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function W(t){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Q(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function G(t){for(var e in t)return!1;return!0}function H(t){var e,n={};for(e in t)n[e]=t[e];return n}var Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Y.length;o++)n=Y[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $(t,e){this.a=t===tt&&e||"",this.b=Z}function J(t){return t instanceof $&&t.constructor===$&&t.b===Z?t.a:(_("expected object of type Const, got '"+t+"'"),"type_error:Const")}$.prototype.qa=!0,$.prototype.pa=function(){return this.a},$.prototype.toString=function(){return"Const{"+this.a+"}"};var Z={},tt={},et=new $(tt,"");function nt(){this.a="",this.b=ut}function rt(t){return t instanceof nt&&t.constructor===nt&&t.b===ut?t.a:(_("expected object of type TrustedResourceUrl, got '"+t+"' of type "+p(t)),"type_error:TrustedResourceUrl")}function it(t,e){var n=J(t);if(!at.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return st(t=n.replace(ot,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof $?J(t):encodeURIComponent(String(t))})))}nt.prototype.qa=!0,nt.prototype.pa=function(){return this.a.toString()},nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ot=/%{(\w+)}/g,at=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ut={};function st(t){var e=new nt;return e.a=t,e}var lt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ct=/&/g,ht=/</g,ft=/>/g,pt=/"/g,dt=/'/g,mt=/\x00/g,vt=/[\x00&<>"']/;function yt(t,e){return-1!=t.indexOf(e)}function gt(t,e){return t<e?-1:e<t?1:0}function bt(){this.a="",this.b=It}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===It?t.a:(_("expected object of type SafeUrl, got '"+t+"' of type "+p(t)),"type_error:SafeUrl")}bt.prototype.qa=!0,bt.prototype.pa=function(){return this.a.toString()},bt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Et=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Tt(t){return t instanceof bt?t:(t="object"==typeof t&&t.qa?t.pa():String(t),Et.test(t)||(t="about:invalid#zClosurez"),kt(t))}var St,It={};function kt(t){var e=new bt;return e.a=t,e}kt("about:blank");t:{var Ct=u.navigator;if(Ct){var Nt=Ct.userAgent;if(Nt){St=Nt;break t}}St=""}function At(t){return yt(St,t)}function Dt(){this.a="",this.b=xt}function _t(t){return t instanceof Dt&&t.constructor===Dt&&t.b===xt?t.a:(_("expected object of type SafeHtml, got '"+t+"' of type "+p(t)),"type_error:SafeHtml")}Dt.prototype.qa=!0,Dt.prototype.pa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xt={};function Ot(t){var e=new Dt;return e.a=t,e}Ot("<!DOCTYPE html>");var Rt,Pt,Mt=Ot("");function Lt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ft(t){return vt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ct,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ht,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(ft,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(pt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(dt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(mt,"&#0;"))),t}function jt(t){u.setTimeout((function(){throw t}),0)}function Ut(t,e){Pt||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);Pt=function(){t.then(Bt)}}else Pt=function(){var t=Bt;!y(u.setImmediate)||u.Window&&u.Window.prototype&&!At("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(Rt=Rt||function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!At("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=st(J(et));L(t,"HTMLIFrameElement"),t.src=rt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(_t(Mt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=S((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0===t||At("Trident")||At("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){u.setTimeout(t,0)};var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}())(t):u.setImmediate(t)}}(),Vt||(Pt(),Vt=!0),qt.add(t,e)}Ot("<br>");var Vt=!1,qt=new R;function Bt(){for(var t;n=e=void 0,n=null,(e=qt).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){jt(t)}O(P,t)}var e,n;Vt=!1}function zt(t,e){if(this.a=Wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){ne(n,Kt,t)}),(function(t){if(!(t instanceof le))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}ne(n,Qt,t)}))}catch(t){ne(this,Qt,t)}}var Wt=0,Kt=2,Qt=3;function Gt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Gt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ht=new x((function(){return new Gt}),(function(t){t.reset()}));function Yt(t,e,n){var r=Ht.get();return r.g=t,r.b=e,r.f=n,r}function Xt(t){if(t instanceof zt)return t;var e=new zt(f);return ne(e,Kt,t),e}function $t(t){return new zt((function(e,n){n(t)}))}function Jt(t,e,n){re(t,e,n,null)||Ut(I(e,t))}function Zt(t){return new zt((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Jt(t[o],I(i,o,!0),I(i,o,!1));else e(r)}))}function te(t,e){t.b||t.a!=Kt&&t.a!=Qt||ie(t),t.f?t.f.next=e:t.b=e,t.f=e}function ee(t,e,n,r){var i=Yt(null,null,null);return i.a=new zt((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(n){o(n)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof le?o(e):t(i)}catch(e){o(e)}}:o})),te(i.a.c=t,i),i.a}function ne(t,e,n){t.a==Wt&&(t===n&&(e=Qt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,re(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,ie(t),e!=Qt||n instanceof le||function(t,e){t.g=!0,Ut((function(){t.g&&se.call(null,e)}))}(t,n)))}function re(t,e,n,r){if(t instanceof zt)return te(t,Yt(e||f,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(y(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function ie(t){t.h||(t.h=!0,Ut(t.Zb,t))}function oe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function ae(t,e,n,r){if(n==Qt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ue(e,n,r);else try{e.c?e.g.call(e.f):ue(e,n,r)}catch(t){se.call(null,t)}O(Ht,e)}function ue(t,e,n){e==Kt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}zt.prototype.then=function(t,e,n){return ee(this,y(t)?t:null,y(e)?e:null,n)},zt.prototype.$goog_Thenable=!0,(n=zt.prototype).ka=function(t,e){return(t=Yt(t,t,e)).c=!0,te(this,t),this},n.s=function(t,e){return ee(this,null,t,e)},n.cancel=function(t){this.a==Wt&&Ut((function(){!function t(e,n){if(e.a==Wt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,u=r.b;u&&(u.c||(i++,u.a==e&&(o=u),!(o&&1<i)));u=u.next)o||(a=u);o&&(r.a==Wt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):oe(r),ae(r,o,Qt,n)))}e.c=null}else ne(e,Qt,n)}(this,new le(t))}),this)},n.Oc=function(t){this.a=Wt,ne(this,Kt,t)},n.Pc=function(t){this.a=Wt,ne(this,Qt,t)},n.Zb=function(){for(var t;t=oe(this);)ae(this,t,this.a,this.i);this.h=!1};var se=jt;function le(t){A.call(this,t)}function ce(){this.ta=this.ta,this.la=this.la}function he(t){!t.ta&&(t.ta=!0,t.xa(),0)&&(t[b]||(t[b]=++w))}function fe(t){return fe[" "](t),t}C(le,A),ce.prototype.ta=!(le.prototype.name="cancel"),ce.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},fe[" "]=f;var pe,de,me=At("Opera"),ve=At("Trident")||At("MSIE"),ye=At("Edge"),ge=ye||ve,be=At("Gecko")&&!(yt(St.toLowerCase(),"webkit")&&!At("Edge"))&&!(At("Trident")||At("MSIE"))&&!At("Edge"),we=yt(St.toLowerCase(),"webkit")&&!At("Edge");function Ee(){var t=u.document;return t?t.documentMode:void 0}t:{var Te="",Se=(de=St,be?/rv:([^\);]+)(\)|;)/.exec(de):ye?/Edge\/([\d\.]+)/.exec(de):ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(de):we?/WebKit\/(\S+)/.exec(de):me?/(?:Version)[ \/]?(\S+)/.exec(de):void 0);if(Se&&(Te=Se?Se[1]:""),ve){var Ie=Ee();if(null!=Ie&&Ie>parseFloat(Te)){pe=String(Ie);break t}}pe=Te}var ke,Ce={};function Ne(t){return function(e,n){var r=Ce;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=function(){for(var e=0,n=lt(String(pe)).split("."),r=lt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;e=gt(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||gt(0==a[2].length,0==u[2].length)||gt(a[2],u[2]),a=a[3],u=u[3]}while(0==e)}return 0<=e}()}(t)}ke=u.document&&ve?Ee():void 0;var Ae=Object.freeze||function(t){return t},De=!ve||9<=Number(ke),_e=ve&&!Ne("9"),xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(t){}return t}();function Oe(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Re(t,e){if(Oe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(be){t:{try{fe(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:Pe[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}Oe.prototype.preventDefault=function(){this.Mb=!1},C(Re,Oe);var Pe=Ae({2:"touch",3:"pen",4:"mouse"});Re.prototype.preventDefault=function(){Re.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,_e)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},Re.prototype.f=function(){return this.a};var Me="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Fe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Na=i,this.key=++Le,this.ra=this.Ia=!1}function je(t){t.ra=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function Ue(t){this.src=t,this.a={},this.b=0}function Ve(t,e){var n=e.type;n in t.a&&B(t.a[n],e)&&(je(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function qe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ra&&o.listener==e&&o.capture==!!n&&o.Na==r)return i}return-1}Ue.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=qe(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new Fe(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var Be="closure_lm_"+(1e6*Math.random()|0),ze={};function We(t,e,n,r,i){if(r&&r.once)Qe(t,e,n,r,i);else if(m(e))for(var o=0;o<e.length;o++)We(t,e[o],n,r,i);else n=en(n),t&&t[Me]?rn(t,e,n,g(r)?!!r.capture:!!r,i):Ke(t,e,n,!1,r,i)}function Ke(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,u=Ze(t);if(u||(t[Be]=u=new Ue(t)),!(n=u.add(e,n,r,a,o)).proxy)if(r=function(){var t=Je,e=De?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),(n.proxy=r).src=t,r.listener=n,t.addEventListener)xe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ye(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Qe(t,e,n,r,i){if(m(e))for(var o=0;o<e.length;o++)Qe(t,e[o],n,r,i);else n=en(n),t&&t[Me]?on(t,e,n,g(r)?!!r.capture:!!r,i):Ke(t,e,n,!0,r,i)}function Ge(t,e,n,r,i){if(m(e))for(var o=0;o<e.length;o++)Ge(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=en(n),t&&t[Me]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=qe(o=t.a[e],n,r,i))&&(je(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):(t=t&&Ze(t))&&(e=t.a[e.toString()],t=-1,e&&(t=qe(e,n,r,i)),(n=-1<t?e[t]:null)&&He(n))}function He(t){if("number"!=typeof t&&t&&!t.ra){var e=t.src;if(e&&e[Me])Ve(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ye(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ze(e))?(Ve(n,t),0==n.b&&(n.src=null,e[Be]=null)):je(t)}}}function Ye(t){return t in ze?ze[t]:ze[t]="on"+t}function Xe(t,e,n,r){var i=!0;if((t=Ze(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ra&&(o=$e(o,r),i=i&&!1!==o)}return i}function $e(t,e){var n=t.listener,r=t.Na||t.src;return t.Ia&&He(t),n.call(r,e)}function Je(t,e){if(t.ra)return!0;if(De)return $e(t,new Re(e,this));if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Re(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Xe(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Xe(r[i],t,!1,e),n=n&&o}return n}function Ze(t){return(t=t[Be])instanceof Ue?t:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function en(t){return y(t)?t:(t[tn]||(t[tn]=function(e){return t.handleEvent(e)}),t[tn])}function nn(){ce.call(this),this.u=new Ue(this),(this.Sb=this).Wa=null}function rn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function on(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function an(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ra&&a.capture==n){var u=a.listener,s=a.Na||a.src;a.Ia&&Ve(t.u,a),i=!1!==u.call(s,r)&&i}}return i&&0!=r.Mb}function un(t,e,n){if(y(t))n&&(t=S(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=S(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function sn(t){var e=null;return new zt((function(n,r){-1==(e=un((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw u.clearTimeout(e),t}))}function ln(t){if(t.U&&"function"==typeof t.U)return t.U();if(s(t))return t.split("");if(v(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function cn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(v(t)||s(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function hn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof hn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function fn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];pn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)pn(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(nn,ce),nn.prototype[Me]=!0,nn.prototype.addEventListener=function(t,e,n,r){We(this,t,e,n,r)},nn.prototype.removeEventListener=function(t,e,n,r){Ge(this,t,e,n,r)},nn.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Sb;var r=t.type||t;if(s(t))t=new Oe(t,n);else if(t instanceof Oe)t.target=t.target||n;else{var i=t;X(t=new Oe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=an(a,r,!0,t)&&i}if(i=an(a=t.b=n,r,!0,t)&&i,i=an(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=an(a=t.b=e[o],r,!1,t)&&i;return i},nn.prototype.xa=function(){if(nn.qb.xa.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)je(n[r]);delete e.a[t],e.b--}}this.Wa=null},(n=hn.prototype).U=function(){fn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.X=function(){return fn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return pn(this.b,t)?this.b[t]:e},n.set=function(t,e){pn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof mn?(this.h=void 0!==e?e:t.h,vn(this,t.f),this.i=t.i,this.b=t.b,yn(this,t.l),this.c=t.c,gn(this,Fn(t.a)),this.g=t.g):t&&(n=String(t).match(dn))?(this.h=!!e,vn(this,n[1]||"",!0),this.i=Sn(n[2]||""),this.b=Sn(n[3]||"",!0),yn(this,n[4]),this.c=Sn(n[5]||"",!0),gn(this,n[6]||"",!0),this.g=Sn(n[7]||"")):(this.h=!!e,this.a=new xn(null,this.h))}function vn(t,e,n){t.f=n?Sn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function yn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.l=e}else t.l=null}function gn(t,e,n){e instanceof xn?(t.a=e,function(t,e){e&&!t.f&&(On(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Pn(this,e),Ln(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=In(e,Dn)),t.a=new xn(e,t.h))}function bn(t,e,n){t.a.set(e,n)}function wn(t,e){return t.a.get(e)}function En(t){return t instanceof mn?new mn(t):new mn(t,void 0)}function Tn(t,e){var n=new mn(null,void 0);return vn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Sn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function In(t,e,n){return s(t)?(t=encodeURI(t).replace(e,kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}mn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(In(e,Cn,!0),":");var n=this.b;return!n&&"file"!=e||(t.push("//"),(e=this.i)&&t.push(In(e,Cn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(In(n,"/"==n.charAt(0)?An:Nn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",In(n,_n)),t.join("")},mn.prototype.resolve=function(t){var e=new mn(this),n=!!t.f;n?vn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)yn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(yt(i,"./")||yt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var u=i[a++];"."==u?r&&a==i.length&&o.push(""):".."==u?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(u),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?gn(e,Fn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Cn=/[#\/\?@]/g,Nn=/[#\?:]/g,An=/[#\?]/g,Dn=/[#\?@]/g,_n=/#/g;function xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function On(t){t.a||(t.a=new hn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Rn(t){var e=cn(t);if(void 0===e)throw Error("Keys are undefined");var n=new xn(null,void 0);t=ln(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];m(o)?Ln(n,i,o):n.add(i,o)}return n}function Pn(t,e){On(t),e=jn(t,e),pn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&fn(t)))}function Mn(t,e){return On(t),e=jn(t,e),pn(t.a.b,e)}function Ln(t,e,n){Pn(t,e),0<n.length&&(t.c=null,t.a.set(jn(t,e),K(n)),t.b+=n.length)}function Fn(t){var e=new xn;return e.c=t.c,t.a&&(e.a=new hn(t.a),e.b=t.b),e}function jn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(n=xn.prototype).add=function(t,e){On(this),this.c=null,t=jn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){On(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},n.X=function(){On(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.U=function(t){On(this);var e=[];if(s(t))Mn(this,t)&&(e=W(e,this.a.get(jn(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},n.set=function(t,e){return On(this),this.c=null,Mn(this,t=jn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Un=!ve||9<=Number(ke);function Vn(t){var e=document;return s(t)?e.getElementById(t):t}function qn(t,e){Q(e,(function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Bn.hasOwnProperty(n)?t.setAttribute(Bn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var Bn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function zn(t){if(t&&"number"==typeof t.length){if(g(t))return"function"==typeof t.item||"string"==typeof t.item;if(y(t))return"function"==typeof t.item}return!1}function Wn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(m(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Hn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Hn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Kn,t,e),e.join("")}function Kn(){}var Qn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Gn=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Hn(t,e){e.push('"',t.replace(Gn,(function(t){var e=Qn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Qn[t]=e),e})),'"')}function Yn(){var t=pr();return ve&&!!ke&&11==ke||/Edge\/\d+/.test(t)}function Xn(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function $n(t,e){e=e||u.window;var n="about:blank";t&&(n=wt(Tt(t)).toString()),e.location.href=n}function Jn(t){return!!((t=(t||pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Zn(t){t=t||u.window;try{t.close()}catch(t){}}function tr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=pr().toLowerCase(),r&&(e.target=r,yt(n,"crios/")&&(e.target="_blank")),cr(pr())==lr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof bt?n:Tt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((At("iPhone")&&!At("iPod")&&!At("iPad")||At("iPad")||At("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(L(a=r.document.createElement("A"),"HTMLAnchorElement"),e instanceof bt||e instanceof bt||(e="object"==typeof e&&e.qa?e.pa():String(e),Et.test(e)||(e="about:invalid#zClosurez"),e=kt(e)),a.href=wt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=wt(e).toString(),a&&(ge&&yt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Ot('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ft(t)+'">'),a.document.write(_t(t)),a.document.close())):(a=r.open(wt(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var er=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nr=/^[^@]+@[^@]+$/;function rr(){var t=null;return new zt((function(e){"complete"==u.document.readyState?e():(t=function(){e()},Qe(window,"load",t))})).s((function(e){throw Ge(window,"load",t),e}))}function ir(t){return t=t||pr(),!("file:"!==gr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function or(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function ar(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function ur(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":ar()?"Worker":"Browser"}function sr(){var t=ur();return"ReactNative"===t||"Node"===t}var lr="Firefox";function cr(t){var e=t.toLowerCase();return yt(e,"opera/")||yt(e,"opr/")||yt(e,"opios/")?"Opera":yt(e,"iemobile")?"IEMobile":yt(e,"msie")||yt(e,"trident/")?"IE":yt(e,"edge/")?"Edge":yt(e,"firefox/")?lr:yt(e,"silk/")?"Silk":yt(e,"blackberry")?"Blackberry":yt(e,"webos")?"Webos":!yt(e,"safari/")||yt(e,"chrome/")||yt(e,"crios/")||yt(e,"android")?!yt(e,"chrome/")&&!yt(e,"crios/")||yt(e,"edge/")?yt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var hr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function fr(t,e){e=e||[];var n,r=[],i={};for(n in hr)i[hr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=ur())?r=cr(i=pr()):"Worker"===r&&(r=cr(i=pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function pr(){return u.navigator&&u.navigator.userAgent||""}function dr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function mr(){try{var t=u.localStorage,e=Sr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Yn()||!!u.indexedDB}catch(t){return ar()&&!!u.indexedDB}return!1}function vr(){return(yr()||"chrome-extension:"===gr()||ir())&&!sr()&&mr()&&!ar()}function yr(){return"http:"===gr()||"https:"===gr()}function gr(){return u.location&&u.location.protocol||null}function br(t){return!Jn(t=t||pr())&&cr(t)!=lr}function wr(t){return void 0===t?null:Wn(t)}function Er(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Tr(t){if(null!==t)return JSON.parse(t)}function Sr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ir(t){return"Safari"!=cr(t=t||pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function kr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Cr(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=pr(),e=ur(),this.b=Jn(t)||"ReactNative"===e}function Nr(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Ar(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Dr(){return!(!dr("fireauth.oauthhelper",u)&&!dr("fireauth.iframe",u))}Cr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!yr()&&"chrome-extension:"!==gr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var _r,xr={};function Or(t){xr[t]||(xr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Rr={};Object.defineProperty(Rr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Rr,"abcd",{configurable:!0,enumerable:!0,value:2}),_r=2==Rr.abcd}catch(n){_r=!1}function Pr(t,e,n){_r?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Mr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Pr(t,n,e[n])}function Lr(t){var e={};return Mr(e,t),e}function Fr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Pr(e,n,Fr(t[n]));return e}function jr(t){var e={},n=t[Vr],r=t[qr];if(!(t=t[Br])||t!=Ur&&!n)throw Error("Invalid provider user info!");e[Wr]=r||null,e[zr]=n||null,Pr(this,Qr,t),Pr(this,Kr,Fr(e))}var Ur="EMAIL_SIGNIN",Vr="email",qr="newEmail",Br="requestType",zr="email",Wr="fromEmail",Kr="data",Qr="operation";function Gr(t,e){this.code=Yr+t,this.message=e||Xr[t]||""}function Hr(t){var e=t&&t.code;return e?new Gr(e.substring(Yr.length),t.message):null}C(Gr,Error),Gr.prototype.A=function(){return{code:this.code,message:this.message}},Gr.prototype.toJSON=function(){return this.A()};var Yr="auth/",Xr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function $r(t){var e=wn(t=En(t),Jr)||null,n=wn(t,Zr)||null,r=wn(t,ni)||null;if(r=r&&ii[r]||null,!e||!n||!r)throw new Gr("argument-error",Jr+", "+Zr+"and "+ni+" are required in a valid action code URL.");Mr(this,{apiKey:e,operation:r,code:n,continueUrl:wn(t,ti)||null,languageCode:wn(t,ei)||null,tenantId:wn(t,ri)||null})}var Jr="apiKey",Zr="oobCode",ti="continueUrl",ei="languageCode",ni="mode",ri="tenantId",ii={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Ur,verifyEmail:"VERIFY_EMAIL"};function oi(t){try{return new $r(t)}catch(t){return null}}function ai(t){var e=t[hi];if(void 0===e)throw new Gr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Gr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ui];if(n&&"object"==typeof n){e=n[di];var r=n[fi];if(n=n[pi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Gr("argument-error",fi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Gr("argument-error",pi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Gr("argument-error",di+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Gr("missing-android-pkg-name")}}else if(void 0!==n)throw new Gr("argument-error",ui+" property must be a non null object when specified.");if(this.f=null,(e=t[ci])&&"object"==typeof e){if("string"==typeof(e=e[mi])&&e.length)this.f=e;else if(void 0!==e)throw new Gr("argument-error",mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Gr("argument-error",ci+" property must be a non null object when specified.");if(void 0!==(e=t[li])&&"boolean"!=typeof e)throw new Gr("argument-error",li+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[si])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Gr("argument-error",si+" property must be a non empty string when specified.");this.i=t||null}var ui="android",si="dynamicLinkDomain",li="handleCodeInApp",ci="iOS",hi="url",fi="installApp",pi="minimumVersion",di="packageName",mi="bundleId";function vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var yi=null,gi=null;function bi(t){this.f=t.sub,this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function wi(t){return(t=Ei(t))&&t.sub&&t.iss&&t.aud&&t.exp?new bi(t):null}function Ei(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=gi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!yi){yi={},gi={};for(var t=0;t<65;t++)yi[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),62<=(gi[yi[t]]=t)&&(gi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),u=n(64);if(64===u&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=u&&e(a<<6&192|u))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(t){}return null}bi.prototype.R=function(){return this.c},bi.prototype.g=function(){return this.b};var Ti,Si={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Ii(t){for(var e in Si)if(Si[e].id===t)return{firebaseEndpoint:(t=Si[e]).bb,secureTokenEndpoint:t.ib};return null}Ti=Ii("__EID__")?"__EID__":void 0;var ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ci=["client_id","response_type","scope","redirect_uri","state"],Ni={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Ci},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Ci},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Ci},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:ki}};function Ai(t){for(var e in Ni)if(Ni[e].Pa==t)return Ni[e];return null}function Di(t){var e={};e["facebook.com"]=Pi,e["google.com"]=Li,e["github.com"]=Mi,e["twitter.com"]=Fi;var n=t&&t[xi];try{if(n)return e[n]?new e[n](t):new Ri(t);if(void 0!==t[_i])return new Oi(t)}catch(t){}return null}var _i="idToken",xi="providerId";function Oi(t){var e=t[xi];if(!e&&t[_i]){var n=wi(t[_i]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Pr(this,"providerId",e),Pr(this,"isNewUser",n)}function Ri(t){Oi.call(this,t),Pr(this,"profile",Fr((t=Tr(t.rawUserInfo||"{}"))||{}))}function Pi(t){if(Ri.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Mi(t){if(Ri.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Pr(this,"username",this.profile&&this.profile.login||null)}function Li(t){if(Ri.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Fi(t){if(Ri.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Pr(this,"username",t.screenName||null)}function ji(t){var e=En(t),n=wn(e,"link"),r=wn(En(n),"link");return wn(En(e=wn(e,"deep_link_id")),"link")||e||r||n||t}function Ui(){}function Vi(t,e){return t.then((function(t){if(t[Aa]){var n=wi(t[Aa]);if(!n||e!=n.f)throw new Gr("user-mismatch");return t}throw new Gr("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==Yr+"user-not-found"?new Gr("user-mismatch"):t}))}function qi(t,e){if(!e)throw new Gr("internal-error","failed to construct a credential");this.a=e,Pr(this,"providerId",t),Pr(this,"signInMethod",t)}function Bi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function zi(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new qi(t.providerId,t.pendingToken)}catch(t){}return null}function Wi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Pr(this,"idToken",e.idToken),e.accessToken&&Pr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Pr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Gr("internal-error","failed to construct a credential");Pr(this,"accessToken",e.oauthToken),Pr(this,"secret",e.oauthTokenSecret)}Pr(this,"providerId",t),Pr(this,"signInMethod",n)}function Ki(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Rn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Qi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Wi(t.providerId,e,t.signInMethod)}catch(t){}}return null}function Gi(t,e){this.Fc=e||[],Mr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(Ai(t)||{}).Oa||null,this.ab=null}function Hi(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Gr("argument-error",'SAML provider IDs must be prefixed with "saml."');Gi.call(this,t,[])}function Yi(t){Gi.call(this,t,Ci),this.a=[]}function Xi(){Yi.call(this,"facebook.com")}function $i(t){if(!t)throw new Gr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Xi).credential({accessToken:e})}function Ji(){Yi.call(this,"github.com")}function Zi(t){if(!t)throw new Gr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Ji).credential({accessToken:e})}function to(){Yi.call(this,"google.com"),this.wa("profile")}function eo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new to).credential({idToken:n,accessToken:e})}function no(){Gi.call(this,"twitter.com",ki)}function ro(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Gr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Wi("twitter.com",n,"twitter.com")}function io(t,e,n){this.a=t,this.c=e,Pr(this,"providerId","password"),Pr(this,"signInMethod",n===ao.EMAIL_LINK_SIGN_IN_METHOD?ao.EMAIL_LINK_SIGN_IN_METHOD:ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function oo(t){return t&&t.email&&t.password?new io(t.email,t.password,t.signInMethod):null}function ao(){Mr(this,{providerId:"password",isOAuthProvider:!1})}function uo(t,e){if(!(e=so(e)))throw new Gr("argument-error","Invalid email link!");return new io(t,e.code,ao.EMAIL_LINK_SIGN_IN_METHOD)}function so(t){return(t=oi(t=ji(t)))&&t.operation===Ur?t:null}function lo(t){if(!(t.Ua&&t.Ta||t.Fa&&t.ba))throw new Gr("internal-error");this.a=t,Pr(this,"providerId","phone"),Pr(this,"signInMethod","phone")}function co(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new lo(e)}return null}function ho(t){return t.a.Fa&&t.a.ba?{temporaryProof:t.a.Fa,phoneNumber:t.a.ba}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function fo(e){try{this.a=e||t.auth()}catch(e){throw new Gr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Mr(this,{providerId:"phone",isOAuthProvider:!1})}function po(t,e){if(!t)throw new Gr("missing-verification-id");if(!e)throw new Gr("missing-verification-code");return new lo({Ua:t,Ta:e})}function mo(t){if(t.temporaryProof&&t.phoneNumber)return new lo({Fa:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return eo(o,n);case"facebook.com":return $i(n);case"github.com":return Zi(n);case"twitter.com":return ro(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new qi(e,a):new Wi(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Yi(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function vo(t){if(!t.isOAuthProvider)throw new Gr("invalid-oauth-provider")}function yo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Gr("invalid-auth-event");if(this.g&&this.a)throw new Gr("invalid-auth-event");if(this.g&&!this.f)throw new Gr("invalid-auth-event")}function go(t){return(t=t||{}).type?new yo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Hr(t.error),t.postBody,t.tenantId):null}function bo(){this.b=null,this.a=[]}C(Ri,Oi),C(Pi,Ri),C(Mi,Ri),C(Li,Ri),C(Fi,Ri),qi.prototype.na=function(t){return Qa(t,Bi(this))},qi.prototype.b=function(t,e){var n=Bi(this);return n.idToken=e,Ga(t,n)},qi.prototype.f=function(t,e){return Vi(Ha(t,Bi(this)),e)},qi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Wi.prototype.na=function(t){return Qa(t,Ki(this))},Wi.prototype.b=function(t,e){var n=Ki(this);return n.idToken=e,Ga(t,n)},Wi.prototype.f=function(t,e){return Vi(Ha(t,Ki(this)),e)},Wi.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Gi.prototype.Ea=function(t){return this.zb=H(t),this},C(Hi,Gi),C(Yi,Gi),Yi.prototype.wa=function(t){return q(this.a,t)||this.a.push(t),this},Yi.prototype.Hb=function(){return K(this.a)},Yi.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Gr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Wi(this.providerId,n,this.providerId)},C(Xi,Yi),Pr(Xi,"PROVIDER_ID","facebook.com"),Pr(Xi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(Ji,Yi),Pr(Ji,"PROVIDER_ID","github.com"),Pr(Ji,"GITHUB_SIGN_IN_METHOD","github.com"),C(to,Yi),Pr(to,"PROVIDER_ID","google.com"),Pr(to,"GOOGLE_SIGN_IN_METHOD","google.com"),C(no,Gi),Pr(no,"PROVIDER_ID","twitter.com"),Pr(no,"TWITTER_SIGN_IN_METHOD","twitter.com"),io.prototype.na=function(t){return this.signInMethod==ao.EMAIL_LINK_SIGN_IN_METHOD?Su(t,nu,{email:this.a,oobCode:this.c}):Su(t,bu,{email:this.a,password:this.c})},io.prototype.b=function(t,e){return this.signInMethod==ao.EMAIL_LINK_SIGN_IN_METHOD?Su(t,ru,{idToken:e,email:this.a,oobCode:this.c}):Su(t,pu,{idToken:e,email:this.a,password:this.c})},io.prototype.f=function(t,e){return Vi(this.na(t),e)},io.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Mr(ao,{PROVIDER_ID:"password"}),Mr(ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Mr(ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),lo.prototype.na=function(t){return t.Va(ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,Su(t,Eu,n)},lo.prototype.f=function(t,e){var n=ho(this);return n.operation="REAUTH",Vi(t=Su(t,Tu,n),e)},lo.prototype.A=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.ba&&(t.phoneNumber=this.a.ba),t},fo.prototype.Va=function(t,e){var n=this.a.b;return Xt(e.verify()).then((function(r){if(!s(r))throw new Gr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Su(t,hu,e)}(n,{phoneNumber:t,recaptchaToken:r}).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new Gr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Mr(fo,{PROVIDER_ID:"phone"}),Mr(fo,{PHONE_SIGN_IN_METHOD:"phone"}),yo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},yo.prototype.R=function(){return this.h},yo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var wo,Eo=null;function To(t){var e="unauthorized-domain",n=void 0,r=En(t);t=r.b,"chrome-extension"==(r=r.f)?n=Lt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Lt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Gr.call(this,e,n)}function So(t,e,n){Gr.call(this,t,n),(t=e||{}).Ab&&Pr(this,"email",t.Ab),t.ba&&Pr(this,"phoneNumber",t.ba),t.credential&&Pr(this,"credential",t.credential),t.Qb&&Pr(this,"tenantId",t.Qb)}function Io(t){if(t.code){var e=t.code||"";0==e.indexOf(Yr)&&(e=e.substring(Yr.length));var n={credential:mo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Gr(e,t.message||void 0);return new So(e,n,t.message)}return null}function ko(){}function Co(t){return t.c||(t.c=t.b())}function No(){}function Ao(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Do(){}function _o(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.fc,this),this.a.onerror=S(this.Ib,this),this.a.onprogress=S(this.gc,this),this.a.ontimeout=S(this.kc,this)}function xo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Oo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ro(t){this.f=t,this.b=this.c=this.a=null}function Po(t,e){this.name=t,this.value=e}C(To,Gr),C(So,Gr),So.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&X(t,e),t},So.prototype.toJSON=function(){return this.A()},ko.prototype.c=null,C(No,ko),No.prototype.a=function(){var t=Ao(this);return t?new ActiveXObject(t):new XMLHttpRequest},No.prototype.b=function(){var t={};return Ao(this)&&(t[0]=!0,t[1]=!0),t},wo=new No,C(Do,ko),Do.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new _o;throw Error("Unsupported browser")},Do.prototype.b=function(){return{}},(n=_o.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,xo(this,4)},n.Ib=function(){this.status=500,this.response=this.responseText="",xo(this,4)},n.kc=function(){this.Ib()},n.gc=function(){this.status=200,xo(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Oo.prototype.a=null,Oo.prototype.reset=function(t,e,n,r,i){delete this.a},Po.prototype.toString=function(){return this.name};var Mo=new Po("SEVERE",1e3),Lo=new Po("WARNING",900),Fo=new Po("CONFIG",700),jo=new Po("FINE",500);Ro.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(_("Root logger has no level set."),null)}(this).value)for(y(e)&&(e=e()),t=new Oo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Uo,Vo={},qo=null;function Bo(t){var e;if(qo||(qo=new Ro(""),(Vo[""]=qo).c=Fo),!(e=Vo[t])){e=new Ro(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Bo(t.substr(0,n))).b||(n.b={}),(n.b[r]=e).a=n,Vo[t]=e}return e}function zo(t,e){t&&t.log(jo,e,void 0)}function Wo(t){this.f=t}function Ko(t){nn.call(this),this.o=t,this.readyState=Qo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Bo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}C(Wo,ko),Wo.prototype.a=function(){return new Ko(this.f)},Wo.prototype.b=(Uo={},function(){return Uo}),C(Ko,nn);var Qo=0;function Go(t){t.c.read().then(t.ec.bind(t)).catch(t.Ma.bind(t))}function Ho(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Yo(t)}function Yo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Xo(t){nn.call(this),this.headers=new hn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=$o,this.v=this.P=!1}(n=Ko.prototype).open=function(t,e){if(this.readyState!=Qo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Yo(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Ma.bind(this))},n.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ho(this,!1)),this.readyState=Qo},n.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Yo(this)),this.a&&(this.readyState=3,Yo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Go(this)):t.text().then(this.ic.bind(this),this.Ma.bind(this)))))},n.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Ho(this,!0):Yo(this),3==this.readyState&&Go(this)}},n.ic=function(t){this.a&&(this.response=this.responseText=t,Ho(this,!0))},n.hc=function(t){this.a&&(this.response=t,Ho(this,!0))},n.Ma=function(t){var e=this.h;e&&e.log(Lo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Ho(this,!0)},n.setRequestHeader=function(t,e){this.i.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Lo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Lo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},C(Xo,nn);var $o="";Xo.prototype.b=Bo("goog.net.XhrIo");var Jo=/^https?$/i,Zo=["POST","PUT"];function ta(t){return"content-type"==t.toLowerCase()}function ea(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,na(t),ia(t)}function na(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ra(t){if(t.c&&void 0!==a)if(t.w[1]&&4==aa(t)&&2==ua(t))zo(t.b,sa(t,"Local request error detected and ignored"));else if(t.i&&4==aa(t))un(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==aa(t)){zo(t.b,sa(t,"Request complete")),t.c=!1;try{var e,n=ua(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(dn)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!Jo.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<aa(t)?t.a.statusText:""}catch(e){zo(t.b,"Can not get status: "+e.message),l=""}t.h=l+" ["+ua(t)+"]",na(t)}}finally{ia(t)}}}function ia(t,e){if(t.a){oa(t);var n=t.a,r=t.w[0]?f:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Mo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function oa(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(u.clearTimeout(t.o),t.o=null)}function aa(t){return t.a?t.a.readyState:0}function ua(t){try{return 2<aa(t)?t.a.status:-1}catch(t){return-1}}function sa(t,e){return e+" ["+t.O+" "+t.l+" "+ua(t)+"]"}function la(t){var e=wa;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ca(t,e,n){t.a=!0,t.c=n,t.f=!e,da(t)}function ha(t){if(t.a){if(!t.u)throw new ma(t);t.u=!1}}function fa(t,e,n,r){t.g.push([e,n,r]),t.a&&da(t)}function pa(t){return V(t.g,(function(t){return y(t[1])}))}function da(t){if(t.h&&t.a&&pa(t)){var e=t.h,n=ga[e];n&&(u.clearTimeout(n.a),delete ga[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(N(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,pa(t)||(n=!0)}}t.c=e,r&&(s=S(t.m,t,!0),r=S(t.m,t,!1),e instanceof la?(fa(e,s,r),e.w=!0):e.then(s,r)),n&&(e=new ya(e),ga[e.a]=e,t.h=e.a)}function ma(){A.call(this)}function va(){A.call(this)}function ya(t){this.a=u.setTimeout(S(this.c,this),0),this.b=t}(n=Xo.prototype).Ga=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",zo(this.b,sa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(zo(this.b,sa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ia(this))},n.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ia(this,!0)),Xo.qb.xa.call(this)},n.Lb=function(){this.ta||(this.J||this.i||this.f?ra(this):this.yc())},n.yc=function(){ra(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case $o:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Mo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return zo(this.b,"Can not get response: "+t.message),null}},la.prototype.cancel=function(t){if(this.a)this.c instanceof la&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new va(this),ha(this),ca(this,!1,t))}},la.prototype.m=function(t,e){this.i=!1,ca(this,t,e)},la.prototype.then=function(t,e,n){var r,i,o=new zt((function(t,e){r=t,i=e}));return fa(this,r,(function(t){t instanceof va?o.cancel():i(t)})),o.then(t,e,n)},la.prototype.$goog_Thenable=!0,C(ma,A),ma.prototype.message="Deferred has already fired",ma.prototype.name="AlreadyCalledError",C(va,A),va.prototype.message="Deferred was canceled",va.prototype.name="CanceledError",ya.prototype.c=function(){throw delete ga[this.a],this.b};var ga={};function ba(t){var e,n=document,r=rt(t).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},a=new la(o);return e=window.setTimeout((function(){Ea(i,!0);var t=new Ia(Sa,"Timeout reached for loading script "+r);ha(a),ca(a,!1,t)}),5e3),o.Ga=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ea(i,!1,e),ha(a),ca(a,!0,null))},i.onerror=function(){Ea(i,!0,e);var t=new Ia(Ta,"Error while loading script "+r);ha(a),ca(a,!1,t)},X(o={},{type:"text/javascript",charset:"UTF-8"}),qn(i,o),function(t,e){L(t,"HTMLScriptElement"),t.src=rt(e),null===h&&(h=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=h)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function wa(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Ea(t,!0,this.Ga)}}function Ea(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ta=0,Sa=1;function Ia(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),A.call(this,n),this.code=t}function ka(t){this.f=t}function Ca(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||Da,this.g=H(e.secureTokenHeaders||_a),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||xa,this.a=H(e.firebaseHeaders||Oa),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==ur(),!(r=u.XMLHttpRequest||r&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest)&&!ar())throw new Gr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ar()?this.f=new Wo(self):sr()?this.f=new ka(r):this.f=new Do,this.b=null}C(Ia,A),C(ka,ko),ka.prototype.a=function(){return new this.f},ka.prototype.b=function(){return{}};var Na,Aa="idToken",Da=new Cr(3e4,6e4),_a={"Content-Type":"application/x-www-form-urlencoded"},xa=new Cr(3e4,6e4),Oa={"Content-Type":"application/json"};function Ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Pa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ma(t,e,n,r,i,o,a){(t=function(){var t=pr();return!((t="Chrome"!=cr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&t<30||ve&&ke&&!(9<ke))}()||ar()?S(t.o,t):(Na=Na||new zt((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(u[Fa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){fa(t,null,e,void 0)}(ba(it(La,{onload:Fa})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)})),S(t.m,t)))(e,n,r,i,o,a)}Ca.prototype.R=function(){return this.b},Ca.prototype.o=function(t,e,n,r,i,o){if(ar()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new Gr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Xo(this.f);if(o){a.g=Math.max(0,o);var l=setTimeout((function(){a.dispatchEvent("timeout")}),o)}rn(a,"complete",(function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return zo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),on(a,"ready",(function(){l&&clearTimeout(l),he(this)})),on(a,"timeout",(function(){l&&clearTimeout(l),he(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():wo.a(),t.w=t.B?Co(t.B):Co(wo),t.a.onreadystatechange=S(t.Lb,t);try{zo(t.b,sa(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(e){return zo(t.b,sa(t,"Error opening Xhr: "+e.message)),void ea(t,e)}e=r||"";var o=new hn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||s(t))j(t,e,void 0);else for(var n=cn(t),r=ln(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ta,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:s(t)?t.charAt(e):t[e]}(o.X()),r=u.FormData&&e instanceof u.FormData,!q(Zo,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{oa(t),0<t.g&&(t.v=function(t){return ve&&Ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),zo(t.b,sa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=S(t.Ga,t)):t.o=un(t.Ga,t.g,t)),zo(t.b,sa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){zo(t.b,sa(t,"Send error: "+e.message)),ea(t,e)}}(a,t,n,r,i)};var La=new $(tt,"https://apis.google.com/js/client.js?onload=%{onload}"),Fa="__fcb"+Math.floor(1e6*Math.random()).toString();function ja(t){if(!s(t=t.email)||!nr.test(t))throw new Gr("invalid-email")}function Ua(t){"email"in t&&ja(t)}function Va(t){if(!t[Aa])throw new Gr("internal-error")}function qa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Gr("internal-error")}else{if(!t.sessionInfo)throw new Gr("missing-verification-id");if(!t.code)throw new Gr("missing-verification-code")}}Ca.prototype.m=function(t,e,n,r,i){var o=this;Na.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ca.prototype.ob=function(){return Su(this,du,{})},Ca.prototype.rb=function(t,e){return Su(this,fu,{idToken:t,email:e})},Ca.prototype.sb=function(t,e){return Su(this,pu,{idToken:t,password:e})};var Ba={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function za(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Gr("internal-error")}function Wa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Mn(t=new xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Ka(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Io(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Io(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Io(t)):t.errorMessage&&(e=Iu(t.errorMessage)),e)throw e;if(!t[Aa])throw new Gr("internal-error")}function Qa(t,e){return e.returnIdpCredential=!0,Su(t,mu,e)}function Ga(t,e){return e.returnIdpCredential=!0,Su(t,yu,e)}function Ha(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Su(t,vu,e)}function Ya(t){if(!t.oobCode)throw new Gr("invalid-action-code")}(n=Ca.prototype).tb=function(t,e){var n={idToken:t},r=[];return Q(Ba,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Su(this,fu,n)},n.kb=function(t,e){return X(t={requestType:"PASSWORD_RESET",email:t},e),Su(this,uu,t)},n.lb=function(t,e){return X(t={requestType:"EMAIL_SIGNIN",email:t},e),Su(this,ou,t)},n.jb=function(t,e){return X(t={requestType:"VERIFY_EMAIL",idToken:t},e),Su(this,au,t)},n.Va=function(t){return Su(this,wu,t)},n.$a=function(t,e){return Su(this,cu,{oobCode:t,newPassword:e})},n.Ka=function(t){return Su(this,$a,{oobCode:t})},n.Xa=function(t){return Su(this,Xa,{oobCode:t})};var Xa={endpoint:"setAccountInfo",D:Ya,fa:"email",F:!0},$a={endpoint:"resetPassword",D:Ya,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Gr("internal-error")},F:!0},Ja={endpoint:"signupNewUser",D:function(t){if(ja(t),!t.password)throw new Gr("weak-password")},K:Va,T:!0,F:!0},Za={endpoint:"createAuthUri",F:!0},tu={endpoint:"deleteAccount",V:["idToken"]},eu={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!m(t.deleteProvider))throw new Gr("internal-error")}},nu={endpoint:"emailLinkSignin",V:["email","oobCode"],D:ja,K:Va,T:!0,F:!0},ru={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:ja,K:Va,T:!0},iu={endpoint:"getAccountInfo"},ou={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Gr("internal-error");ja(t)},fa:"email",F:!0},au={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Gr("internal-error")},fa:"email",F:!0},uu={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Gr("internal-error");ja(t)},fa:"email",F:!0},su={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},lu={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Gr("internal-error")}},cu={endpoint:"resetPassword",D:Ya,fa:"email",F:!0},hu={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},fu={endpoint:"setAccountInfo",V:["idToken"],D:Ua,T:!0},pu={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Ua(t),!t.password)throw new Gr("weak-password")},K:Va,T:!0},du={endpoint:"signupNewUser",K:Va,T:!0,F:!0},mu={endpoint:"verifyAssertion",D:za,Qa:Wa,K:Ka,T:!0,F:!0},vu={endpoint:"verifyAssertion",D:za,Qa:Wa,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Gr("user-not-found");if(t.errorMessage)throw Iu(t.errorMessage);if(!t[Aa])throw new Gr("internal-error")},T:!0,F:!0},yu={endpoint:"verifyAssertion",D:function(t){if(za(t),!t.idToken)throw new Gr("internal-error")},Qa:Wa,K:Ka,T:!0},gu={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Gr("invalid-custom-token")},K:Va,T:!0,F:!0},bu={endpoint:"verifyPassword",D:function(t){if(ja(t),!t.password)throw new Gr("wrong-password")},K:Va,T:!0,F:!0},wu={endpoint:"verifyPhoneNumber",D:qa,K:Va,F:!0},Eu={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Gr("internal-error");qa(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Io(t);Va(t)}},Tu={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:qa,K:Va,F:!0};function Su(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.V))return $t(new Gr("internal-error"));var r,i=e.Kb||"POST";return Xt(n).then(e.D).then((function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o){var a=En(t.h+e);bn(a,"key",t.c),o&&bn(a,"cb",k().toString());var u="GET"==n;if(u)for(var s in r)r.hasOwnProperty(s)&&bn(a,s,r[s]);return new zt((function(e,o){Ma(t,a.toString(),(function(t){t?t.error?o(ku(t,i||{})):e(t):o(new Gr("network-request-failed"))}),n,u?void 0:Wn(Er(r)),t.a,t.i.get())}))}(t,e.endpoint,i,n,e.Yb,e.wb||!1)})).then((function(t){return r=t,e.Qa?e.Qa(n,r):r})).then(e.K).then((function(){if(!e.fa)return r;if(!(e.fa in r))throw new Gr("internal-error");return r[e.fa]}))}function Iu(t){return ku({error:{errors:[{message:t}],code:400,message:t}})}function ku(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Gr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",X(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Gr(r[i],e);return!e&&t&&(e=wr(t)),new Gr("internal-error",e)}function Cu(t){this.b=t,this.a=null,this.fb=function(t){return(_u=_u||new zt((function(t,e){function n(){kr(),dr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){kr(),e(Error("Network Error"))},timeout:Au.get()})}if(dr("gapi.iframes.Iframe"))t();else if(dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){dr("gapi.load")?n():e(Error("Network Error"))},Xt(ba(r=it(Nu,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw _u=null,t}))).then((function(){return new zt((function(e,n){dr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Du.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Nu=new $(tt,"https://apis.google.com/js/api.js?onload=%{onload}"),Au=new Cr(3e4,6e4),Du=new Cr(5e3,15e3),_u=null;function xu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Tn(this.i,"/__/auth/iframe"),bn(this.a,"apiKey",this.g),bn(this.a,"appName",this.h),this.b=null,this.c=[]}function Ou(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Ru(e){try{return t.app(e).auth().Aa()}catch(e){return[]}}function Pu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Mu(t){var e=Xn();return function(t){return Su(t,su,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=En(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,u=r;if(a=0==o.indexOf("chrome-extension://")?En(o).b==a&&"chrome-extension"==u:("http"==u||"https"==u)&&(er.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){t=!0;break t}}t=!1}if(!t)throw new To(Xn())}))}function Lu(t){return t.l||(t.l=rr().then((function(){if(!t.o){var e=t.c,n=t.h,r=Ru(t.b),i=new xu(t.u,t.f,t.b);i.f=e,i.b=n,i.c=K(r||[]),t.o=i.toString()}t.i=new Cu(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then((function(){t.a.register("authEvent",e,dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=go(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Xt(n)}return n.status="ERROR",Xt(n)}))}(t)}))),t.l}function Fu(t){return t.m||(t.v=t.c?fr(t.c,Ru(t.b)):null,t.m=new Ca(t.f,Ii(t.h),t.v)),t.m}function ju(t,e,n,r,i,o,a,u,s,l,c){return(t=new Ou(t,e,n,r,i)).l=o,t.g=a,t.i=u,t.b=H(s||null),t.f=l,t.nb(c).toString()}function Uu(e){if(this.a=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Gr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Vu(t){this.b=t,this.a={},this.f=S(this.c,this)}xu.prototype.toString=function(){return this.f?bn(this.a,"v",this.f):Pn(this.a.a,"v"),this.b?bn(this.a,"eid",this.b):Pn(this.a.a,"eid"),this.c.length?bn(this.a,"fw",this.c.join(",")):Pn(this.a.a,"fw"),this.a.toString()},Ou.prototype.nb=function(t){return this.h=t,this},Ou.prototype.toString=function(){var e=Tn(this.o,"/__/auth/handler");if(bn(e,"apiKey",this.m),bn(e,"appName",this.c),bn(e,"authType",this.u),this.a.isOAuthProvider){var n=this.a;try{var r=t.app(this.c).auth().ha()}catch(e){r=null}for(var i in n.ab=r,bn(e,"providerId",this.a.providerId),r=Er((n=this.a).zb))r[i]=r[i].toString();i=n.Fc,r=H(r);for(var o=0;o<i.length;o++){var a=i[o];a in r&&delete r[a]}n.cb&&n.ab&&!r[n.cb]&&(r[n.cb]=n.ab),G(r)||bn(e,"customParameters",wr(r))}if("function"==typeof this.a.Hb&&(n=this.a.Hb()).length&&bn(e,"scopes",n.join(",")),this.l?bn(e,"redirectUrl",this.l):Pn(e.a,"redirectUrl"),this.g?bn(e,"eventId",this.g):Pn(e.a,"eventId"),this.i?bn(e,"v",this.i):Pn(e.a,"v"),this.b)for(var u in this.b)this.b.hasOwnProperty(u)&&!wn(e,u)&&bn(e,u,this.b[u]);return this.h?bn(e,"tid",this.h):Pn(e.a,"tid"),this.f?bn(e,"eid",this.f):Pn(e.a,"eid"),(u=Ru(this.c)).length&&bn(e,"fw",u.join(",")),e.toString()},(n=Pu.prototype).Fb=function(t,e,n){var r=new Gr("popup-closed-by-user"),i=new Gr("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(t){var e={type:"webStorageSupport"};return Lu(t).then((function(){return function(t,e){return t.fb.then((function(){return new zt((function(n){t.a.send(e.type,e,n,dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&Zn(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new zt((function(e){return function n(){sn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return sn(n).then((function(){e(r)}))}))},n.Ob=function(){var t=pr();return!br(t)&&!Ir(t)},n.Jb=function(){return!1},n.Db=function(t,e,n,r,i,o,a,u){if(!t)return $t(new Gr("popup-blocked"));if(a&&!br())return this.ia().s((function(e){Zn(t),i(e)})),r(),Xt();this.a||(this.a=Mu(Fu(this)));var s=this;return this.a.then((function(){var e=s.ia().s((function(e){throw Zn(t),i(e),e}));return r(),e})).then((function(){vo(n),a||$n(ju(s.u,s.f,s.b,e,n,null,o,s.c,void 0,s.h,u),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t}))},n.Eb=function(t,e,n,r){this.a||(this.a=Mu(Fu(this)));var i=this;return this.a.then((function(){vo(e),$n(ju(i.u,i.f,i.b,t,e,Xn(),n,i.c,void 0,i.h,r))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},n.ia=function(){var t=this;return Lu(this).then((function(){return t.i.fb})).s((function(){throw t.a=null,new Gr("network-request-failed")}))},n.Rb=function(){return!0},n.ya=function(t){this.g.push(t)},n.La=function(t){z(this.g,(function(e){return e==t}))},(n=Uu.prototype).get=function(t){return Xt(this.a.getItem(t)).then((function(t){return t&&Tr(t)}))},n.set=function(t,e){return Xt(this.a.setItem(t,wr(e)))},n.S=function(t){return Xt(this.a.removeItem(t))},n.$=function(){},n.ea=function(){};var qu,Bu=[];function zu(t,e,n){G(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Wu(t){this.a=t}function Ku(t){this.c=t,this.b=!1,this.a=[]}function Qu(t,e,n,r){var i,o,a,u,s=n||{},l=null;if(t.b)return $t(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new zt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),u=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(u),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(u),r(Error("invalid_response"))))}},t.a.push(l),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:s},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Gu(t,l),e})).s((function(e){throw Gu(t,l),e}))}function Gu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(t.a,(function(t){return t==e}))}}function Hu(){if(!Xu())throw new Gr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;ar()&&self?(this.l=function(){var t=ar()?self:null;if(j(Bu,(function(n){n.b==t&&(e=n)})),!e){var e=new Vu(t);Bu.push(e)}return e}(),zu(this.l,"keyChanged",(function(e,n){return es(t).then((function(e){return 0<e.length&&j(t.a,(function(t){t(e)})),{keyProcessed:q(e,n.key)}}))})),zu(this.l,"ping",(function(){return Xt(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Xt().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Xt(null)}().then((function(e){(t.h=e)&&(t.g=new Ku(new Wu(e)),Qu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Yu(t){return t.m||(t.m=function t(e){return new zt((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new zt((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.m}function Xu(){try{return!!u.indexedDB}catch(t){return!1}}function $u(t){return t.objectStore("firebaseLocalStorage")}function Ju(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Zu(t){return new zt((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function ts(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Qu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Xt()}function es(t){return Yu(t).then((function(t){var e=$u(Ju(t,!1));return e.getAll?Zu(e.getAll()):new zt((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function ns(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function rs(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Xt().then((function(){if(Xu()){var t=Sr(),r="__sak"+t;return qu=qu||new Hu,(n=qu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.$((function(t){j(e.a,(function(e){e(t)}))})),t}))}function is(){this.a={},this.type="inMemory"}function os(){if(!function(){var e="Node"==ur();if(!(e=as()||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ur())throw new Gr("internal-error","The LocalStorage compatibility library was not found.");throw new Gr("web-storage-unsupported")}this.a=as()||t.INTERNAL.node.localStorage,this.type="localStorage"}function as(){try{var t=u.localStorage,e=Sr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function us(){this.type="nullStorage"}function ss(){if(!function(){var e="Node"==ur();if(!(e=ls()||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ur())throw new Gr("internal-error","The SessionStorage compatibility library was not found.");throw new Gr("web-storage-unsupported")}this.a=ls()||t.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ls(){try{var t=u.sessionStorage,e=Sr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function cs(){var t={};t.Browser=ps,t.Node=ds,t.ReactNative=ms,t.Worker=vs,this.a=t[ur()]}Vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];j(r,(function(e){i.push(Xt().then((function(){return e(t.origin,t.data.data)})))})),Zt(i).then((function(r){var i=[];j(r,(function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Wu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ku.prototype.close=function(){for(;0<this.a.length;)Gu(this,this.a[0]);this.b=!0},(n=Hu.prototype).set=function(t,e){var n,r=!1,i=this;return Yu(this).then((function(e){return Zu((e=$u(Ju(n=e,!0))).get(t))})).then((function(o){var a=$u(Ju(n,!0));return o?(o.value=e,Zu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Zu(a.add(o)))})).then((function(){return i.c[t]=e,ts(i,t)})).ka((function(){r&&i.b--}))},n.get=function(t){return Yu(this).then((function(e){return Zu($u(Ju(e,!1)).get(t))})).then((function(t){return t&&t.value}))},n.S=function(t){var e=!1,n=this;return Yu(this).then((function(r){return e=!0,n.b++,Zu($u(Ju(r,!0)).delete(t))})).then((function(){return delete n.c[t],ts(n,t)})).ka((function(){e&&n.b--}))},n.$=function(t){0==this.a.length&&function(t){ns(t),function e(){t.f=setTimeout((function(){t.i=es(t).then((function(e){0<e.length&&j(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},n.ea=function(t){z(this.a,(function(e){return e==t})),0==this.a.length&&ns(this)},(n=rs.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},n.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},n.S=function(t){return this.b.then((function(e){return e.S(t)}))},n.$=function(t){this.a.push(t)},n.ea=function(t){z(this.a,(function(e){return e==t}))},(n=is.prototype).get=function(t){return Xt(this.a[t])},n.set=function(t,e){return this.a[t]=e,Xt()},n.S=function(t){return delete this.a[t],Xt()},n.$=function(){},n.ea=function(){},(n=os.prototype).get=function(t){var e=this;return Xt().then((function(){return Tr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return Xt().then((function(){var r=wr(e);null===r?n.S(t):n.a.setItem(t,r)}))},n.S=function(t){var e=this;return Xt().then((function(){e.a.removeItem(t)}))},n.$=function(t){u.window&&We(u.window,"storage",t)},n.ea=function(t){u.window&&Ge(u.window,"storage",t)},(n=us.prototype).get=function(){return Xt(null)},n.set=function(){return Xt()},n.S=function(){return Xt()},n.$=function(){},n.ea=function(){},(n=ss.prototype).get=function(t){var e=this;return Xt().then((function(){return Tr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return Xt().then((function(){var r=wr(e);null===r?n.S(t):n.a.setItem(t,r)}))},n.S=function(t){var e=this;return Xt().then((function(){e.a.removeItem(t)}))},n.$=function(){},n.ea=function(){};var hs,fs,ps={C:os,Sa:ss},ds={C:os,Sa:ss},ms={C:Uu,Sa:us},vs={C:os,Sa:us},ys={$c:"local",NONE:"none",bd:"session"};function gs(){var t=!(Ir(pr())||!or()),e=br(),n=mr();this.m=t,this.h=e,this.l=n,this.a={},t=hs=hs||new cs;try{this.g=!Yn()&&Dr()||!u.indexedDB?new t.a.C:new rs(ar()?new is:new t.a.C)}catch(t){this.g=new is,this.h=!0}try{this.i=new t.a.Sa}catch(t){this.i=new is}this.u=new is,this.f=S(this.Pb,this),this.b={}}function bs(){return fs=fs||new gs}function ws(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Es(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ts(t,e,n){return n=Es(e,n),"local"==e.C&&(t.b[n]=null),ws(t,e.C).S(n)}function Ss(t){t.c&&(clearInterval(t.c),t.c=null)}function Is(t){this.a=t,this.b=bs()}(n=gs.prototype).get=function(t,e){return ws(this,t.C).get(Es(t,e))},n.set=function(t,e,n){var r=Es(t,n),i=this,o=ws(this,t.C);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.C&&(i.b[r]=e)}))},n.addListener=function(t,e,n){t=Es(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),G(this.a)&&(ws(this,"local").$(this.f),this.h||(Yn()||!Dr())&&u.indexedDB||!this.l||function(t){Ss(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Re({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=Es(t,e),this.a[t]&&(z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),G(this.a)&&(ws(this,"local").ea(this.f),Ss(this))},n.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ws(this,"local").ea(this.f):Ss(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.Za(e))},ve&&ke&&10==ke&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,S(this.Za,this))},n.Za=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var ks,Cs={name:"authEvent",C:"local"};function Ns(){this.a=bs()}function As(t,e){this.b=Ds,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0!==ks||(ks=u.Int32Array?new Int32Array(Ls):Ls),this.reset()}C(As,(function(){this.b=-1}));for(var Ds=64,_s=Ds-1,xs=[],Os=0;Os<_s;Os++)xs[Os]=0;var Rs=W(128,xs);function Ps(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var u=0|t.a[2],s=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&u^i&u)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|ks[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=s+a|0,s=u,u=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+u|0,t.a[3]=t.a[3]+s|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Ms(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(s(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Ps(t),i=0);else{if(!v(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Ps(t),i=0)}}t.c=i,t.g+=n}As.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):K(this.h)};var Ls=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Fs(){As.call(this,8,js)}C(Fs,As);var js=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Us(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new Ns,this.g=new Is(this.h),this.f=null,this.b=[],this.a=this.c=null}function Vs(t){return new Gr("invalid-cordova-configuration",t)}function qs(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Bs(t){return t.f||(t.f=t.ia().then((function(){return new zt((function(e){t.ya((function n(r){return e(r),t.La(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),zs(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ji(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Tr(wn(o=En(i),"firebaseError")||null))?Hr(o):null)?new yo(r.c,r.b,null,null,o,null,r.R()):new yo(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}qs(t,i)}))}var n=new yo("unknown",null,null,null,new Gr("no-auth-event")),r=!1,i=sn(500).then((function(){return zs(t).then((function(){r||qs(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(dr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Eo=Eo||new bo,function(t){var e=Eo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=dr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function zs(t){var e=null;return function(t){return t.b.get(Cs,t.a).then((function(t){return go(t)}))}(t.g).then((function(n){return e=n,Ts((n=t.g).b,Cs,n.a)})).then((function(){return e}))}function Ws(t){this.a=t,this.b=bs()}(n=Us.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(ir(void 0)?rr().then((function(){return new zt((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):$t(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof dr("universalLinks.subscribe",u))throw Vs("cordova-universal-links-plugin-fix is not installed");if(void 0===dr("BuildInfo.packageName",u))throw Vs("cordova-plugin-buildinfo is not installed");if("function"!=typeof dr("cordova.plugins.browsertab.openUrl",u))throw Vs("cordova-plugin-browsertab is not installed");if("function"!=typeof dr("cordova.InAppBrowser.open",u))throw Vs("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Gr("cordova-not-ready")}))},n.Fb=function(t,e){return e(new Gr("operation-not-supported-in-this-environment")),Xt()},n.Db=function(){return $t(new Gr("operation-not-supported-in-this-environment"))},n.Rb=function(){return!1},n.Ob=function(){return!0},n.Jb=function(){return!0},n.Eb=function(t,e,n,r){if(this.c)return $t(new Gr("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,l=null,c=null;return this.c=Xt().then((function(){return vo(e),Bs(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new yo(e,r,null,o,new Gr("no-auth-event"),null,i),s=dr("BuildInfo.packageName",u);if("string"!=typeof s)throw new Gr("invalid-cordova-configuration");var l=dr("BuildInfo.displayName",u),c={};if(pr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!pr().toLowerCase().match(/android/))return $t(new Gr("operation-not-supported-in-this-environment"));c.apn=s}l&&(c.appDisplayName=l),o=function(t){var e=new Fs;Ms(e,t),t=[];var n=8*e.g;e.c<56?Ms(e,Rs,56-e.c):Ms(e,Rs,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Ps(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return U(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=ju(t.u,t.i,t.l,e,n,null,r,t.m,c,t.o,i);return t.ia().then((function(){var e=t.h;return t.v.a.set(Cs,a.A(),e)})).then((function(){var e=dr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new Gr("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=dr("cordova.plugins.browsertab.openUrl",u)))throw new Gr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=dr("cordova.InAppBrowser.open",u)))throw new Gr("invalid-cordova-configuration");e=pr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new zt((function(t,e){s=function(){var e=dr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(s),l=function(){a=a||sn(2e3).then((function(){e(new Gr("redirect-cancelled-by-user"))}))},c=function(){Nr()&&l()},o.addEventListener("resume",l,!1),pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(t){return zs(i).then((function(){throw t}))}))})).ka((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.La(s),i.c=null}))},n.ya=function(t){this.b.push(t),Bs(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new yo("unknown",null,null,null,new Gr("no-auth-event")),t(e))}))},n.La=function(t){z(this.b,(function(e){return e==t}))};var Ks={name:"pendingRedirect",C:"session"};function Qs(t){return Ts(t.b,Ks,t.a)}function Gs(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=S(this.o,this),this.b=new ul,this.w=new fl,this.g=new Ws(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Hs(this.B,this.u,this.m,Ti)}function Hs(e,n,r,i){var o=t.SDK_VERSION||null;return ir()?new Us(e,n,r,o,i):new Pu(e,n,r,o,i)}function Ys(t){t.f||(t.f=!0,t.a.ya(t.l));var e=t.a;return t.a.ia().s((function(n){throw t.a==e&&t.reset(),n}))}function Xs(t){t.a.Ob()&&Ys(t).s((function(e){var n=new yo("unknown",null,null,null,new Gr("operation-not-supported-in-this-environment"));nl(e)&&t.o(n)})),t.a.Jb()||sl(t.b)}function $s(t,e){q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ks,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Qs(t.g).then((function(){Ys(t).s((function(e){var n=new yo("unknown",null,null,null,new Gr("operation-not-supported-in-this-environment"));nl(e)&&t.o(n)}))})):Xs(t)})).s((function(){Xs(t)}))}function Js(t,e){z(t.h,(function(t){return t==e}))}Gs.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=Hs(this.B,this.u,this.m),this.i={}},Gs.prototype.o=function(t){if(!t)throw new Gr("invalid-auth-event");if(6e5<=k()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=k())),e=!0;break}}return sl(this.b),e};var Zs=new Cr(2e3,1e4),tl=new Cr(3e4,6e4);function el(t,e,n,r,i,o,a){return t.a.Db(e,n,r,(function(){t.f||(t.f=!0,t.a.ya(t.l))}),(function(){t.reset()}),i,o,a)}function nl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function rl(t,e,n,r,i){var o;return function(t){return t.b.set(Ks,"pending",t.a)}(t.g).then((function(){return t.a.Eb(e,n,r,i).s((function(e){if(nl(e))throw new Gr("operation-not-supported-in-this-environment");return o=e,Qs(t.g).then((function(){throw o}))})).then((function(){return t.a.Rb()?new zt((function(){})):Qs(t.g).then((function(){return t.oa()})).then((function(){})).s((function(){}))}))}))}function il(t,e,n,r,i){return t.a.Fb(r,(function(t){e.ja(n,null,t,i)}),Zs.get())}Gs.prototype.oa=function(){return this.b.oa()};var ol={};function al(t,e,n){var r=e+":"+n;return ol[r]||(ol[r]=new Gs(t,e,n)),ol[r]}function ul(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function sl(t){t.g||(t.g=!0,hl(t,!1,null,null))}function ll(t){t.g&&!t.i&&hl(t,!1,null,null)}function cl(t,e){if(t.b=function(){return Xt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function hl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return $t(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):cl(t,n):cl(t,{user:null}),t.f=[],t.c=[]}function fl(){}function pl(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function dl(t,e){this.a=e,Pr(this,"verificationId",t)}function ml(t,e,n,r){return new fo(t).Va(e,n).then((function(t){return new dl(t,r)}))}function vl(t){var e=Ei(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Gr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Mr(this,{token:t,expirationTime:Ar(1e3*e.exp),authTime:Ar(1e3*e.auth_time),issuedAtTime:Ar(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function yl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gl(t){this.f=t,this.b=this.a=null,this.c=0}function bl(t,e){var n=e[Aa],r=e.refreshToken;e=wl(e.expiresIn),t.b=n,t.c=e,t.a=r}function wl(t){return k()+1e3*parseInt(t,10)}function El(t,e){this.a=t||null,this.b=e||null,Mr(this,{lastSignInTime:Ar(e||null),creationTime:Ar(t||null)})}function Tl(t,e,n,r,i,o){Mr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Sl(t,e){for(var n in Oe.call(this,t),e)this[n]=e[n]}function Il(e,n,r){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=t.SDK_VERSION?fr(t.SDK_VERSION):null,this.a=new Ca(this.l,Ii(Ti),e),this.b=new gl(this.a),xl(this,n[Aa]),bl(this.b,n),Pr(this,"refreshToken",this.b.a),Pl(this,r||{}),nn.call(this),this.J=!1,this.o&&vr()&&(this.i=al(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new yl((function(){return t.G(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-k()-3e5;return 0<e?e:0}))}(this),this.W=S(this.Ha,this);var i=this;this.ga=null,this.va=function(t){i.sa(t.g)},this.Z=null,this.P=[],this.ua=function(t){Cl(i,t.c)},this.Y=null}function kl(t,e){t.Z&&Ge(t.Z,"languageCodeChanged",t.va),(t.Z=e)&&We(e,"languageCodeChanged",t.va)}function Cl(e,n){e.P=n,Pa(e.a,t.SDK_VERSION?fr(t.SDK_VERSION,e.P):null)}function Nl(t,e){t.Y&&Ge(t.Y,"frameworkChanged",t.ua),(t.Y=e)&&We(e,"frameworkChanged",t.ua)}function Al(e){try{return t.app(e.m).auth()}catch(t){throw new Gr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Dl(t){t.B||t.w.b||(t.w.start(),Ge(t,"tokenChanged",t.W),We(t,"tokenChanged",t.W))}function _l(t){Ge(t,"tokenChanged",t.W),t.w.stop()}function xl(t,e){t.ma=e,Pr(t,"_lat",e)}function Ol(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return Zt(e).then((function(){return t}))}function Rl(t){t.i&&!t.J&&(t.J=!0,$s(t.i,t))}function Pl(t,e){Mr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new El(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ml(){}function Ll(t){return Xt().then((function(){if(t.B)throw new Gr("app-deleted")}))}function Fl(t){return U(t.providerData,(function(t){return t.providerId}))}function jl(t,e){e&&(Ul(t,e.providerId),t.providerData.push(e))}function Ul(t,e){z(t.providerData,(function(t){return t.providerId==e}))}function Vl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Pr(t,e,n)}function ql(t,e){t!=e&&(Mr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Pr(t,"metadata",function(t){return new El(t.a,t.b)}(e.metadata)):Pr(t,"metadata",new El),j(e.providerData,(function(e){jl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Pr(t,"refreshToken",t.b.a))}function Bl(t){return t.G().then((function(e){var n=t.isAnonymous;return function(t,e){return Su(t.a,iu,{idToken:e}).then(S(t.zc,t))}(t,e).then((function(){return n||Vl(t,"isAnonymous",!1),e}))}))}function zl(t,e){e[Aa]&&t.ma!=e[Aa]&&(bl(t.b,e),t.dispatchEvent(new Sl("tokenChanged")),xl(t,e[Aa]),Vl(t,"refreshToken",t.b.a))}function Wl(t,e){return Bl(t).then((function(){if(q(Fl(t),e))return Ol(t).then((function(){throw new Gr("provider-already-linked")}))}))}function Kl(t,e,n){return Lr({user:t,credential:mo(e),additionalUserInfo:e=Di(e),operationType:n})}function Ql(t,e){return zl(t,e),t.reload().then((function(){return t}))}function Gl(e,n,r,i,o){if(!vr())return $t(new Gr("operation-not-supported-in-this-environment"));if(e.h&&!o)return $t(e.h);var a=Ai(r.providerId),u=Sr(e.uid+":::"),s=null;(!br()||or())&&e.o&&r.isOAuthProvider&&(s=ju(e.o,e.l,e.m,n,r,null,u,t.SDK_VERSION||null,null,null,e.tenantId));var l=tr(s,a&&a.Da,a&&a.Ca);return i=i().then((function(){if(Yl(e),!o)return e.G().then((function(){}))})).then((function(){return el(e.i,l,n,r,u,!!s,e.tenantId)})).then((function(){return new zt((function(t,r){e.ja(n,null,new Gr("cancelled-popup-request"),e.g||null),e.f=t,e.v=r,e.g=u,e.c=il(e.i,e,n,l,u)}))})).then((function(t){return l&&Zn(l),t?Lr(t):null})).s((function(t){throw l&&Zn(l),t})),Xl(e,i,o)}function Hl(t,e,n,r,i){if(!vr())return $t(new Gr("operation-not-supported-in-this-environment"));if(t.h&&!i)return $t(t.h);var o=null,a=Sr(t.uid+":::");return r=r().then((function(){if(Yl(t),!i)return t.G().then((function(){}))})).then((function(){return t.ca=a,Ol(t)})).then((function(e){return t.da&&(e=(e=t.da).b.set(Zl,t.A(),e.a)),e})).then((function(){return rl(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.da)return tc(t.da);throw o})).then((function(){if(o)throw o})),Xl(t,r,i)}function Yl(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Gr("internal-error");throw new Gr("auth-domain-config-required")}}function Xl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),$t(t.h)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Sl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.I.push(r),r.ka((function(){B(t.I,r)})),r}function $l(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Aa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-k())/1e3;var r=new Il(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&jl(r,Lr(t))})),t.redirectEventId&&(r.ca=t.redirectEventId),r}function Jl(t){this.a=t,this.b=bs()}ul.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ul.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(hl(this,!0,null,t.a),Xt()):e.za(n,r)?function(t,e,n){n=n.za(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.R(),u=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){hl(t,u,e,null)})).s((function(e){hl(t,u,null,e)}))}(this,t,e):$t(new Gr("invalid-auth-event")):(hl(this,!1,null,null),Xt())}else $t(new Gr("invalid-auth-event"))},ul.prototype.oa=function(){var t=this;return new zt((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Gr("timeout");t.a&&t.a.cancel(),t.a=sn(tl.get()).then((function(){t.b||(t.g=!0,hl(t,!0,null,e))}))}(t))}))},fl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Xt()):e.za(n,r)?function(t,e){var n=t.b,r=t.c;e.za(r,n)(t.g,t.f,t.R(),t.i).then((function(t){e.ja(r,t,null,n)})).s((function(t){e.ja(r,null,t,n)}))}(t,e):$t(new Gr("invalid-auth-event"))}else $t(new Gr("invalid-auth-event"))},dl.prototype.confirm=function(t){return t=po(this.verificationId,t),this.a(t)},yl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return t=u.document,e=null,Nr()||!t?Xt():new zt((function(n){e=function(){Nr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}));var t,e})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},gl.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},gl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?$t(new Gr("user-token-expired")):t||!this.b||k()>this.c-3e4?this.a?function(t,e){return function(t,e){return new zt((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ma(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ku(t)):t.access_token&&t.refresh_token?n(t):r(new Gr("internal-error")):r(new Gr("network-request-failed"))}),"POST",Rn(e).toString(),t.g,t.u.get()):r(new Gr("internal-error"))}))}(t.f,e).then((function(e){return t.b=e.access_token,t.c=wl(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Xt(null):Xt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},El.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(Sl,Oe),C(Il,nn),Il.prototype.sa=function(t){this.ga=t,Ra(this.a,t)},Il.prototype.ha=function(){return this.ga},Il.prototype.Aa=function(){return K(this.P)},Il.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Pr(Il.prototype,"providerId","firebase"),(n=Il.prototype).reload=function(){var t=this;return Xl(this,Ll(this).then((function(){return Bl(t).then((function(){return Ol(t)})).then(Ml)})))},n.dc=function(t){return this.G(t).then((function(t){return new vl(t)}))},n.G=function(t){var e=this;return Xl(this,Ll(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new Gr("internal-error");return t.accessToken!=e.ma&&(xl(e,t.accessToken),e.dispatchEvent(new Sl("tokenChanged"))),Vl(e,"refreshToken",t.refreshToken),t.accessToken})))},n.zc=function(t){if(!(t=t.users)||!t.length)throw new Gr("internal-error");Pl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?U(t,(function(t){return new Tl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)jl(this,e[n]);Vl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},n.Ac=function(t){return Or("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},n.gb=function(t){var e=this,n=null;return Xl(this,t.f(this.a,this.uid).then((function(t){return zl(e,t),n=Kl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},n.rc=function(t){return Or("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},n.eb=function(t){var e=this,n=null;return Xl(this,Wl(this,t.providerId).then((function(){return e.G()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Kl(e,t,"link"),Ql(e,t)})).then((function(){return n})))},n.sc=function(t,e){var n=this;return Xl(this,Wl(this,"phone").then((function(){return ml(Al(n),t,e,S(n.eb,n))})))},n.Bc=function(t,e){var n=this;return Xl(this,Xt().then((function(){return ml(Al(n),t,e,S(n.gb,n))})),!0)},n.rb=function(t){var e=this;return Xl(this,this.G().then((function(n){return e.a.rb(n,t)})).then((function(t){return zl(e,t),e.reload()})))},n.Sc=function(t){var e=this;return Xl(this,this.G().then((function(n){return t.b(e.a,n)})).then((function(t){return zl(e,t),e.reload()})))},n.sb=function(t){var e=this;return Xl(this,this.G().then((function(n){return e.a.sb(n,t)})).then((function(t){return zl(e,t),e.reload()})))},n.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ll(this);var e=this;return Xl(this,this.G().then((function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return zl(e,t),Vl(e,"displayName",t.displayName||null),Vl(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(Pr(t,"displayName",e.displayName),Pr(t,"photoURL",e.photoURL))})),Ol(e)})).then(Ml))},n.Qc=function(t){var e=this;return Xl(this,Bl(this).then((function(n){return q(Fl(e),t)?function(t,e,n){return Su(t,eu,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(Fl(e),(function(t){n[t]||Ul(e,t)})),n[fo.PROVIDER_ID]||Pr(e,"phoneNumber",null),Ol(e)})):Ol(e).then((function(){throw new Gr("no-such-provider")}))})))},n.delete=function(){var t=this;return Xl(this,this.G().then((function(e){return Su(t.a,tu,{idToken:e})})).then((function(){t.dispatchEvent(new Sl("userDeleted"))}))).then((function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");kl(t,null),Nl(t,null),t.I=[],t.B=!0,_l(t),Pr(t,"refreshToken",null),t.i&&Js(t.i,t)}))},n.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},n.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},n.za=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?S(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?S(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?S(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?S(this.Cb,this):null},n.tc=function(t){var e=this;return Gl(this,"linkViaPopup",t,(function(){return Wl(e,t.providerId).then((function(){return Ol(e)}))}),!1)},n.Cc=function(t){return Gl(this,"reauthViaPopup",t,(function(){return Xt()}),!0)},n.uc=function(t){var e=this;return Hl(this,"linkViaRedirect",t,(function(){return Wl(e,t.providerId)}),!1)},n.Dc=function(t){return Hl(this,"reauthViaRedirect",t,(function(){return Xt()}),!0)},n.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xl(this,this.G().then((function(n){return Ga(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Kl(i,t,"link"),Ql(i,t)})).then((function(){return o})))},n.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xl(this,Xt().then((function(){return Vi(Ha(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Kl(i,t,"reauthenticate"),zl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},n.jb=function(t){var e=this,n=null;return Xl(this,this.G().then((function(e){return n=e,void 0===t||G(t)?{}:vi(new ai(t))})).then((function(t){return e.a.jb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},n.toJSON=function(){return this.A()},n.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&X(t,this.metadata.A()),j(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var Zl={name:"redirectUser",C:"session"};function tc(t){return Ts(t.b,Zl,t.a)}function ec(t){this.a=t,this.b=bs(),this.c=null,this.f=function(t){var e=ic("local"),n=ic("session"),r=ic("none");return function(t,e,n){var r=Es(e,n),i=ws(t,e.C);return t.get(e,n).then((function(o){var a=null;try{a=Tr(u.localStorage.getItem(r))}catch(o){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(rc,t.a).then((function(t){return t?ic(t):e}))}))}))})).then((function(e){return t.c=e,nc(t,e.C)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(ic("local"),this.a,S(this.g,this))}function nc(t,e){var n,r=[];for(n in ys)ys[n]!==e&&r.push(Ts(t.b,ic(ys[n]),t.a));return r.push(Ts(t.b,rc,t.a)),function(t){return new zt((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},u=0;u<t.length;u++)Jt(t[u],I(o,u),a);else e(i)}))}(r)}ec.prototype.g=function(){var t=this,e=ic("local");sc(this,(function(){return Xt().then((function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null})).then((function(n){if(n)return nc(t,"local").then((function(){t.c=e}))}))}))};var rc={name:"persistence",C:"session"};function ic(t){return{name:"authUser",C:t}}function oc(t,e){return sc(t,(function(){return t.b.set(t.c,e.A(),t.a)}))}function ac(t){return sc(t,(function(){return Ts(t.b,t.c,t.a)}))}function uc(t,e){return sc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),$l(t||{})}))}))}function sc(t,e){return t.f=t.f.then(e,e),t.f}function lc(e){if(this.l=!1,Pr(this,"settings",new pl),Pr(this,"app",e),!yc(this).options||!yc(this).options.apiKey)throw new Gr("invalid-api-key");e=t.SDK_VERSION?fr(t.SDK_VERSION):null,this.b=new Ca(yc(this).options&&yc(this).options.apiKey,Ii(Ti),e),this.O=[],this.m=[],this.J=[],this.Ub=t.INTERNAL.createSubscribe(S(this.oc,this)),this.W=void 0,this.Vb=t.INTERNAL.createSubscribe(S(this.pc,this)),mc(this,null),this.h=new ec(yc(this).options.apiKey+":"+yc(this).name),this.w=new Jl(yc(this).options.apiKey+":"+yc(this).name),this.Y=Ec(this,function(t){var e=yc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Zl,t.a).then((function(t){return t&&e&&(t.authDomain=e),$l(t||{})}))}(t.w,yc(t).options.authDomain).then((function(e){return(t.B=e)&&(e.da=t.w),tc(t.w)}));return Ec(t,e)}(t).then((function(){return uc(t.h,e)})).then((function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then((function(){return oc(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:ac(t.h)}))):null})).then((function(e){mc(t,e||null)}));return Ec(t,n)}(this)),this.i=Ec(this,function(t){return t.Y.then((function(){return pc(t)})).s((function(){})).then((function(){if(!t.l)return t.ma()})).s((function(){})).then((function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(ic("local"),e.a,t.ma)}}))}(this)),this.ga=!1,this.ma=S(this.Nc,this),this.ub=S(this.aa,this),this.ua=S(this.bc,this),this.va=S(this.mc,this),this.Ha=S(this.nc,this),this.a=null,function(t){var e=yc(t).options.authDomain,n=yc(t).options.apiKey;e&&vr()&&(t.Tb=t.Y.then((function(){if(!t.l){if(t.a=al(e,n,yc(t).name),$s(t.a,t),gc(t)&&Rl(gc(t)),t.B){Rl(t.B);var r=t.B;r.sa(t.ha()),kl(r,t),Cl(r=t.B,t.I),Nl(r,t),t.B=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.vc,this),this.o=0,nn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.sa(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function cc(t){Oe.call(this,"languageCodeChanged"),this.g=t}function hc(t){Oe.call(this,"frameworkChanged"),this.c=t}function fc(t){return t.Tb||$t(new Gr("auth-domain-config-required"))}function pc(t){if(!vr())return $t(new Gr("operation-not-supported-in-this-environment"));var e=fc(t).then((function(){return t.a.oa()})).then((function(t){return t?Lr(t):null}));return Ec(t,e)}function dc(t,e){var n={};return n.apiKey=yc(t).options.apiKey,n.authDomain=yc(t).options.authDomain,n.appName=yc(t).name,t.Y.then((function(){return function(t,e,n,r){var i=new Il(t,e);return n&&(i.da=n),r&&Cl(i,r),i.reload().then((function(){return i}))}(n,e,t.w,t.Aa())})).then((function(e){return gc(t)&&e.uid==gc(t).uid?ql(gc(t),e):(mc(t,e),Rl(e)),t.aa(e)})).then((function(){wc(t)}))}function mc(t,e){gc(t)&&(function(t,e){z(t.O,(function(t){return t==e}))}(gc(t),t.ub),Ge(gc(t),"tokenChanged",t.ua),Ge(gc(t),"userDeleted",t.va),Ge(gc(t),"userInvalidated",t.Ha),_l(gc(t))),e&&(e.O.push(t.ub),We(e,"tokenChanged",t.ua),We(e,"userDeleted",t.va),We(e,"userInvalidated",t.Ha),0<t.o&&Dl(e)),Pr(t,"currentUser",e),e&&(e.sa(t.ha()),kl(e,t),Cl(e,t.I),Nl(e,t))}function vc(t,e){var n=null,r=null;return Ec(t,e.then((function(e){return n=mo(e),r=Di(e),dc(t,e)})).then((function(){return Lr({user:gc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function yc(t){return t.app}function gc(t){return t.currentUser}function bc(t){return gc(t)&&gc(t)._lat||null}function wc(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](bc(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](bc(t))}}function Ec(t,e){return t.O.push(e),e.ka((function(){B(t.O,e)})),e}function Tc(){}function Sc(){this.a={},this.b=1e12}ec.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Gr("invalid-persistence-type"),n=new Gr("unsupported-persistence-type");t:{for(r in ys)if(ys[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(ur()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!mr()&&"none"!==t)throw n}}(t),sc(this,(function(){return t!=n.c.C?n.b.get(n.c,n.a).then((function(r){return e=r,nc(n,t)})).then((function(){if(n.c=ic(t),e)return n.b.set(n.c,e,n.a)})):Xt()}))},C(lc,nn),C(cc,Oe),C(hc,Oe),(n=lc.prototype).mb=function(t){return Ec(this,t=this.h.mb(t))},n.sa=function(t){this.Z===t||this.l||(this.Z=t,Ra(this.b,this.Z),this.dispatchEvent(new cc(this.ha())))},n.ha=function(){return this.Z},n.Tc=function(){var t=u.navigator;this.sa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.vc=function(e){this.I.push(e),Pa(this.b,t.SDK_VERSION?fr(t.SDK_VERSION,this.I):null),this.dispatchEvent(new hc(this.I))},n.Aa=function(){return K(this.I)},n.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},n.R=function(){return this.P},n.toJSON=function(){return{apiKey:yc(this).options.apiKey,authDomain:yc(this).options.authDomain,appName:yc(this).name,currentUser:gc(this)&&gc(this).A()}},n.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},n.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},n.za=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?S(this.ac,this):null},n.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,u=Qa(i.b,t).then((function(t){return o=mo(t),a=Di(t),t}));return Ec(this,t=i.Y.then((function(){return u})).then((function(t){return dc(i,t)})).then((function(){return Lr({user:gc(i),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},n.Lc=function(e){if(!vr())return $t(new Gr("operation-not-supported-in-this-environment"));var n=this,r=Ai(e.providerId),i=Sr(),o=null;(!br()||or())&&yc(this).options.authDomain&&e.isOAuthProvider&&(o=ju(yc(this).options.authDomain,yc(this).options.apiKey,yc(this).name,"signInViaPopup",e,null,i,t.SDK_VERSION||null,null,null,this.R()));var a=tr(o,r&&r.Da,r&&r.Ca);return Ec(this,r=fc(this).then((function(t){return el(t,a,"signInViaPopup",e,i,!!o,n.R())})).then((function(){return new zt((function(t,e){n.ja("signInViaPopup",null,new Gr("cancelled-popup-request"),n.g),n.f=t,n.v=e,n.g=i,n.c=il(n.a,n,"signInViaPopup",a,i)}))})).then((function(t){return a&&Zn(a),t?Lr(t):null})).s((function(t){throw a&&Zn(a),t})))},n.Mc=function(t){if(!vr())return $t(new Gr("operation-not-supported-in-this-environment"));var e=this;return Ec(this,fc(this).then((function(){return function(t){return sc(t,(function(){return t.b.set(rc,t.c.C,t.a)}))}(e.h)})).then((function(){return rl(e.a,"signInViaRedirect",t,void 0,e.R())})))},n.oa=function(){var t=this;return pc(this).then((function(e){return t.a&&ll(t.a.b),e})).s((function(e){throw t.a&&ll(t.a.b),e}))},n.Rc=function(t){if(!t)return $t(new Gr("null-user"));if(this.P!=t.tenantId)return $t(new Gr("tenant-id-mismatch"));var e=this,n={};n.apiKey=yc(this).options.apiKey,n.authDomain=yc(this).options.authDomain,n.appName=yc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,o={};return o[Aa]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-k())/1e3,e=new Il(e,o),n&&(e.da=n),r&&Cl(e,r),ql(e,t),e}(t,n,e.w,e.Aa());return Ec(this,this.i.then((function(){if(yc(e).options.apiKey!=t.l)return r.reload()})).then((function(){return gc(e)&&t.uid==gc(e).uid?(ql(gc(e),t),e.aa(t)):(mc(e,r),Rl(r),e.aa(r))})).then((function(){wc(e)})))},n.pb=function(){var t=this;return Ec(this,this.i.then((function(){return t.a&&ll(t.a.b),gc(t)?(mc(t,null),ac(t.h).then((function(){wc(t)}))):Xt()})))},n.Nc=function(){var t=this;return uc(this.h,yc(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=gc(t)&&e){n=gc(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return ql(gc(t),e),gc(t).G();(gc(t)||e)&&(mc(t,e),e&&(Rl(e),e.da=t.w),t.a&&$s(t.a,t),wc(t))}}))},n.aa=function(t){return oc(this.h,t)},n.bc=function(){wc(this),this.aa(gc(this))},n.mc=function(){this.pb()},n.nc=function(){this.pb()},n.oc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(gc(e))}))},n.pc=function(t){var e=this;!function(t,e){t.J.push(e),Ec(t,t.i.then((function(){!t.l&&q(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(bc(t)))})))}(this,(function(){t.next(gc(e))}))},n.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){y(t)?t(gc(r)):y(t.next)&&t.next(gc(r))})),this.Ub(t,e,n)},n.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),y(t)?t(gc(r)):y(t.next)&&t.next(gc(r))})),this.Vb(t,e,n)},n.cc=function(t){var e=this;return Ec(this,this.i.then((function(){return gc(e)?gc(e).G(t).then((function(t){return{accessToken:t}})):null})))},n.Hc=function(t){var e=this;return this.i.then((function(){return vc(e,Su(e.b,gu,{token:t}))})).then((function(t){var n=t.user;return Vl(n,"isAnonymous",!1),e.aa(n),t}))},n.Ic=function(t,e){var n=this;return this.i.then((function(){return vc(n,Su(n.b,bu,{email:t,password:e}))}))},n.Xb=function(t,e){var n=this;return this.i.then((function(){return vc(n,Su(n.b,Ja,{email:t,password:e}))}))},n.Ra=function(t){var e=this;return this.i.then((function(){return vc(e,t.na(e.b))}))},n.Gc=function(t){return Or("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(t)},n.ob=function(){var t=this;return this.i.then((function(){var e=gc(t);return e&&e.isAnonymous?Lr({user:e,credential:null,additionalUserInfo:Lr({providerId:null,isNewUser:!1}),operationType:"signIn"}):vc(t,t.b.ob()).then((function(e){var n=e.user;return Vl(n,"isAnonymous",!0),t.aa(n),e}))}))},n.getUid=function(){return gc(this)&&gc(this).uid||null},n.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&gc(this)&&Dl(gc(this))},n.Ec=function(t){var e=this;j(this.m,(function(n){n==t&&e.o--})),this.o<0&&(this.o=0),0==this.o&&gc(this)&&_l(gc(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.m.push(t),Ec(this,this.i.then((function(){e.l||q(e.m,t)&&t(bc(e))})))},n.removeAuthTokenListener=function(t){z(this.m,(function(e){return e==t}))},n.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(ic("local"),t.a,this.ma),this.a&&(Js(this.a,this),ll(this.a.b)),Promise.resolve()},n.$b=function(t){return Ec(this,function(t,e){return Su(t,Za,{identifier:e,continueUri:yr()?Xn():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},n.qc=function(t){return!!so(t)},n.lb=function(t,e){var n=this;return Ec(this,Xt().then((function(){var t=new ai(e);if(!t.c)throw new Gr("argument-error",li+" must be true when sending sign in link to email");return vi(t)})).then((function(e){return n.b.lb(t,e)})).then((function(){})))},n.Uc=function(t){return this.Ka(t).then((function(t){return t.data.email}))},n.$a=function(t,e){return Ec(this,this.b.$a(t,e).then((function(){})))},n.Ka=function(t){return Ec(this,this.b.Ka(t).then((function(t){return new jr(t)})))},n.Xa=function(t){return Ec(this,this.b.Xa(t).then((function(){})))},n.kb=function(t,e){var n=this;return Ec(this,Xt().then((function(){return void 0===e||G(e)?{}:vi(new ai(e))})).then((function(e){return n.b.kb(t,e)})).then((function(){})))},n.Kc=function(t,e){return Ec(this,ml(this,t,e,S(this.Ra,this)))},n.Jc=function(t,e){var n=this;return Ec(this,Xt().then((function(){var r=e||Xn(),i=uo(t,r);if(!(r=so(r)))throw new Gr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Gr("tenant-id-mismatch");return n.Ra(i)})))},Tc.prototype.render=function(){},Tc.prototype.reset=function(){},Tc.prototype.getResponse=function(){},Tc.prototype.execute=function(){};var Ic=null;function kc(t,e){return(e=Cc(e))&&t.a[e]||null}function Cc(t){return(t=void 0===t?1e12:t)?t.toString():null}function Nc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Vn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():We(this.f,"click",this.i)}function Ac(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Dc(){}Sc.prototype.render=function(t,e){return this.a[this.b.toString()]=new Nc(t,e),this.b++},Sc.prototype.reset=function(t){var e=kc(this,t);t=Cc(t),e&&t&&(e.delete(),delete this.a[t])},Sc.prototype.getResponse=function(t){return(t=kc(this,t))?t.getResponse():null},Sc.prototype.execute=function(t){(t=kc(this,t))&&t.execute()},Nc.prototype.getResponse=function(){return Ac(this),this.b},Nc.prototype.execute=function(){Ac(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(e){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Nc.prototype.delete=function(){Ac(this),this.g=!0,clearTimeout(this.a),this.a=null,Ge(this.f,"click",this.i)},Dc.prototype.g=function(){return Xt(Ic=Ic||new Sc)},Dc.prototype.c=function(){};var _c=null;function xc(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Oc=new $(tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rc=new Cr(3e4,6e4);xc.prototype.g=function(t){var e=this;return new zt((function(n,r){var i=setTimeout((function(){r(new Gr("network-request-failed"))}),Rc.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new Gr("internal-error"));delete u[e.a]},Xt(ba(it(Oc,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new Gr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},xc.prototype.c=function(){this.b--};var Pc=null;function Mc(t,e,n,r,i,o,a){if(Pr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,a=a?_c=_c||new Dc:Pc=Pc||new xc,this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[jc])throw new Gr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uc],!u.document)throw new Gr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Vn(e)||!this.i&&Vn(e).hasChildNodes())throw new Gr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ca(t,o||null,i||null),this.v=r||function(){return null};var s=this;this.l=[];var l=this.a[Lc];this.a[Lc]=function(t){if(Vc(s,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=dr(l,u);"function"==typeof e&&e(t)}};var c=this.a[Fc];this.a[Fc]=function(){if(Vc(s,null),"function"==typeof c)c();else if("string"==typeof c){var t=dr(c,u);"function"==typeof t&&t()}}}var Lc="callback",Fc="expired-callback",jc="sitekey",Uc="size";function Vc(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function qc(t,e){return t.h.push(e),e.ka((function(){B(t.h,e)})),e}function Bc(t){if(t.B)throw new Gr("internal-error","RecaptchaVerifier instance has been destroyed.")}function zc(e,n,r){var i=!1;try{this.b=r||t.app()}catch(e){throw new Gr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Gr("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Aa()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=t.SDK_VERSION?fr(t.SDK_VERSION,a):null,Mc.call(this,r,e,n,(function(){try{var t=o.b.auth().ha()}catch(e){t=null}return t}),a,Ii(Ti),i)}function Wc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Gr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!o){if(e=e[i],i<0||i>=Kc.length)throw new Gr("internal-error","Argument validator received an unsupported number of arguments.");n=Kc[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new Gr("argument-error",t+" failed: "+r)}(n=Mc.prototype).Ba=function(){var t=this;return this.f?this.f:this.f=qc(this,Xt().then((function(){if(yr()&&!ar())return rr();throw new Gr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.v())})).then((function(e){return t.g=e,Su(t.o,lu,{})})).then((function(e){t.a[jc]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},n.render=function(){Bc(this);var t=this;return qc(this,this.Ba().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=Vn(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!Un&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ft(a.name),'"'),a.type){o.push(' type="',Ft(a.type),'"');var u={};X(u,a),delete u.type,a=u}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(s(a)?o.className=a:m(a)?o.className=a.join(" "):qn(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(s(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!v(o)||g(o)&&0<o.nodeType?r(o):j(zn(o)?K(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},n.verify=function(){Bc(this);var t=this;return qc(this,this.render().then((function(e){return new zt((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},n.reset=function(){Bc(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Bc(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Vn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},C(zc,Mc);var Kc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qc(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:s}}function Gc(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:l}}function Hc(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:g}}function Yc(t,e){return{name:t||"",M:"a function",optional:!!e,N:y}}function Xc(t,e){return{name:t||"",M:"null",optional:!!e,N:d}}function $c(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.na||!n)}}}function Jc(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&s(t.type)&&y(t.verify))}}}function Zc(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function th(t,e){for(var n in e){var r=e[n].name;t[r]=rh(r,t[n],e[n].j)}}function eh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:I((function(t){return this[t]}),n),set:I((function(t,e,n,r){Wc(t,[n],[r],!0),this[e]=r}),r,n,e[n].Ya),enumerable:!0})}}function nh(t,e,n,r){t[e]=rh(e,n,r)}function rh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Wc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}th(lc.prototype,{Xa:{name:"applyActionCode",j:[Qc("code")]},Ka:{name:"checkActionCode",j:[Qc("code")]},$a:{name:"confirmPasswordReset",j:[Qc("code"),Qc("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Qc("email"),Qc("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Qc("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Qc("emailLink")]},wc:{name:"onAuthStateChanged",j:[Zc(Hc(),Yc(),"nextOrObserver"),Yc("opt_error",!0),Yc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Zc(Hc(),Yc(),"nextOrObserver"),Yc("opt_error",!0),Yc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Qc("email"),Zc(Hc("opt_actionCodeSettings",!0),Xc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Qc("email"),Hc("actionCodeSettings")]},mb:{name:"setPersistence",j:[Qc("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[$c()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[$c()]},Hc:{name:"signInWithCustomToken",j:[Qc("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Qc("email"),Qc("password")]},Jc:{name:"signInWithEmailLink",j:[Qc("email"),Qc("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Qc("phoneNumber"),Jc()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[Zc({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Il)}},Xc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qc(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Qc("code")]}}),eh(lc.prototype,{lc:{name:"languageCode",Ya:Zc(Qc(),Xc(),"languageCode")},ti:{name:"tenantId",Ya:Zc(Qc(),Xc(),"tenantId")}}),(lc.Persistence=ys).LOCAL="local",lc.Persistence.SESSION="session",lc.Persistence.NONE="none",th(Il.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Gc("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Gc("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[$c()]},eb:{name:"linkWithCredential",j:[$c()]},sc:{name:"linkWithPhoneNumber",j:[Qc("phoneNumber"),Jc()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[$c()]},gb:{name:"reauthenticateWithCredential",j:[$c()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Qc("phoneNumber"),Jc()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[Zc(Hc("opt_actionCodeSettings",!0),Xc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qc(null,!0)]},Qc:{name:"unlink",j:[Qc("provider")]},rb:{name:"updateEmail",j:[Qc("email")]},sb:{name:"updatePassword",j:[Qc("password")]},Sc:{name:"updatePhoneNumber",j:[$c("phone")]},tb:{name:"updateProfile",j:[Hc("profile")]}}),th(Sc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(Tc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(zt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),eh(pl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:Gc("appVerificationDisabledForTesting")}}),th(dl.prototype,{confirm:{name:"confirm",j:[Qc("verificationCode")]}}),nh(Ui,"fromJSON",(function(t){t=s(t)?JSON.parse(t):t;for(var e,n=[Qi,oo,co,zi],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Zc(Qc(),Hc(),"json")]),nh(ao,"credential",(function(t,e){return new io(t,e)}),[Qc("email"),Qc("password")]),th(io.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),th(Xi.prototype,{wa:{name:"addScope",j:[Qc("scope")]},Ea:{name:"setCustomParameters",j:[Hc("customOAuthParameters")]}}),nh(Xi,"credential",$i,[Zc(Qc(),Hc(),"token")]),nh(ao,"credentialWithLink",uo,[Qc("email"),Qc("emailLink")]),th(Ji.prototype,{wa:{name:"addScope",j:[Qc("scope")]},Ea:{name:"setCustomParameters",j:[Hc("customOAuthParameters")]}}),nh(Ji,"credential",Zi,[Zc(Qc(),Hc(),"token")]),th(to.prototype,{wa:{name:"addScope",j:[Qc("scope")]},Ea:{name:"setCustomParameters",j:[Hc("customOAuthParameters")]}}),nh(to,"credential",eo,[Zc(Qc(),Zc(Hc(),Xc()),"idToken"),Zc(Qc(),Xc(),"accessToken",!0)]),th(no.prototype,{Ea:{name:"setCustomParameters",j:[Hc("customOAuthParameters")]}}),nh(no,"credential",ro,[Zc(Qc(),Hc(),"token"),Qc("secret",!0)]),th(Yi.prototype,{wa:{name:"addScope",j:[Qc("scope")]},credential:{name:"credential",j:[Zc(Qc(),Zc(Hc(),Xc()),"optionsOrIdToken"),Zc(Qc(),Xc(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[Hc("customOAuthParameters")]}}),th(Wi.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),th(qi.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),nh(fo,"credential",po,[Qc("verificationId"),Qc("verificationCode")]),th(fo.prototype,{Va:{name:"verifyPhoneNumber",j:[Qc("phoneNumber"),Jc()]}}),th(lo.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),th(Gr.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),th(So.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),th(To.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),th(zc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nh($r,"parseLink",oi,[Qc("link")]),function(){if(void 0===t||!t.INTERNAL||!t.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ur,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:lc,AuthCredential:Ui,Error:Gr};nh(e,"EmailAuthProvider",ao,[]),nh(e,"FacebookAuthProvider",Xi,[]),nh(e,"GithubAuthProvider",Ji,[]),nh(e,"GoogleAuthProvider",to,[]),nh(e,"TwitterAuthProvider",no,[]),nh(e,"OAuthProvider",Yi,[Qc("providerId")]),nh(e,"SAMLAuthProvider",Hi,[Qc("providerId")]),nh(e,"PhoneAuthProvider",fo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof lc)}}]),nh(e,"RecaptchaVerifier",zc,[Zc(Qc(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Hc("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof t.app.App)}}]),nh(e,"ActionCodeURL",$r,[]),t.INTERNAL.registerService("auth",(function(t,e){return e({INTERNAL:{getUid:S((t=new lc(t)).getUid,t),getToken:S(t.cc,t),addAuthTokenListener:S(t.Wb,t),removeAuthTokenListener:S(t.Ec,t)}}),t}),e,(function(t,e){if("create"===t)try{e.auth()}catch(t){}})),t.INTERNAL.extendNamespace({User:Il})}()}.apply(void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-auth - be sure to load firebase-app.js first.")}}(n(5)),function(){var t,e=this||self;function r(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function i(t){return"function"==r(t)}function o(t){return t[a]||(t[a]=++u)}var a="closure_uid_"+(1e9*Math.random()>>>0),u=0;function s(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function h(t,e){function n(){}n.prototype=e.prototype,t.Bd=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ab=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function f(t){if(Error.captureStackTrace)Error.captureStackTrace(this,f);else{const t=Error().stack;t&&(this.stack=t)}t&&(this.message=String(t))}function p(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");f.call(this,n+t[r])}function d(t,e){throw new p("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function m(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function v(t){const e=[];let n=0;for(const r in t)e[n++]=r;return e}function y(t,e){return null!==t&&e in t?t[e]:void 0}h(f,Error),f.prototype.name="CustomError",h(p,f),p.prototype.name="AssertionError";var g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(t,e){let n,r;for(let e=1;e<arguments.length;e++){for(n in r=arguments[e],r)t[n]=r[n];for(let e=0;e<g.length;e++)n=g[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function w(t,e){this.Fc=t===T&&e||"",this.Hc=E}w.prototype.toString=function(){return"Const{"+this.Fc+"}"};var E={},T={},S=new w(T,"");function I(){this.Ac=""}function k(t,e){this.Dc=t===A&&e||"",this.Ic=N}I.prototype.toString=function(){return"SafeScript{"+this.Ac+"}"},I.prototype.Na=function(t){return this.Ac=t,this},(new I).Na(""),k.prototype.toString=function(){return"TrustedResourceUrl{"+this.Dc+"}"};var C,N={},A={};function D(t){return-1!=C.toLowerCase().indexOf(t.toLowerCase())}function _(){this.Cc=""}function x(){this.Bc=""}_.prototype.toString=function(){return"SafeStyle{"+this.Cc+"}"},_.prototype.Na=function(t){return this.Cc=t,this},(new _).Na(""),x.prototype.toString=function(){return"SafeStyleSheet{"+this.Bc+"}"},x.prototype.Na=function(t){return this.Bc=t,this},(new x).Na("");t:{var O=e.navigator;if(O){var R=O.userAgent;if(R){C=R;break t}}C=""}function P(t){return-1!=C.indexOf(t)}function M(){this.dc="",this.Gc=L}M.prototype.toString=function(){return"SafeHtml{"+this.dc+"}"};var L={};M.prototype.Na=function(t){return this.dc=t,this},(new M).Na("<!DOCTYPE html>");var F=(new M).Na("");function j(t,e){null!=t&&this.append.apply(this,arguments)}(new M).Na("<br>"),(t=j.prototype).Ua="",t.set=function(t){this.Ua=""+t},t.append=function(t,e,n){if(this.Ua+=String(t),null!=e)for(let t=1;t<arguments.length;t++)this.Ua+=arguments[t];return this},t.clear=function(){this.Ua=""},t.toString=function(){return this.Ua};var U,V={},q={};if(void 0===V||void 0===q||void 0===B)var B={};if(void 0===V||void 0===q||void 0===z)var z=null;if(void 0===V||void 0===q||void 0===W)var W=null;var K=!0,Q=null;if(void 0===V||void 0===q||void 0===G)var G=null;function H(){return new yi(null,5,[iu,!0,pu,!0,Zo,!1,ra,!1,Ou,null],null)}function Y(){K=!1,z=function(){return console.log.apply(console,m(arguments))},W=function(){return console.error.apply(console,m(arguments))}}function X(t){return null!=t&&!1!==t}function $(t){return t instanceof Array}function J(t){return null==t||!1===t}function Z(t,e){return!!t[r(null==e?null:e)]||!!t._}function tt(t,e){var n=null==e?null:e.constructor;return n=X(X(n)?n.gb:n)?n.Ra:r(e),Error(["No protocol method ",t," defined for type ",n,": ",e].join(""))}function et(t){var e=t.Ra;return X(e)?e:Hn.a(t)}var nt="undefined"!=typeof Symbol&&"function"===r(Symbol)?Symbol.iterator:"@@iterator";function rt(t){for(var e=t.length,n=Array(e),r=0;r<e;)n[r]=t[r],r+=1;return n}function it(t){return Vn((function(t,e){return t.push(e),t}),[],t)}function ot(){}function at(){}function ut(){}function st(t){if(null!=t&&null!=t.L)t=t.L(t);else{var e=st[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=st._))throw tt("ICounted.-count",t);t=e.a?e.a(t):e.call(null,t)}}return t}function lt(){}function ct(t){if(null!=t&&null!=t.W)t=t.W(t);else{var e=ct[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=ct._))throw tt("IEmptyableCollection.-empty",t);t=e.a?e.a(t):e.call(null,t)}}return t}function ht(){}function ft(t,e){if(null!=t&&null!=t.Y)t=t.Y(t,e);else{var n=ft[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=ft._))throw tt("ICollection.-conj",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}function pt(){}var dt=function(){function t(t,e,n){var i=mt[r(null==t?null:t)];if(null!=i)return i.f?i.f(t,e,n):i.call(null,t,e,n);if(null!=(i=mt._))return i.f?i.f(t,e,n):i.call(null,t,e,n);throw tt("IIndexed.-nth",t)}function e(t,e){var n=mt[r(null==t?null:t)];if(null!=n)return n.b?n.b(t,e):n.call(null,t,e);if(null!=(n=mt._))return n.b?n.b(t,e):n.call(null,t,e);throw tt("IIndexed.-nth",t)}var n;return(n=function(n,r,i){switch(arguments.length){case 2:return e.call(this,n,r);case 3:return t.call(this,n,r,i)}throw Error("Invalid arity: "+arguments.length)}).b=e,n.f=t,n}(),mt=function t(e){switch(arguments.length){case 2:return t.b(arguments[0],arguments[1]);case 3:return t.f(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.a(arguments.length)].join(""))}};function vt(){}function yt(t){if(null!=t&&null!=t.Z)t=t.Z(t);else{var e=yt[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=yt._))throw tt("ISeq.-first",t);t=e.a?e.a(t):e.call(null,t)}}return t}function gt(t){if(null!=t&&null!=t.da)t=t.da(t);else{var e=gt[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=gt._))throw tt("ISeq.-rest",t);t=e.a?e.a(t):e.call(null,t)}}return t}function bt(){}function wt(t){if(null!=t&&null!=t.X)t=t.X(t);else{var e=wt[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=wt._))throw tt("INext.-next",t);t=e.a?e.a(t):e.call(null,t)}}return t}function Et(){}mt.b=function(t,e){return null!=t&&null!=t.H?t.H(t,e):dt.b(t,e)},mt.f=function(t,e,n){return null!=t&&null!=t.aa?t.aa(t,e,n):dt.f(t,e,n)},mt.v=3;var Tt=function(){function t(t,e,n){var i=St[r(null==t?null:t)];if(null!=i)return i.f?i.f(t,e,n):i.call(null,t,e,n);if(null!=(i=St._))return i.f?i.f(t,e,n):i.call(null,t,e,n);throw tt("ILookup.-lookup",t)}function e(t,e){var n=St[r(null==t?null:t)];if(null!=n)return n.b?n.b(t,e):n.call(null,t,e);if(null!=(n=St._))return n.b?n.b(t,e):n.call(null,t,e);throw tt("ILookup.-lookup",t)}var n;return(n=function(n,r,i){switch(arguments.length){case 2:return e.call(this,n,r);case 3:return t.call(this,n,r,i)}throw Error("Invalid arity: "+arguments.length)}).b=e,n.f=t,n}(),St=function t(e){switch(arguments.length){case 2:return t.b(arguments[0],arguments[1]);case 3:return t.f(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.a(arguments.length)].join(""))}};function It(t,e,n){if(null!=t&&null!=t.Qa)t=t.Qa(t,e,n);else{var i=It[r(null==t?null:t)];if(null!=i)t=i.f?i.f(t,e,n):i.call(null,t,e,n);else{if(null==(i=It._))throw tt("IAssociative.-assoc",t);t=i.f?i.f(t,e,n):i.call(null,t,e,n)}}return t}function kt(t,e){if(null!=t&&null!=t.jb)t=t.jb(t,e);else{var n=kt[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=kt._))throw tt("IFind.-find",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}function Ct(){}function Nt(t,e){if(null!=t&&null!=t.Tb)t=t.Tb(t,e);else{var n=Nt[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=Nt._))throw tt("IMap.-dissoc",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}function At(t){if(null!=t&&null!=t.Tc)t=t.key;else{var e=At[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=At._))throw tt("IMapEntry.-key",t);t=e.a?e.a(t):e.call(null,t)}}return t}function Dt(t){if(null!=t&&null!=t.Uc)t=t.val;else{var e=Dt[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=Dt._))throw tt("IMapEntry.-val",t);t=e.a?e.a(t):e.call(null,t)}}return t}function _t(){}function xt(t,e){if(null!=t&&null!=t.pc)t=t.pc(t,e);else{var n=xt[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=xt._))throw tt("ISet.-disjoin",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}function Ot(t){if(null!=t&&null!=t.lb)t=t.lb(t);else{var e=Ot[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=Ot._))throw tt("IStack.-peek",t);t=e.a?e.a(t):e.call(null,t)}}return t}function Rt(t){if(null!=t&&null!=t.mb)t=t.mb(t);else{var e=Rt[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=Rt._))throw tt("IStack.-pop",t);t=e.a?e.a(t):e.call(null,t)}}return t}function Pt(){}function Mt(t){if(null!=t&&null!=t.Va)t=t.Va(t);else{var e=Mt[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=Mt._))throw tt("IDeref.-deref",t);t=e.a?e.a(t):e.call(null,t)}}return t}function Lt(){}function Ft(t){if(null!=t&&null!=t.M)t=t.M(t);else{var e=Ft[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=Ft._))throw tt("IMeta.-meta",t);t=e.a?e.a(t):e.call(null,t)}}return t}function jt(t,e){if(null!=t&&null!=t.P)t=t.P(t,e);else{var n=jt[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=jt._))throw tt("IWithMeta.-with-meta",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}function Ut(){}St.b=function(t,e){return null!=t&&null!=t.S?t.S(t,e):Tt.b(t,e)},St.f=function(t,e,n){return null!=t&&null!=t.C?t.C(t,e,n):Tt.f(t,e,n)},St.v=3;var Vt=function(){function t(t,e,n){var i=qt[r(null==t?null:t)];if(null!=i)return i.f?i.f(t,e,n):i.call(null,t,e,n);if(null!=(i=qt._))return i.f?i.f(t,e,n):i.call(null,t,e,n);throw tt("IReduce.-reduce",t)}function e(t,e){var n=qt[r(null==t?null:t)];if(null!=n)return n.b?n.b(t,e):n.call(null,t,e);if(null!=(n=qt._))return n.b?n.b(t,e):n.call(null,t,e);throw tt("IReduce.-reduce",t)}var n;return(n=function(n,r,i){switch(arguments.length){case 2:return e.call(this,n,r);case 3:return t.call(this,n,r,i)}throw Error("Invalid arity: "+arguments.length)}).b=e,n.f=t,n}(),qt=function t(e){switch(arguments.length){case 2:return t.b(arguments[0],arguments[1]);case 3:return t.f(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.a(arguments.length)].join(""))}};function Bt(){}function zt(t,e,n){if(null!=t&&null!=t.Fb)t=t.Fb(t,e,n);else{var i=zt[r(null==t?null:t)];if(null!=i)t=i.f?i.f(t,e,n):i.call(null,t,e,n);else{if(null==(i=zt._))throw tt("IKVReduce.-kv-reduce",t);t=i.f?i.f(t,e,n):i.call(null,t,e,n)}}return t}function Wt(t,e){if(null!=t&&null!=t.B)t=t.B(t,e);else{var n=Wt[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=Wt._))throw tt("IEquiv.-equiv",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}function Kt(t){if(null!=t&&null!=t.R)t=t.R(t);else{var e=Kt[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=Kt._))throw tt("IHash.-hash",t);t=e.a?e.a(t):e.call(null,t)}}return t}function Qt(){}function Gt(t){if(null!=t&&null!=t.T)t=t.T(t);else{var e=Gt[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=Gt._))throw tt("ISeqable.-seq",t);t=e.a?e.a(t):e.call(null,t)}}return t}function Ht(){}function Yt(){}function Xt(){}function $t(){}function Jt(t){if(null!=t&&null!=t.Gb)t=t.Gb(t);else{var e=Jt[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=Jt._))throw tt("IReversible.-rseq",t);t=e.a?e.a(t):e.call(null,t)}}return t}function Zt(t,e){if(null!=t&&null!=t.qc)t=t.qc(t,e);else{var n=Zt[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=Zt._))throw tt("IWriter.-write",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}function te(){}function ee(t,e,n){if(null!=t&&null!=t.N)t=t.N(t,e,n);else{var i=ee[r(null==t?null:t)];if(null!=i)t=i.f?i.f(t,e,n):i.call(null,t,e,n);else{if(null==(i=ee._))throw tt("IPrintWithWriter.-pr-writer",t);t=i.f?i.f(t,e,n):i.call(null,t,e,n)}}return t}function ne(t,e,n){if(null!=t&&null!=t.Hb)t.Hb(t,e,n);else{var i=ne[r(null==t?null:t)];if(null!=i)i.f?i.f(t,e,n):i.call(null,t,e,n);else{if(null==(i=ne._))throw tt("IWatchable.-add-watch",t);i.f?i.f(t,e,n):i.call(null,t,e,n)}}}function re(t,e){if(null!=t&&null!=t.Ib)t.Ib(t,e);else{var n=re[r(null==t?null:t)];if(null!=n)n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=re._))throw tt("IWatchable.-remove-watch",t);n.b?n.b(t,e):n.call(null,t,e)}}}function ie(t){if(null!=t&&null!=t.cb)t=t.cb(t);else{var e=ie[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=ie._))throw tt("IEditableCollection.-as-transient",t);t=e.a?e.a(t):e.call(null,t)}}return t}function oe(t,e){if(null!=t&&null!=t.fb)t=t.fb(t,e);else{var n=oe[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=oe._))throw tt("ITransientCollection.-conj!",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}function ae(t){if(null!=t&&null!=t.nb)t=t.nb(t);else{var e=ae[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=ae._))throw tt("ITransientCollection.-persistent!",t);t=e.a?e.a(t):e.call(null,t)}}return t}function ue(t,e,n){if(null!=t&&null!=t.eb)t=t.eb(t,e,n);else{var i=ue[r(null==t?null:t)];if(null!=i)t=i.f?i.f(t,e,n):i.call(null,t,e,n);else{if(null==(i=ue._))throw tt("ITransientAssociative.-assoc!",t);t=i.f?i.f(t,e,n):i.call(null,t,e,n)}}return t}function se(t){if(null!=t&&null!=t.Rb)t=t.Rb(t);else{var e=se[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=se._))throw tt("IChunk.-drop-first",t);t=e.a?e.a(t):e.call(null,t)}}return t}function le(t){if(null!=t&&null!=t.Eb)t=t.Eb(t);else{var e=le[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=le._))throw tt("IChunkedSeq.-chunked-first",t);t=e.a?e.a(t):e.call(null,t)}}return t}function ce(t){if(null!=t&&null!=t.bb)t=t.bb(t);else{var e=ce[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=ce._))throw tt("IChunkedSeq.-chunked-rest",t);t=e.a?e.a(t):e.call(null,t)}}return t}function he(t,e){if(null!=t&&null!=t.na)t=t.na(t,e);else{var n=he[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=he._))throw tt("IReset.-reset!",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}qt.b=function(t,e){return null!=t&&null!=t.ba?t.ba(t,e):Vt.b(t,e)},qt.f=function(t,e,n){return null!=t&&null!=t.ca?t.ca(t,e,n):Vt.f(t,e,n)},qt.v=3;var fe=function(){function t(t,e,n,i,o){var a=pe[r(null==t?null:t)];if(null!=a)return a.O?a.O(t,e,n,i,o):a.call(null,t,e,n,i,o);if(null!=(a=pe._))return a.O?a.O(t,e,n,i,o):a.call(null,t,e,n,i,o);throw tt("ISwap.-swap!",t)}function e(t,e,n,i){var o=pe[r(null==t?null:t)];if(null!=o)return o.u?o.u(t,e,n,i):o.call(null,t,e,n,i);if(null!=(o=pe._))return o.u?o.u(t,e,n,i):o.call(null,t,e,n,i);throw tt("ISwap.-swap!",t)}function n(t,e,n){var i=pe[r(null==t?null:t)];if(null!=i)return i.f?i.f(t,e,n):i.call(null,t,e,n);if(null!=(i=pe._))return i.f?i.f(t,e,n):i.call(null,t,e,n);throw tt("ISwap.-swap!",t)}function i(t,e){var n=pe[r(null==t?null:t)];if(null!=n)return n.b?n.b(t,e):n.call(null,t,e);if(null!=(n=pe._))return n.b?n.b(t,e):n.call(null,t,e);throw tt("ISwap.-swap!",t)}var o;return(o=function(r,o,a,u,s){switch(arguments.length){case 2:return i.call(this,r,o);case 3:return n.call(this,r,o,a);case 4:return e.call(this,r,o,a,u);case 5:return t.call(this,r,o,a,u,s)}throw Error("Invalid arity: "+arguments.length)}).b=i,o.f=n,o.u=e,o.O=t,o}(),pe=function t(e){switch(arguments.length){case 2:return t.b(arguments[0],arguments[1]);case 3:return t.f(arguments[0],arguments[1],arguments[2]);case 4:return t.u(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return t.O(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",Hn.a(arguments.length)].join(""))}};function de(){}function me(t){if(null!=t&&null!=t.ma)t=t.ma(t);else{var e=me[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=me._))throw tt("IIterable.-iterator",t);t=e.a?e.a(t):e.call(null,t)}}return t}function ve(t){this.gd=t,this.h=1073741824,this.w=0}function ye(t){var e=new j;return t.N(null,new ve(e),H()),Hn.a(e)}pe.b=function(t,e){return null!=t&&null!=t.Ub?t.Ub(t,e):fe.b(t,e)},pe.f=function(t,e,n){return null!=t&&null!=t.Vb?t.Vb(t,e,n):fe.f(t,e,n)},pe.u=function(t,e,n,r){return null!=t&&null!=t.Wb?t.Wb(t,e,n,r):fe.u(t,e,n,r)},pe.O=function(t,e,n,r,i){return null!=t&&null!=t.Xb?t.Xb(t,e,n,r,i):fe.O(t,e,n,r,i)},pe.v=5,ve.prototype.qc=function(t,e){return this.gd.append(e)};var ge="undefined"!=typeof Math&&void 0!==Math.imul&&0!==Math.imul(4294967295,5)?function(t,e){return Math.imul(t,e)}:function(t,e){var n=65535&t,r=65535&e;return n*r+((t>>>16&65535)*r+n*(e>>>16&65535)<<16>>>0)|0};function be(t){return t=ge(0|t,-862048943),ge(t<<15|t>>>-15,461845907)}function we(t,e){return ge((t=(0|t)^(0|e))<<13|t>>>-13,5)+-430675100|0}function Ee(t,e){return t=ge((t=(0|t)^e)^t>>>16,-2048144789),(t=ge(t^t>>>13,-1028477387))^t>>>16}function Te(t){t:for(var e=1,n=0;;){if(!(e<t.length)){e=n;break t}var r=e+2;n=we(n,be(t.charCodeAt(e-1)|t.charCodeAt(e)<<16)),e=r}return Ee(e=1==(1&t.length)?e^be(t.charCodeAt(t.length-1)):e,ge(2,t.length))}var Se,Ie={},ke=0;function Ce(t){if(255<ke&&(Ie={},ke=0),null==t)return 0;var e=Ie[t];if("number"==typeof e)t=e;else{t:if(null!=t)if(e=t.length,0<e)for(var n=0,r=0;;){if(!(n<e)){e=r;break t}var i=n+1;r=ge(31,r)+t.charCodeAt(n),n=i}else e=0;else e=0;Ie[t]=e,ke+=1,t=e}return t}function Ne(t){if(null!=t&&(4194304&t.h||B===t.pd))return 0^t.R(null);if("number"!=typeof t)return!0===t?t=1231:!1===t?t=1237:"string"==typeof t?0!==(t=Ce(t))&&(t=Ee(t=we(0,t=be(t)),4)):t=t instanceof Date?0^t.valueOf():null==t?0:0^Kt(t),t;if(X(isFinite(t)))return Math.floor(t)%2147483647;switch(t){case 1/0:return 2146435072;case-1/0:return-1048576;default:return 2146959360}}function Ae(t,e){return t^e+2654435769+(t<<6)+(t>>2)}function De(t,e,n,r,i){this.yb=t,this.name=e,this.Ta=n,this.ab=r,this.ua=i,this.h=2154168321,this.w=4096}(t=De.prototype).toString=function(){return this.Ta},t.equiv=function(t){return this.B(null,t)},t.B=function(t,e){return e instanceof De&&this.Ta===e.Ta},t.call=((Se=function(t,e,n){switch(arguments.length){case 2:return pn.b(e,this);case 3:return pn.f(e,this,n)}throw Error("Invalid arity: "+(arguments.length-1))}).b=function(t,e){return pn.b(e,this)},Se.f=function(t,e,n){return pn.f(e,this,n)},Se),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return pn.b(t,this)},t.b=function(t,e){return pn.f(t,this,e)},t.M=function(){return this.ua},t.P=function(t,e){return new De(this.yb,this.name,this.Ta,this.ab,e)},t.R=function(){var t=this.ab;return null!=t?t:this.ab=t=Ae(Te(this.name),Ce(this.yb))},t.N=function(t,e){return Zt(e,this.Ta)};var _e=function t(e){switch(arguments.length){case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",Hn.a(arguments.length)].join(""))}};function xe(t){return null!=t?!!(131072&t.w||B===t.qd)||!t.w&&Z(de,t):Z(de,t)}function Oe(t){if(null==t)return null;if(null!=t&&(8388608&t.h||B===t.Xc))return t.T(null);if($(t)||"string"==typeof t)return 0===t.length?null:new on(t,0,null);if(null!=t&&null!=t[nt])return Ve(y(t,nt).call(t));if(Z(Qt,t))return Gt(t);throw Error([Hn.a(t)," is not ISeqable"].join(""))}function Re(t){return null==t?null:null!=t&&(64&t.h||B===t.V)?t.Z(null):null==(t=Oe(t))?null:yt(t)}function Pe(t){return null!=t&&(null!=t&&(64&t.h||B===t.V)||(t=Oe(t)))?t.da(null):Zn}function Me(t){return null==t?null:null!=t&&(128&t.h||B===t.kb)?t.X(null):Oe(Pe(t))}_e.a=function(t){for(;;){if(t instanceof De)return t;if("string"==typeof t){var e=t.indexOf("/");return 1>e?_e.b(null,t):_e.b(t.substring(0,e),t.substring(e+1,t.length))}if(!(t instanceof ir))throw Error("no conversion to symbol");t=t.oa}},_e.b=function(t,e){return new De(t,e,null!=t?[Hn.a(t),"/",Hn.a(e)].join(""):e,null,null)},_e.v=2;var Le=function t(e){switch(arguments.length){case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],new on(n.slice(2),0,null))}};function Fe(t){this.D=t}function je(t){return new Fe(Oe(t))}function Ue(t,e){this.value=t,this.vb=e,this.Pb=null,this.h=8388672,this.w=0}function Ve(t){var e=t.next();return X(e.done)?null:new Ue(e.value,t)}function qe(t,e){return Ee(t=we(0,t=be(t)),e)}function Be(t){var e=0,n=1;for(t=Oe(t);;){if(null==t)return qe(n,e);e+=1,n=ge(31,n)+Ne(Re(t))|0,t=Me(t)}}Le.a=function(){return!0},Le.b=function(t,e){return null==t?null==e:t===e||Wt(t,e)},Le.i=function(t,e,n){for(;;){if(!Le.b(t,e))return!1;if(!Me(n))return Le.b(e,Re(n));t=e,e=Re(n),n=Me(n)}},Le.s=function(t){var e=Re(t),n=Me(t);return t=Re(n),n=Me(n),this.i(e,t,n)},Le.v=2,Fe.prototype.next=function(){if(null!=this.D){var t=Re(this.D);return this.D=Me(this.D),{value:t,done:!1}}return{value:null,done:!0}},Ue.prototype.T=function(){return this},Ue.prototype.Z=function(){return this.value},Ue.prototype.da=function(){return null==this.Pb&&(this.Pb=Ve(this.vb)),this.Pb};var ze=qe(1,0);function We(t){var e=0,n=0;for(t=Oe(t);;){if(null==t)return qe(n,e);e+=1,n=n+Ne(Re(t))|0,t=Me(t)}}var Ke=qe(0,0);function Qe(t){return t+1}function Ge(){this.val=!1,this.h=32768,this.w=0}function He(t){return t instanceof Ge}function Ye(t,e){var n=t.L(null);if(0===n)return e.l?e.l():e.call(null);for(var r=t.H(null,0),i=1;;){if(!(i<n))return r;var o=t.H(null,i);if(He(r=e.b?e.b(r,o):e.call(null,r,o)))return Mt(r);i+=1}}function Xe(t,e){var n=t.length;if(0===t.length)return e.l?e.l():e.call(null);for(var r=t[0],i=1;;){if(!(i<n))return r;var o=t[i];if(He(r=e.b?e.b(r,o):e.call(null,r,o)))return Mt(r);i+=1}}function $e(t,e,n){var r=t.length,i=n;for(n=0;;){if(!(n<r))return i;var o=t[n];if(He(i=e.b?e.b(i,o):e.call(null,i,o)))return Mt(i);n+=1}}function Je(t,e,n,r){for(var i=t.length;;){if(!(r<i))return n;var o=t[r];if(He(n=e.b?e.b(n,o):e.call(null,n,o)))return Mt(n);r+=1}}function Ze(t){return null!=t?!!(2&t.h||B===t.Lc)||!t.h&&Z(ut,t):Z(ut,t)}function tn(t){return null!=t?!!(16&t.h||B===t.mc)||!t.h&&Z(pt,t):Z(pt,t)}function en(t,e,n){var r=cn(t);if(n>=r)return-1;for(!(0<n)&&0>n&&(n=0>(n+=r)?0:n);;){if(!(n<r))return-1;if(Le.b(hn(t,n),e))return n;n+=1}}function nn(t,e,n){var r=cn(t);if(0===r)return-1;for(0<n?n=--r<n?r:n:n=0>n?r+n:n;;){if(!(0<=n))return-1;if(Le.b(hn(t,n),e))return n;--n}}function rn(t,e){this.c=t,this.m=e}function on(t,e,n){this.c=t,this.m=e,this.o=n,this.h=166592766,this.w=139264}function an(t){return 0<t.length?new on(t,0,null):null}function un(t,e,n){this.Db=t,this.m=e,this.o=n,this.h=32374990,this.w=8192}ut.null=!0,st.null=function(){return 0},Date.prototype.B=function(t,e){return e instanceof Date&&this.valueOf()===e.valueOf()},Wt.number=function(t,e){return t===e},ot.function=!0,Lt.function=!0,Ft.function=function(){return null},Kt._=function(t){return o(t)},Ge.prototype.Va=function(){return this.val},rn.prototype.ea=function(){return this.m<this.c.length},rn.prototype.next=function(){var t=this.c[this.m];return this.m+=1,t},(t=on.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.H=function(t,e){if(0<=(t=e+this.m)&&t<this.c.length)return this.c[t];throw Error("Index out of bounds")},t.aa=function(t,e,n){return 0<=(t=e+this.m)&&t<this.c.length?this.c[t]:n},t.ma=function(){return new rn(this.c,this.m)},t.M=function(){return this.o},t.X=function(){return this.m+1<this.c.length?new on(this.c,this.m+1,null):null},t.L=function(){var t=this.c.length-this.m;return 0>t?0:t},t.Gb=function(){var t=this.L(null);return 0<t?new un(this,t-1,null):null},t.R=function(){return Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.ba=function(t,e){return Je(this.c,e,this.c[this.m],this.m+1)},t.ca=function(t,e,n){return Je(this.c,e,n,this.m)},t.Z=function(){return this.c[this.m]},t.da=function(){return this.m+1<this.c.length?new on(this.c,this.m+1,null):Zn},t.T=function(){return this.m<this.c.length?this:null},t.P=function(t,e){return e===this.o?this:new on(this.c,this.m,e)},t.Y=function(t,e){return rr(e,this)},on.prototype[nt]=function(){return je(this)},(t=un.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.o},t.X=function(){return 0<this.m?new un(this.Db,this.m-1,null):null},t.L=function(){return this.m+1},t.R=function(){return Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.ba=function(t,e){return Mn(e,this)},t.ca=function(t,e,n){return Ln(e,n,this)},t.Z=function(){return mt.b(this.Db,this.m)},t.da=function(){return 0<this.m?new un(this.Db,this.m-1,null):Zn},t.T=function(){return this},t.P=function(t,e){return e===this.o?this:new un(this.Db,this.m,e)},t.Y=function(t,e){return rr(e,this)},un.prototype[nt]=function(){return je(this)},Wt._=function(t,e){return t===e};var sn=function t(e){switch(arguments.length){case 0:return t.l();case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],new on(n.slice(2),0,null))}};function ln(t){return null==t?null:null!=t&&(4&t.h||B===t.Nc)?t.W(null):(null!=t?4&t.h||B===t.Nc||!t.h&&Z(lt,t):Z(lt,t))?ct(t):null}function cn(t){if(null!=t)if(null!=t&&(2&t.h||B===t.Lc))t=t.L(null);else if($(t))t=t.length;else if("string"==typeof t)t=t.length;else if(null!=t&&(8388608&t.h||B===t.Xc))t:{t=Oe(t);for(var e=0;;){if(Ze(t)){t=e+st(t);break t}t=Me(t),e+=1}}else t=st(t);else t=0;return t}function hn(t,e){if("number"!=typeof e)throw Error("Index argument to nth must be a number");if(null==t)return t;if(null!=t&&(16&t.h||B===t.mc))return t.H(null,e);if($(t)){if(-1<e&&e<t.length)return t[0|e];throw Error("Index out of bounds")}if("string"==typeof t){if(-1<e&&e<t.length)return t.charAt(0|e);throw Error("Index out of bounds")}if(null!=t&&(64&t.h||B===t.V)||null!=t&&(16777216&t.h||B===t.oc)){if(0>e)throw Error("Index out of bounds");t:for(;;){if(null==t)throw Error("Index out of bounds");if(0===e){if(Oe(t)){t=Re(t);break t}throw Error("Index out of bounds")}if(tn(t)){t=mt.b(t,e);break t}if(!Oe(t))throw Error("Index out of bounds");t=Me(t),--e}return t}if(Z(pt,t))return mt.b(t,e);throw Error(["nth not supported on this type ",Hn.a(et(null==t?null:t.constructor))].join(""))}function fn(t,e){if("number"!=typeof e)throw Error("Index argument to nth must be a number.");if(null==t)return null;if(null!=t&&(16&t.h||B===t.mc))return t.aa(null,e,null);if($(t))return-1<e&&e<t.length?t[0|e]:null;if("string"==typeof t)return-1<e&&e<t.length?t.charAt(0|e):null;if(null!=t&&(64&t.h||B===t.V)||null!=t&&(16777216&t.h||B===t.oc))return 0>e?null:function(t,e){for(var n=null;;){if(null==t)return n;if(0===e)return Oe(t)?Re(t):n;if(tn(t))return mt.f(t,e,n);if(!Oe(t))return n;t=Me(t),--e}}(t,e);if(Z(pt,t))return mt.f(t,e,null);throw Error(["nth not supported on this type ",Hn.a(et(null==t?null:t.constructor))].join(""))}sn.l=function(){return ei},sn.a=function(t){return t},sn.b=function(t,e){return null!=t?ft(t,e):new Xn(null,e,null,1,null)},sn.i=function(t,e,n){for(;;){if(!X(n))return sn.b(t,e);t=sn.b(t,e),e=Re(n),n=Me(n)}},sn.s=function(t){var e=Re(t),n=Me(t);return t=Re(n),n=Me(n),this.i(e,t,n)},sn.v=2;var pn=function t(e){switch(arguments.length){case 2:return t.b(arguments[0],arguments[1]);case 3:return t.f(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.a(arguments.length)].join(""))}};pn.b=function(t,e){return null==t?null:null!=t&&(256&t.h||B===t.Sc)?t.S(null,e):$(t)?null!=e&&e<t.length?t[0|e]:null:"string"==typeof t?null!=e&&-1<e&&e<t.length?t.charAt(0|e):null:Z(Et,t)?St.b(t,e):null},pn.f=function(t,e,n){return null!=t?null!=t&&(256&t.h||B===t.Sc)?t.C(null,e,n):$(t)?null!=e&&-1<e&&e<t.length?t[0|e]:n:"string"==typeof t?null!=e&&-1<e&&e<t.length?t.charAt(0|e):n:Z(Et,t)?St.f(t,e,n):n:n},pn.v=3;var dn=function t(e){switch(arguments.length){case 3:return t.f(arguments[0],arguments[1],arguments[2]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],arguments[2],new on(n.slice(3),0,null))}};dn.f=function(t,e,n){return null!=t&&(512&t.h||B===t.jd)?t.Qa(null,e,n):null!=t?It(t,e,n):wi([e,n])},dn.i=function(t,e,n,r){for(;;){if(t=dn.f(t,e,n),!X(r))return t;e=Re(r),n=Re(Me(r)),r=Me(Me(r))}},dn.s=function(t){var e=Re(t),n=Me(t);t=Re(n);var r=Me(n);return n=Re(r),r=Me(r),this.i(e,t,n,r)},dn.v=3;var mn=function t(e){switch(arguments.length){case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],new on(n.slice(2),0,null))}};function vn(t){var e=i(t);return e||(null!=t?B===t.Kc||!t.ac&&Z(ot,t):Z(ot,t))}function yn(t,e){this.g=t,this.o=e,this.h=393217,this.w=0}function gn(t,e){return i(t)?new yn(t,e):null==t?null:jt(t,e)}function bn(t){return null!=t&&(null!=t?131072&t.h||B===t.Vc||!t.h&&Z(Lt,t):Z(Lt,t))?Ft(t):null}mn.a=function(t){return t},mn.b=function(t,e){return null==t?null:Nt(t,e)},mn.i=function(t,e,n){for(;;){if(null==t)return null;if(t=mn.b(t,e),!X(n))return t;e=Re(n),n=Me(n)}},mn.s=function(t){var e=Re(t),n=Me(t);return t=Re(n),n=Me(n),this.i(e,t,n)},mn.v=2,(t=yn.prototype).M=function(){return this.o},t.P=function(t,e){return new yn(this.g,e)},t.Kc=B,t.call=function(){function t(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w,E){return Nr(this.g,e,n,r,i,an([o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w,E]))}function e(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w){return(t=this).g.Ha?t.g.Ha(e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w):t.g.call(null,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w)}function n(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b){return(t=this).g.Ga?t.g.Ga(e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b):t.g.call(null,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b)}function r(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g){return(t=this).g.Fa?t.g.Fa(e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g):t.g.call(null,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g)}function i(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y){return(t=this).g.Ea?t.g.Ea(e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y):t.g.call(null,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y)}function o(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v){return(t=this).g.Da?t.g.Da(e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v):t.g.call(null,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v)}function a(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m){return(t=this).g.Ca?t.g.Ca(e,n,r,i,o,a,u,s,l,c,h,f,p,d,m):t.g.call(null,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m)}function u(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d){return(t=this).g.Ba?t.g.Ba(e,n,r,i,o,a,u,s,l,c,h,f,p,d):t.g.call(null,e,n,r,i,o,a,u,s,l,c,h,f,p,d)}function s(t,e,n,r,i,o,a,u,s,l,c,h,f,p){return(t=this).g.Aa?t.g.Aa(e,n,r,i,o,a,u,s,l,c,h,f,p):t.g.call(null,e,n,r,i,o,a,u,s,l,c,h,f,p)}function l(t,e,n,r,i,o,a,u,s,l,c,h,f){return(t=this).g.za?t.g.za(e,n,r,i,o,a,u,s,l,c,h,f):t.g.call(null,e,n,r,i,o,a,u,s,l,c,h,f)}function c(t,e,n,r,i,o,a,u,s,l,c,h){return(t=this).g.ya?t.g.ya(e,n,r,i,o,a,u,s,l,c,h):t.g.call(null,e,n,r,i,o,a,u,s,l,c,h)}function h(t,e,n,r,i,o,a,u,s,l,c){return(t=this).g.xa?t.g.xa(e,n,r,i,o,a,u,s,l,c):t.g.call(null,e,n,r,i,o,a,u,s,l,c)}function f(t,e,n,r,i,o,a,u,s,l){return(t=this).g.Ka?t.g.Ka(e,n,r,i,o,a,u,s,l):t.g.call(null,e,n,r,i,o,a,u,s,l)}function p(t,e,n,r,i,o,a,u,s){return(t=this).g.Ja?t.g.Ja(e,n,r,i,o,a,u,s):t.g.call(null,e,n,r,i,o,a,u,s)}function d(t,e,n,r,i,o,a,u){return(t=this).g.Ia?t.g.Ia(e,n,r,i,o,a,u):t.g.call(null,e,n,r,i,o,a,u)}function m(t,e,n,r,i,o,a){return(t=this).g.ja?t.g.ja(e,n,r,i,o,a):t.g.call(null,e,n,r,i,o,a)}function v(t,e,n,r,i,o){return(t=this).g.O?t.g.O(e,n,r,i,o):t.g.call(null,e,n,r,i,o)}function y(t,e,n,r,i){return(t=this).g.u?t.g.u(e,n,r,i):t.g.call(null,e,n,r,i)}function g(t,e,n,r){return(t=this).g.f?t.g.f(e,n,r):t.g.call(null,e,n,r)}function b(t,e,n){return(t=this).g.b?t.g.b(e,n):t.g.call(null,e,n)}function w(t,e){return(t=this).g.a?t.g.a(e):t.g.call(null,e)}function E(t){return(t=this).g.l?t.g.l():t.g.call(null)}var T;return(T=function(T,S,I,k,C,N,A,D,_,x,O,R,P,M,L,F,j,U,V,q,B,z){switch(arguments.length){case 1:return E.call(this,T);case 2:return w.call(this,T,S);case 3:return b.call(this,T,S,I);case 4:return g.call(this,T,S,I,k);case 5:return y.call(this,T,S,I,k,C);case 6:return v.call(this,T,S,I,k,C,N);case 7:return m.call(this,T,S,I,k,C,N,A);case 8:return d.call(this,T,S,I,k,C,N,A,D);case 9:return p.call(this,T,S,I,k,C,N,A,D,_);case 10:return f.call(this,T,S,I,k,C,N,A,D,_,x);case 11:return h.call(this,T,S,I,k,C,N,A,D,_,x,O);case 12:return c.call(this,T,S,I,k,C,N,A,D,_,x,O,R);case 13:return l.call(this,T,S,I,k,C,N,A,D,_,x,O,R,P);case 14:return s.call(this,T,S,I,k,C,N,A,D,_,x,O,R,P,M);case 15:return u.call(this,T,S,I,k,C,N,A,D,_,x,O,R,P,M,L);case 16:return a.call(this,T,S,I,k,C,N,A,D,_,x,O,R,P,M,L,F);case 17:return o.call(this,T,S,I,k,C,N,A,D,_,x,O,R,P,M,L,F,j);case 18:return i.call(this,T,S,I,k,C,N,A,D,_,x,O,R,P,M,L,F,j,U);case 19:return r.call(this,T,S,I,k,C,N,A,D,_,x,O,R,P,M,L,F,j,U,V);case 20:return n.call(this,T,S,I,k,C,N,A,D,_,x,O,R,P,M,L,F,j,U,V,q);case 21:return e.call(this,T,S,I,k,C,N,A,D,_,x,O,R,P,M,L,F,j,U,V,q,B);case 22:return t.call(this,T,S,I,k,C,N,A,D,_,x,O,R,P,M,L,F,j,U,V,q,B,z)}throw Error("Invalid arity: "+(arguments.length-1))}).a=E,T.b=w,T.f=b,T.u=g,T.O=y,T.ja=v,T.Ia=m,T.Ja=d,T.Ka=p,T.xa=f,T.ya=h,T.za=c,T.Aa=l,T.Ba=s,T.Ca=u,T.Da=a,T.Ea=o,T.Fa=i,T.Ga=r,T.Ha=n,T.Rc=e,T.od=t,T}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.l=function(){return this.g.l?this.g.l():this.g.call(null)},t.a=function(t){return this.g.a?this.g.a(t):this.g.call(null,t)},t.b=function(t,e){return this.g.b?this.g.b(t,e):this.g.call(null,t,e)},t.f=function(t,e,n){return this.g.f?this.g.f(t,e,n):this.g.call(null,t,e,n)},t.u=function(t,e,n,r){return this.g.u?this.g.u(t,e,n,r):this.g.call(null,t,e,n,r)},t.O=function(t,e,n,r,i){return this.g.O?this.g.O(t,e,n,r,i):this.g.call(null,t,e,n,r,i)},t.ja=function(t,e,n,r,i,o){return this.g.ja?this.g.ja(t,e,n,r,i,o):this.g.call(null,t,e,n,r,i,o)},t.Ia=function(t,e,n,r,i,o,a){return this.g.Ia?this.g.Ia(t,e,n,r,i,o,a):this.g.call(null,t,e,n,r,i,o,a)},t.Ja=function(t,e,n,r,i,o,a,u){return this.g.Ja?this.g.Ja(t,e,n,r,i,o,a,u):this.g.call(null,t,e,n,r,i,o,a,u)},t.Ka=function(t,e,n,r,i,o,a,u,s){return this.g.Ka?this.g.Ka(t,e,n,r,i,o,a,u,s):this.g.call(null,t,e,n,r,i,o,a,u,s)},t.xa=function(t,e,n,r,i,o,a,u,s,l){return this.g.xa?this.g.xa(t,e,n,r,i,o,a,u,s,l):this.g.call(null,t,e,n,r,i,o,a,u,s,l)},t.ya=function(t,e,n,r,i,o,a,u,s,l,c){return this.g.ya?this.g.ya(t,e,n,r,i,o,a,u,s,l,c):this.g.call(null,t,e,n,r,i,o,a,u,s,l,c)},t.za=function(t,e,n,r,i,o,a,u,s,l,c,h){return this.g.za?this.g.za(t,e,n,r,i,o,a,u,s,l,c,h):this.g.call(null,t,e,n,r,i,o,a,u,s,l,c,h)},t.Aa=function(t,e,n,r,i,o,a,u,s,l,c,h,f){return this.g.Aa?this.g.Aa(t,e,n,r,i,o,a,u,s,l,c,h,f):this.g.call(null,t,e,n,r,i,o,a,u,s,l,c,h,f)},t.Ba=function(t,e,n,r,i,o,a,u,s,l,c,h,f,p){return this.g.Ba?this.g.Ba(t,e,n,r,i,o,a,u,s,l,c,h,f,p):this.g.call(null,t,e,n,r,i,o,a,u,s,l,c,h,f,p)},t.Ca=function(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d){return this.g.Ca?this.g.Ca(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d):this.g.call(null,t,e,n,r,i,o,a,u,s,l,c,h,f,p,d)},t.Da=function(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m){return this.g.Da?this.g.Da(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m):this.g.call(null,t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m)},t.Ea=function(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v){return this.g.Ea?this.g.Ea(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v):this.g.call(null,t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v)},t.Fa=function(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y){return this.g.Fa?this.g.Fa(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y):this.g.call(null,t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y)},t.Ga=function(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g){return this.g.Ga?this.g.Ga(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g):this.g.call(null,t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g)},t.Ha=function(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b){return this.g.Ha?this.g.Ha(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b):this.g.call(null,t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b)},t.Rc=function(t,e,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w){return Nr(this.g,t,e,n,r,an([i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w]))};var wn=function t(e){switch(arguments.length){case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],new on(n.slice(2),0,null))}};function En(t){return null==t||J(Oe(t))}function Tn(t){return null!=t&&(null!=t?!!(8&t.h||B===t.ld)||!t.h&&Z(ht,t):Z(ht,t))}function Sn(t){return null!=t&&(null!=t?!!(4096&t.h||B===t.xd)||!t.h&&Z(_t,t):Z(_t,t))}function In(t){return null!=t?!!(16777216&t.h||B===t.oc)||!t.h&&Z(Ht,t):Z(Ht,t)}function kn(t){return null!=t&&(null!=t?!!(1024&t.h||B===t.td)||!t.h&&Z(Ct,t):Z(Ct,t))}function Cn(t){return null!=t?!!(67108864&t.h||B===t.vd)||!t.h&&Z(Xt,t):Z(Xt,t)}function Nn(t){return null!=t?!!(16384&t.h||B===t.yd)||!t.h&&Z(Pt,t):Z(Pt,t)}function An(t){return null!=t&&!!(512&t.w||B===t.kd)}function Dn(t,e,n,r,i){for(;0!==i;)n[r]=t[e],r+=1,--i,e+=1}wn.a=function(t){return t},wn.b=function(t,e){return null==t?null:xt(t,e)},wn.i=function(t,e,n){for(;;){if(null==t)return null;if(t=wn.b(t,e),!X(n))return t;e=Re(n),n=Me(n)}},wn.s=function(t){var e=Re(t),n=Me(t);return t=Re(n),n=Me(n),this.i(e,t,n)},wn.v=2;var _n={};function xn(t){return null!=t&&(null!=t?!!(64&t.h||B===t.V)||!t.h&&Z(vt,t):Z(vt,t))}function On(t){return null!=t&&!1!==t}function Rn(t){var e=vn(t);return e||(null!=t?!!(1&t.h||B===t.nd)||!t.h&&Z(at,t):Z(at,t))}function Pn(t,e){return pn.f(t,e,_n)!==_n}function Mn(t,e){return(e=Oe(e))?Vn(t,Re(e),Me(e)):t.l?t.l():t.call(null)}function Ln(t,e,n){for(n=Oe(n);;){if(!n)return e;var r=Re(n);if(He(e=t.b?t.b(e,r):t.call(null,e,r)))return Mt(e);n=Me(n)}}function Fn(t,e){if(!X((t=me(t)).ea()))return e.l?e.l():e.call(null);for(var n=t.next();;){if(!t.ea())return n;var r=t.next();if(He(n=e.b?e.b(n,r):e.call(null,n,r)))return Mt(n)}}function jn(t,e,n){for(t=me(t);;){if(!t.ea())return n;var r=t.next();if(He(n=e.b?e.b(n,r):e.call(null,n,r)))return Mt(n)}}function Un(t,e){return null!=e&&(524288&e.h||B===e.Wc)?e.ba(null,t):$(e)||"string"==typeof e?Xe(e,t):Z(Ut,e)?qt.b(e,t):xe(e)?Fn(e,t):Mn(t,e)}function Vn(t,e,n){return null!=n&&(524288&n.h||B===n.Wc)?n.ca(null,t,e):$(n)||"string"==typeof n?$e(n,t,e):Z(Ut,n)?qt.f(n,t,e):xe(n)?jn(n,t,e):Ln(t,e,n)}function qn(t,e,n){return null!=n?zt(n,t,e):e}function Bn(t){return t}function zn(t,e,n,r){return n=Vn(t=t.a?t.a(e):t.call(null,e),n,r),t.a?t.a(n):t.call(null,n)}var Wn=function t(e){switch(arguments.length){case 0:return t.l();case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],new on(n.slice(2),0,null))}};Wn.l=function(){return 0},Wn.a=function(t){return t},Wn.b=function(t,e){return t+e},Wn.i=function(t,e,n){return Vn(Wn,t+e,n)},Wn.s=function(t){var e=Re(t),n=Me(t);return t=Re(n),n=Me(n),this.i(e,t,n)},Wn.v=2;var Kn=function t(e){switch(arguments.length){case 0:return t.l();case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],new on(n.slice(2),0,null))}};function Qn(t){return 0<=(t=(t-t%2)/2)?Math.floor(t):Math.ceil(t)}function Gn(t){return 16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>24}Kn.l=function(){return 1},Kn.a=function(t){return t},Kn.b=function(t,e){return t*e},Kn.i=function(t,e,n){return Vn(Kn,t*e,n)},Kn.s=function(t){var e=Re(t),n=Me(t);return t=Re(n),n=Me(n),this.i(e,t,n)},Kn.v=2;var Hn=function t(e){switch(arguments.length){case 0:return t.l();case 1:return t.a(arguments[0]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],new on(n.slice(1),0,null))}};function Yn(t,e){if(In(e))if(Ze(t)&&Ze(e)&&cn(t)!==cn(e))t=!1;else t:for(t=Oe(t),e=Oe(e);;){if(null==t){t=null==e;break t}if(null==e||!Le.b(Re(t),Re(e))){t=!1;break t}t=Me(t),e=Me(e)}else t=null;return On(t)}function Xn(t,e,n,r,i){this.o=t,this.first=e,this.Oa=n,this.count=r,this.A=i,this.h=65937646,this.w=8192}function $n(t){return null!=t?!!(33554432&t.h||B===t.sd)||!t.h&&Z(Yt,t):Z(Yt,t)}function Jn(t){this.o=t,this.h=65937614,this.w=8192}Hn.l=function(){return""},Hn.a=function(t){return null==t?"":[t].join("")},Hn.i=function(t,e){for(t=new j(Hn.a(t));;){if(!X(e))return t.toString();t=t.append(Hn.a(Re(e))),e=Me(e)}},Hn.s=function(t){var e=Re(t);return t=Me(t),this.i(e,t)},Hn.v=1,(t=Xn.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,this.count)}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.o},t.X=function(){return 1===this.count?null:this.Oa},t.L=function(){return this.count},t.lb=function(){return this.first},t.mb=function(){return this.da(null)},t.R=function(){var t=this.A;return null!=t?t:this.A=t=Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return jt(Zn,this.o)},t.ba=function(t,e){return Mn(e,this)},t.ca=function(t,e,n){return Ln(e,n,this)},t.Z=function(){return this.first},t.da=function(){return 1===this.count?Zn:this.Oa},t.T=function(){return this},t.P=function(t,e){return e===this.o?this:new Xn(e,this.first,this.Oa,this.count,this.A)},t.Y=function(t,e){return new Xn(this.o,e,this,this.count+1,null)},Xn.prototype[nt]=function(){return je(this)},(t=Jn.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.o},t.X=function(){return null},t.L=function(){return 0},t.lb=function(){return null},t.mb=function(){throw Error("Can't pop empty list")},t.R=function(){return ze},t.B=function(t,e){return!(!$n(e)&&!In(e))&&null==Oe(e)},t.W=function(){return this},t.ba=function(t,e){return Mn(e,this)},t.ca=function(t,e,n){return Ln(e,n,this)},t.Z=function(){return null},t.da=function(){return Zn},t.T=function(){return null},t.P=function(t,e){return e===this.o?this:new Jn(e)},t.Y=function(t,e){return new Xn(this.o,e,null,1,null)};var Zn=new Jn(null);function tr(t){return(null!=t?134217728&t.h||B===t.wd||!t.h&&Z($t,t):Z($t,t))?(t=Jt(t))?t:Zn:Vn(sn,Zn,t)}Jn.prototype[nt]=function(){return je(this)};var er=function t(e){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(0<n.length?new on(n.slice(0),0,null):null)};function nr(t,e,n,r){this.o=t,this.first=e,this.Oa=n,this.A=r,this.h=65929452,this.w=8192}function rr(t,e){return null==e?new Xn(null,t,null,1,null):null!=e&&(64&e.h||B===e.V)?new nr(null,t,e,null):new nr(null,t,Oe(e),null)}function ir(t,e,n,r){this.yb=t,this.name=e,this.oa=n,this.ab=r,this.h=2153775105,this.w=4096}function or(t,e){return t===e||t instanceof ir&&e instanceof ir&&t.oa===e.oa}function ar(t){if(null!=t&&(4096&t.w||B===t.nc))return t.yb;throw Error(["Doesn't support namespace: ",Hn.a(t)].join(""))}er.i=function(t){if(t instanceof on&&0===t.m)var e=t.c;else t:for(e=[];null!=t;)e.push(yt(t)),t=wt(t);t=e.length;for(var n=Zn;;){if(!(0<t))return n;var r=t-1;n=ft(n,e[t-1]),t=r}},er.v=0,er.s=function(t){return this.i(Oe(t))},(t=nr.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.o},t.X=function(){return null==this.Oa?null:Oe(this.Oa)},t.R=function(){var t=this.A;return null!=t?t:this.A=t=Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.ba=function(t,e){return Mn(e,this)},t.ca=function(t,e,n){return Ln(e,n,this)},t.Z=function(){return this.first},t.da=function(){return null==this.Oa?Zn:this.Oa},t.T=function(){return this},t.P=function(t,e){return e===this.o?this:new nr(e,this.first,this.Oa,this.A)},t.Y=function(t,e){return new nr(null,e,this,null)},nr.prototype[nt]=function(){return je(this)},(t=ir.prototype).toString=function(){return[":",Hn.a(this.oa)].join("")},t.equiv=function(t){return this.B(null,t)},t.B=function(t,e){return e instanceof ir&&this.oa===e.oa},t.call=function(){var t;return(t=function(t,e,n){switch(arguments.length){case 2:return pn.b(e,this);case 3:return pn.f(e,this,n)}throw Error("Invalid arity: "+(arguments.length-1))}).b=function(t,e){return pn.b(e,this)},t.f=function(t,e,n){return pn.f(e,this,n)},t}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return pn.b(t,this)},t.b=function(t,e){return pn.f(t,this,e)},t.R=function(){var t=this.ab;return null!=t?t:this.ab=t=Ae(Te(this.name),Ce(this.yb))+2654435769|0},t.N=function(t,e){return Zt(e,[":",Hn.a(this.oa)].join(""))};var ur=function t(e){switch(arguments.length){case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",Hn.a(arguments.length)].join(""))}};function sr(t,e,n){this.o=t,this.qb=e,this.D=null,this.A=n,this.h=32374988,this.w=1}function lr(t){return null!=t.qb&&(t.D=t.qb.l?t.qb.l():t.qb.call(null),t.qb=null),t.D}function cr(t){this.G=t,this.end=0,this.h=2,this.w=0}function hr(t,e,n){this.c=t,this.off=e,this.end=n,this.h=524306,this.w=0}function fr(t,e,n,r){this.ha=t,this.ra=e,this.o=n,this.A=r,this.h=31850732,this.w=1536}function pr(t,e){return 0===st(t)?e:new fr(t,e,null,null)}function dr(t,e){t.add(e)}function mr(t,e){if(Ze(e))return cn(e);var n=0;for(e=Oe(e);;){if(!(null!=e&&n<t))return n;n+=1,e=Me(e)}}ur.a=function(t){if(t instanceof ir)return t;if(t instanceof De)return new ir(ar(t),ro(t),t.Ta,null);if(Le.b("/",t))return new ir(null,t,t,null);if("string"==typeof t){var e=t.split("/");return 2===e.length?new ir(e[0],e[1],t,null):new ir(null,e[0],t,null)}return null},ur.b=function(t,e){return new ir(t=t instanceof ir||t instanceof De?ro(t):t,e=e instanceof ir||e instanceof De?ro(e):e,[X(t)?[Hn.a(t),"/"].join(""):null,Hn.a(e)].join(""),null)},ur.v=2,(t=sr.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.o},t.X=function(){return this.T(null),null==this.D?null:Me(this.D)},t.R=function(){var t=this.A;return null!=t?t:this.A=t=Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return jt(Zn,this.o)},t.ba=function(t,e){return Mn(e,this)},t.ca=function(t,e,n){return Ln(e,n,this)},t.Z=function(){return this.T(null),null==this.D?null:Re(this.D)},t.da=function(){return this.T(null),null!=this.D?Pe(this.D):Zn},t.T=function(){if(lr(this),null==this.D)return null;for(var t=this.D;;){if(!(t instanceof sr))return this.D=t,Oe(this.D);t=lr(t)}},t.P=function(t,e){var n=this;return e===this.o?n:new sr(e,(function(){return n.T(null)}),this.A)},t.Y=function(t,e){return rr(e,this)},sr.prototype[nt]=function(){return je(this)},cr.prototype.add=function(t){return this.G[this.end]=t,this.end+=1},cr.prototype.ha=function(){var t=new hr(this.G,0,this.end);return this.G=null,t},cr.prototype.L=function(){return this.end},(t=hr.prototype).L=function(){return this.end-this.off},t.H=function(t,e){return this.c[this.off+e]},t.aa=function(t,e,n){return 0<=e&&e<this.end-this.off?this.c[this.off+e]:n},t.Rb=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new hr(this.c,this.off+1,this.end)},t.ba=function(t,e){return Je(this.c,e,this.c[this.off],this.off+1)},t.ca=function(t,e,n){return Je(this.c,e,n,this.off)},(t=fr.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.o},t.X=function(){return 1<st(this.ha)?new fr(se(this.ha),this.ra,null,null):null==this.ra?null:Gt(this.ra)},t.R=function(){var t=this.A;return null!=t?t:this.A=t=Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.Z=function(){return mt.b(this.ha,0)},t.da=function(){return 1<st(this.ha)?new fr(se(this.ha),this.ra,null,null):null==this.ra?Zn:this.ra},t.T=function(){return this},t.Eb=function(){return this.ha},t.bb=function(){return null==this.ra?Zn:this.ra},t.P=function(t,e){return e===this.o?this:new fr(this.ha,this.ra,e,this.A)},t.Y=function(t,e){return rr(e,this)},t.Sb=function(){return null==this.ra?null:this.ra},fr.prototype[nt]=function(){return je(this)};var vr=function t(e){if(null==e)return null;var n=Me(e);return null==n?Oe(Re(e)):rr(Re(e),t.a?t.a(n):t.call(null,n))},yr=function t(e){switch(arguments.length){case 0:return t.l();case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],new on(n.slice(2),0,null))}};yr.l=function(){return new sr(null,(function(){return null}),null)},yr.a=function(t){return new sr(null,(function(){return t}),null)},yr.b=function(t,e){return new sr(null,(function(){var n=Oe(t);return n?An(n)?pr(le(n),yr.b(ce(n),e)):rr(Re(n),yr.b(Pe(n),e)):e}),null)},yr.i=function(t,e,n){return function t(e,n){return new sr(null,(function(){var r=Oe(e);return r?An(r)?pr(le(r),t(ce(r),n)):rr(Re(r),t(Pe(r),n)):X(n)?t(Re(n),Me(n)):null}),null)}(yr.b(t,e),n)},yr.s=function(t){var e=Re(t),n=Me(t);return t=Re(n),n=Me(n),this.i(e,t,n)},yr.v=2;var gr=function t(e){switch(arguments.length){case 0:return t.l();case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],new on(n.slice(2),0,null))}};function br(t,e,n){var r=Oe(n);if(0===e)return t.l?t.l():t.call(null);n=yt(r);var i=gt(r);if(1===e)return t.a?t.a(n):t.call(null,n);r=yt(i);var o=gt(i);if(2===e)return t.b?t.b(n,r):t.call(null,n,r);i=yt(o);var a=gt(o);if(3===e)return t.f?t.f(n,r,i):t.call(null,n,r,i);o=yt(a);var u=gt(a);if(4===e)return t.u?t.u(n,r,i,o):t.call(null,n,r,i,o);a=yt(u);var s=gt(u);if(5===e)return t.O?t.O(n,r,i,o,a):t.call(null,n,r,i,o,a);u=yt(s);var l=gt(s);if(6===e)return t.ja?t.ja(n,r,i,o,a,u):t.call(null,n,r,i,o,a,u);s=yt(l);var c=gt(l);if(7===e)return t.Ia?t.Ia(n,r,i,o,a,u,s):t.call(null,n,r,i,o,a,u,s);l=yt(c);var h=gt(c);if(8===e)return t.Ja?t.Ja(n,r,i,o,a,u,s,l):t.call(null,n,r,i,o,a,u,s,l);c=yt(h);var f=gt(h);if(9===e)return t.Ka?t.Ka(n,r,i,o,a,u,s,l,c):t.call(null,n,r,i,o,a,u,s,l,c);h=yt(f);var p=gt(f);if(10===e)return t.xa?t.xa(n,r,i,o,a,u,s,l,c,h):t.call(null,n,r,i,o,a,u,s,l,c,h);f=yt(p);var d=gt(p);if(11===e)return t.ya?t.ya(n,r,i,o,a,u,s,l,c,h,f):t.call(null,n,r,i,o,a,u,s,l,c,h,f);p=yt(d);var m=gt(d);if(12===e)return t.za?t.za(n,r,i,o,a,u,s,l,c,h,f,p):t.call(null,n,r,i,o,a,u,s,l,c,h,f,p);d=yt(m);var v=gt(m);if(13===e)return t.Aa?t.Aa(n,r,i,o,a,u,s,l,c,h,f,p,d):t.call(null,n,r,i,o,a,u,s,l,c,h,f,p,d);m=yt(v);var y=gt(v);if(14===e)return t.Ba?t.Ba(n,r,i,o,a,u,s,l,c,h,f,p,d,m):t.call(null,n,r,i,o,a,u,s,l,c,h,f,p,d,m);v=yt(y);var g=gt(y);if(15===e)return t.Ca?t.Ca(n,r,i,o,a,u,s,l,c,h,f,p,d,m,v):t.call(null,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v);y=yt(g);var b=gt(g);if(16===e)return t.Da?t.Da(n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y):t.call(null,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y);g=yt(b);var w=gt(b);if(17===e)return t.Ea?t.Ea(n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g):t.call(null,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g);b=yt(w);var E=gt(w);if(18===e)return t.Fa?t.Fa(n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b):t.call(null,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b);if(w=yt(E),E=gt(E),19===e)return t.Ga?t.Ga(n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w):t.call(null,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w);var T=yt(E);if(gt(E),20===e)return t.Ha?t.Ha(n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w,T):t.call(null,n,r,i,o,a,u,s,l,c,h,f,p,d,m,v,y,g,b,w,T);throw Error("Only up to 20 arguments supported on functions")}function wr(t){return null!=t&&(128&t.h||B===t.kb)?t.X(null):Oe(Pe(t))}function Er(t,e,n){if(null==n)t=t.a?t.a(e):t.call(t,e);else{var r=yt(n);t=null==(n=wr(n))?t.b?t.b(e,r):t.call(t,e,r):Tr(t,e,r,yt(n),wr(n))}return t}function Tr(t,e,n,r,i){return null==i?t.f?t.f(e,n,r):t.call(t,e,n,r):Sr(t,e,n,r,yt(i),wr(i))}function Sr(t,e,n,r,i,o){if(null==o)return t.u?t.u(e,n,r,i):t.call(t,e,n,r,i);var a=yt(o),u=Me(o);if(null==u)return t.O?t.O(e,n,r,i,a):t.call(t,e,n,r,i,a);o=yt(u);var s=Me(u);if(null==s)return t.ja?t.ja(e,n,r,i,a,o):t.call(t,e,n,r,i,a,o);u=yt(s);var l=Me(s);if(null==l)return t.Ia?t.Ia(e,n,r,i,a,o,u):t.call(t,e,n,r,i,a,o,u);s=yt(l);var c=Me(l);if(null==c)return t.Ja?t.Ja(e,n,r,i,a,o,u,s):t.call(t,e,n,r,i,a,o,u,s);l=yt(c);var h=Me(c);if(null==h)return t.Ka?t.Ka(e,n,r,i,a,o,u,s,l):t.call(t,e,n,r,i,a,o,u,s,l);c=yt(h);var f=Me(h);if(null==f)return t.xa?t.xa(e,n,r,i,a,o,u,s,l,c):t.call(t,e,n,r,i,a,o,u,s,l,c);h=yt(f);var p=Me(f);if(null==p)return t.ya?t.ya(e,n,r,i,a,o,u,s,l,c,h):t.call(t,e,n,r,i,a,o,u,s,l,c,h);f=yt(p);var d=Me(p);if(null==d)return t.za?t.za(e,n,r,i,a,o,u,s,l,c,h,f):t.call(t,e,n,r,i,a,o,u,s,l,c,h,f);p=yt(d);var m=Me(d);if(null==m)return t.Aa?t.Aa(e,n,r,i,a,o,u,s,l,c,h,f,p):t.call(t,e,n,r,i,a,o,u,s,l,c,h,f,p);d=yt(m);var v=Me(m);if(null==v)return t.Ba?t.Ba(e,n,r,i,a,o,u,s,l,c,h,f,p,d):t.call(t,e,n,r,i,a,o,u,s,l,c,h,f,p,d);m=yt(v);var y=Me(v);if(null==y)return t.Ca?t.Ca(e,n,r,i,a,o,u,s,l,c,h,f,p,d,m):t.call(t,e,n,r,i,a,o,u,s,l,c,h,f,p,d,m);v=yt(y);var g=Me(y);if(null==g)return t.Da?t.Da(e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v):t.call(t,e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v);y=yt(g);var b=Me(g);if(null==b)return t.Ea?t.Ea(e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v,y):t.call(t,e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v,y);g=yt(b);var w=Me(b);if(null==w)return t.Fa?t.Fa(e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v,y,g):t.call(t,e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v,y,g);b=yt(w);var E=Me(w);if(null==E)return t.Ga?t.Ga(e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v,y,g,b):t.call(t,e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v,y,g,b);if(w=yt(E),null==(E=Me(E)))return t.Ha?t.Ha(e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v,y,g,b,w):t.call(t,e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v,y,g,b,w);for(e=[e,n,r,i,a,o,u,s,l,c,h,f,p,d,m,v,y,g,b,w],n=E;n;)e.push(yt(n)),n=Me(n);return t.apply(t,e)}function Ir(t,e){if(t.s){var n=t.v,r=mr(n+1,e);return r<=n?br(t,r,e):t.s(e)}return null==(e=Oe(e))?t.l?t.l():t.call(t):Er(t,yt(e),wr(e))}function kr(t,e,n){if(t.s){e=rr(e,n);var r=t.v;return(n=mr(r,n)+1)<=r?br(t,n,e):t.s(e)}return Er(t,e,Oe(n))}function Cr(t,e,n,r,i){return t.s?(e=rr(e,rr(n,rr(r,i))),(i=3+mr((n=t.v)-2,i))<=n?br(t,i,e):t.s(e)):Tr(t,e,n,r,Oe(i))}function Nr(t,e,n,r,i,o){return t.s?(e=rr(e,rr(n,rr(r,rr(i,o=vr(o))))),(o=4+mr((n=t.v)-3,o))<=n?br(t,o,e):t.s(e)):Sr(t,e,n,r,i,vr(o))}function Ar(t,e){for(;;){if(null==Oe(e))return!0;var n=Re(e);if(!X(n=t.a?t.a(n):t.call(null,n)))return!1;e=Me(e)}}function Dr(t,e){for(;;){if(!(e=Oe(e)))return null;var n=Re(e);if(X(n=t.a?t.a(n):t.call(null,n)))return n;e=Me(e)}}function _r(t){if("number"==typeof t&&!isNaN(t)&&1/0!==t&&parseFloat(t)===parseInt(t,10))return 0==(1&t);throw Error(["Argument must be an integer: ",Hn.a(t)].join(""))}gr.l=function(){return ie(ei)},gr.a=function(t){return t},gr.b=function(t,e){return oe(t,e)},gr.i=function(t,e,n){for(;;){if(t=oe(t,e),!X(n))return t;e=Re(n),n=Me(n)}},gr.s=function(t){var e=Re(t),n=Me(t);return t=Re(n),n=Me(n),this.i(e,t,n)},gr.v=2;var xr=function t(e){switch(arguments.length){case 0:return t.l();case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);case 3:return t.f(arguments[0],arguments[1],arguments[2]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],arguments[2],new on(n.slice(3),0,null))}};xr.l=function(){return Bn},xr.a=function(t){return t},xr.b=function(t,e){return function(){function n(n,r,i){return n=e.f?e.f(n,r,i):e.call(null,n,r,i),t.a?t.a(n):t.call(null,n)}function r(n,r){return n=e.b?e.b(n,r):e.call(null,n,r),t.a?t.a(n):t.call(null,n)}function i(n){return n=e.a?e.a(n):e.call(null,n),t.a?t.a(n):t.call(null,n)}function o(){var n=e.l?e.l():e.call(null);return t.a?t.a(n):t.call(null,n)}var a,u=function(){function n(t,e,n,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new on(a,0,null)}return r.call(this,t,e,n,o)}function r(n,r,i,o){return n=Cr(e,n,r,i,o),t.a?t.a(n):t.call(null,n)}return n.v=3,n.s=function(t){return r(Re(t),Re(t=Me(t)),Re(t=Me(t)),t=Pe(t))},n.i=r,n}();return(a=function(t,e,a,s){switch(arguments.length){case 0:return o.call(this);case 1:return i.call(this,t);case 2:return r.call(this,t,e);case 3:return n.call(this,t,e,a);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new on(c,0,null)}return u.i(t,e,a,l)}throw Error("Invalid arity: "+arguments.length)}).v=3,a.s=u.s,a.l=o,a.a=i,a.b=r,a.f=n,a.i=u.i,a}()},xr.f=function(t,e,n){return function(){function r(r,i,o){return r=n.f?n.f(r,i,o):n.call(null,r,i,o),r=e.a?e.a(r):e.call(null,r),t.a?t.a(r):t.call(null,r)}function i(r,i){return r=n.b?n.b(r,i):n.call(null,r,i),r=e.a?e.a(r):e.call(null,r),t.a?t.a(r):t.call(null,r)}function o(r){return r=n.a?n.a(r):n.call(null,r),r=e.a?e.a(r):e.call(null,r),t.a?t.a(r):t.call(null,r)}function a(){var r=n.l?n.l():n.call(null);return r=e.a?e.a(r):e.call(null,r),t.a?t.a(r):t.call(null,r)}var u,s=function(){function r(t,e,n,r){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new on(a,0,null)}return i.call(this,t,e,n,o)}function i(r,i,o,a){return r=Cr(n,r,i,o,a),r=e.a?e.a(r):e.call(null,r),t.a?t.a(r):t.call(null,r)}return r.v=3,r.s=function(t){return i(Re(t),Re(t=Me(t)),Re(t=Me(t)),t=Pe(t))},r.i=i,r}();return(u=function(t,e,n,u){switch(arguments.length){case 0:return a.call(this);case 1:return o.call(this,t);case 2:return i.call(this,t,e);case 3:return r.call(this,t,e,n);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new on(c,0,null)}return s.i(t,e,n,l)}throw Error("Invalid arity: "+arguments.length)}).v=3,u.s=s.s,u.l=a,u.a=o,u.b=i,u.f=r,u.i=s.i,u}()},xr.i=function(t,e,n,r){var i=tr(rr(t,rr(e,rr(n,r))));return function(){function t(t){var n=null;if(0<arguments.length){n=0;for(var r=Array(arguments.length-0);n<r.length;)r[n]=arguments[n+0],++n;n=new on(r,0,null)}return e.call(this,n)}function e(t){t=Ir(Re(i),t);for(var e=Me(i);;){if(!e)return t;var n=Re(e);t=n.a?n.a(t):n.call(null,t),e=Me(e)}}return t.v=0,t.s=function(t){return e(t=Oe(t))},t.i=e,t}()},xr.s=function(t){var e=Re(t),n=Me(t);t=Re(n);var r=Me(n);return n=Re(r),r=Me(r),this.i(e,t,n,r)},xr.v=3;var Or=function t(e){switch(arguments.length){case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);case 3:return t.f(arguments[0],arguments[1],arguments[2]);case 4:return t.u(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],arguments[2],arguments[3],new on(n.slice(4),0,null))}};function Rr(t){this.state=t,this.ga=this.Za=this.o=null,this.w=16386,this.h=6455296}function Pr(t){return new Rr(t)}function Mr(t,e){if(t instanceof Rr){var n=t.Za;if(null!=n&&!X(n.a?n.a(e):n.call(null,e)))throw Error("Validator rejected reference state");return n=t.state,t.state=e,null!=t.ga&&t.Zb(n,e),e}return he(t,e)}Or.a=function(t){return t},Or.b=function(t,e){return function(){function n(n,r,i){return t.u?t.u(e,n,r,i):t.call(null,e,n,r,i)}function r(n,r){return t.f?t.f(e,n,r):t.call(null,e,n,r)}function i(n){return t.b?t.b(e,n):t.call(null,e,n)}function o(){return t.a?t.a(e):t.call(null,e)}var a,u=function(){function n(t,e,n,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new on(a,0,null)}return r.call(this,t,e,n,o)}function r(n,r,i,o){return Nr(t,e,n,r,i,an([o]))}return n.v=3,n.s=function(t){return r(Re(t),Re(t=Me(t)),Re(t=Me(t)),t=Pe(t))},n.i=r,n}();return(a=function(t,e,a,s){switch(arguments.length){case 0:return o.call(this);case 1:return i.call(this,t);case 2:return r.call(this,t,e);case 3:return n.call(this,t,e,a);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new on(c,0,null)}return u.i(t,e,a,l)}throw Error("Invalid arity: "+arguments.length)}).v=3,a.s=u.s,a.l=o,a.a=i,a.b=r,a.f=n,a.i=u.i,a}()},Or.f=function(t,e,n){return function(){function r(r,i,o){return t.O?t.O(e,n,r,i,o):t.call(null,e,n,r,i,o)}function i(r,i){return t.u?t.u(e,n,r,i):t.call(null,e,n,r,i)}function o(r){return t.f?t.f(e,n,r):t.call(null,e,n,r)}function a(){return t.b?t.b(e,n):t.call(null,e,n)}var u,s=function(){function r(t,e,n,r){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new on(a,0,null)}return i.call(this,t,e,n,o)}function i(r,i,o,a){return Nr(t,e,n,r,i,an([o,a]))}return r.v=3,r.s=function(t){return i(Re(t),Re(t=Me(t)),Re(t=Me(t)),t=Pe(t))},r.i=i,r}();return(u=function(t,e,n,u){switch(arguments.length){case 0:return a.call(this);case 1:return o.call(this,t);case 2:return i.call(this,t,e);case 3:return r.call(this,t,e,n);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new on(c,0,null)}return s.i(t,e,n,l)}throw Error("Invalid arity: "+arguments.length)}).v=3,u.s=s.s,u.l=a,u.a=o,u.b=i,u.f=r,u.i=s.i,u}()},Or.u=function(t,e,n,r){return function(){function i(i,o,a){return t.ja?t.ja(e,n,r,i,o,a):t.call(null,e,n,r,i,o,a)}function o(i,o){return t.O?t.O(e,n,r,i,o):t.call(null,e,n,r,i,o)}function a(i){return t.u?t.u(e,n,r,i):t.call(null,e,n,r,i)}function u(){return t.f?t.f(e,n,r):t.call(null,e,n,r)}var s,l=function(){function i(t,e,n,r){var i=null;if(3<arguments.length){i=0;for(var a=Array(arguments.length-3);i<a.length;)a[i]=arguments[i+3],++i;i=new on(a,0,null)}return o.call(this,t,e,n,i)}function o(i,o,a,u){return Nr(t,e,n,r,i,an([o,a,u]))}return i.v=3,i.s=function(t){return o(Re(t),Re(t=Me(t)),Re(t=Me(t)),t=Pe(t))},i.i=o,i}();return(s=function(t,e,n,r){switch(arguments.length){case 0:return u.call(this);case 1:return a.call(this,t);case 2:return o.call(this,t,e);case 3:return i.call(this,t,e,n);default:var s=null;if(3<arguments.length){s=0;for(var c=Array(arguments.length-3);s<c.length;)c[s]=arguments[s+3],++s;s=new on(c,0,null)}return l.i(t,e,n,s)}throw Error("Invalid arity: "+arguments.length)}).v=3,s.s=l.s,s.l=u,s.a=a,s.b=o,s.f=i,s.i=l.i,s}()},Or.i=function(t,e,n,r,i){return function(){function o(t){var e=null;if(0<arguments.length){e=0;for(var n=Array(arguments.length-0);e<n.length;)n[e]=arguments[e+0],++e;e=new on(n,0,null)}return a.call(this,e)}function a(o){return Cr(t,e,n,r,yr.b(i,o))}return o.v=0,o.s=function(t){return a(t=Oe(t))},o.i=a,o}()},Or.s=function(t){var e=Re(t),n=Me(t);t=Re(n);var r=Me(n);n=Re(r);var i=Me(r);return r=Re(i),i=Me(i),this.i(e,t,n,r,i)},Or.v=4,(t=Rr.prototype).equiv=function(t){return this.B(null,t)},t.B=function(t,e){return this===e},t.Va=function(){return this.state},t.M=function(){return this.o},t.Zb=function(t,e){for(var n=Oe(this.ga),r=null,i=0,o=0;;)if(o<i){var a=r.H(null,o),u=fn(a,0);(a=fn(a,1)).u?a.u(u,this,t,e):a.call(null,u,this,t,e),o+=1}else{if(!(n=Oe(n)))break;An(n)?(r=le(n),n=ce(n),u=r,i=cn(r),r=u):(u=fn(r=Re(n),0),(a=fn(r,1)).u?a.u(u,this,t,e):a.call(null,u,this,t,e),n=Me(n),r=null,i=0),o=0}},t.Hb=function(t,e,n){return this.ga=dn.f(this.ga,e,n),this},t.Ib=function(t,e){return this.ga=mn.b(this.ga,e)},t.R=function(){return o(this)};var Lr=function t(e){switch(arguments.length){case 2:return t.b(arguments[0],arguments[1]);case 3:return t.f(arguments[0],arguments[1],arguments[2]);case 4:return t.u(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],arguments[2],arguments[3],new on(n.slice(4),0,null))}};Lr.b=function(t,e){if(t instanceof Rr){var n=t.state;t=Mr(t,e=e.a?e.a(n):e.call(null,n))}else t=pe.b(t,e);return t},Lr.f=function(t,e,n){if(t instanceof Rr){var r=t.state;t=Mr(t,e=e.b?e.b(r,n):e.call(null,r,n))}else t=pe.f(t,e,n);return t},Lr.u=function(t,e,n,r){if(t instanceof Rr){var i=t.state;t=Mr(t,e=e.f?e.f(i,n,r):e.call(null,i,n,r))}else t=pe.u(t,e,n,r);return t},Lr.i=function(t,e,n,r,i){return t instanceof Rr?Mr(t,Cr(e,t.state,n,r,i)):pe.O(t,e,n,r,i)},Lr.s=function(t){var e=Re(t),n=Me(t);t=Re(n);var r=Me(n);n=Re(r);var i=Me(r);return r=Re(i),i=Me(i),this.i(e,t,n,r,i)},Lr.v=4;var Fr=function t(e){switch(arguments.length){case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);case 3:return t.f(arguments[0],arguments[1],arguments[2]);case 4:return t.u(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],arguments[2],arguments[3],new on(n.slice(4),0,null))}};function jr(t){return Fr.f((function(t){return t}),t,function(t){return new sr(null,(function(){t:for(var e=2,n=t;n=Oe(n),0<e&&n;)--e,n=Pe(n);return n}),null)}(t))}function Ur(t,e){return new sr(null,(function(){var n=Oe(e);if(n){if(An(n)){for(var r=le(n),i=cn(r),o=new cr(Array(i)),a=0;a<i;){var u=mt.b(r,a);X(u=t.a?t.a(u):t.call(null,u))&&(u=mt.b(r,a),o.add(u)),a+=1}return pr(o.ha(),Ur(t,ce(n)))}return r=Re(n),n=Pe(n),X(t.a?t.a(r):t.call(null,r))?rr(r,Ur(t,n)):Ur(t,n)}return null}),null)}Fr.a=function(t){return function(e){return function(){function n(n,r){return r=t.a?t.a(r):t.call(null,r),e.b?e.b(n,r):e.call(null,n,r)}function r(t){return e.a?e.a(t):e.call(null,t)}function i(){return e.l?e.l():e.call(null)}var o,a=function(){function n(t,e,n){var i=null;if(2<arguments.length){i=0;for(var o=Array(arguments.length-2);i<o.length;)o[i]=arguments[i+2],++i;i=new on(o,0,null)}return r.call(this,t,e,i)}function r(n,r,i){return r=kr(t,r,i),e.b?e.b(n,r):e.call(null,n,r)}return n.v=2,n.s=function(t){return r(Re(t),Re(t=Me(t)),t=Pe(t))},n.i=r,n}();return(o=function(t,e,o){switch(arguments.length){case 0:return i.call(this);case 1:return r.call(this,t);case 2:return n.call(this,t,e);default:var u=null;if(2<arguments.length){u=0;for(var s=Array(arguments.length-2);u<s.length;)s[u]=arguments[u+2],++u;u=new on(s,0,null)}return a.i(t,e,u)}throw Error("Invalid arity: "+arguments.length)}).v=2,o.s=a.s,o.l=i,o.a=r,o.b=n,o.i=a.i,o}()}},Fr.b=function(t,e){return new sr(null,(function(){var n,r=Oe(e);if(r){if(An(r)){for(var i=le(r),o=cn(i),a=new cr(Array(o)),u=0;u<o;)dr(a,(n=void 0,n=mt.b(i,u),t.a?t.a(n):t.call(null,n))),u+=1;return pr(a.ha(),Fr.b(t,ce(r)))}return rr(function(){var e=Re(r);return t.a?t.a(e):t.call(null,e)}(),Fr.b(t,Pe(r)))}return null}),null)},Fr.f=function(t,e,n){return new sr(null,(function(){var r=Oe(e),i=Oe(n);if(r&&i){var o=Re(r),a=Re(i);r=rr(o=t.b?t.b(o,a):t.call(null,o,a),Fr.f(t,Pe(r),Pe(i)))}else r=null;return r}),null)},Fr.u=function(t,e,n,r){return new sr(null,(function(){var i=Oe(e),o=Oe(n),a=Oe(r);if(i&&o&&a){var u=Re(i),s=Re(o),l=Re(a);i=rr(u=t.f?t.f(u,s,l):t.call(null,u,s,l),Fr.u(t,Pe(i),Pe(o),Pe(a)))}else i=null;return i}),null)},Fr.i=function(t,e,n,r,i){return Fr.b((function(e){return Ir(t,e)}),function t(e){return new sr(null,(function(){var n=Fr.b(Oe,e);return Ar(Bn,n)?rr(Fr.b(Re,n),t(Fr.b(Pe,n))):null}),null)}(sn.i(i,r,an([n,e]))))},Fr.s=function(t){var e=Re(t),n=Me(t);t=Re(n);var r=Me(n);n=Re(r);var i=Me(r);return r=Re(i),i=Me(i),this.i(e,t,n,r,i)},Fr.v=4;var Vr=function t(e){switch(arguments.length){case 0:return t.l();case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);case 3:return t.f(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.a(arguments.length)].join(""))}};function qr(t,e){return ae(Vn((function(e,n){return gr.b(e,t.a?t.a(n):t.call(null,n))}),ie(ei),e))}Vr.l=function(){return ei},Vr.a=function(t){return t},Vr.b=function(t,e){return null!=t?null!=t&&(4&t.w||B===t.Mc)?jt(ae(Vn(oe,ie(t),e)),bn(t)):Vn(ft,t,e):Vn(sn,t,e)},Vr.f=function(t,e,n){return null!=t&&(4&t.w||B===t.Mc)?jt(ae(zn(e,gr,ie(t),n)),bn(t)):zn(e,sn,t,n)},Vr.v=3;var Br=function t(e){switch(arguments.length){case 3:return t.f(arguments[0],arguments[1],arguments[2]);case 4:return t.u(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return t.O(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return t.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],new on(n.slice(6),0,null))}};function zr(t,e){this.J=t,this.c=e}function Wr(t){return new zr(t,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Kr(t){return new zr(t.J,rt(t.c))}function Qr(t){return 32>(t=t.j)?0:t-1>>>5<<5}function Gr(t,e,n){for(;;){if(0===e)return n;var r=Wr(t);r.c[0]=n,n=r,e-=5}}Br.f=function(t,e,n){var r,i=Re(e=Oe(e));return(e=Me(e))?dn.f(t,i,Br.f(pn.b(t,i),e,n)):dn.f(t,i,(r=pn.b(t,i),n.a?n.a(r):n.call(null,r)))},Br.u=function(t,e,n,r){var i,o=Re(e=Oe(e));return(e=Me(e))?dn.f(t,o,Br.u(pn.b(t,o),e,n,r)):dn.f(t,o,(i=pn.b(t,o),n.b?n.b(i,r):n.call(null,i,r)))},Br.O=function(t,e,n,r,i){var o,a=Re(e=Oe(e));return(e=Me(e))?dn.f(t,a,Br.O(pn.b(t,a),e,n,r,i)):dn.f(t,a,(o=pn.b(t,a),n.f?n.f(o,r,i):n.call(null,o,r,i)))},Br.ja=function(t,e,n,r,i,o){var a,u=Re(e=Oe(e));return(e=Me(e))?dn.f(t,u,Br.ja(pn.b(t,u),e,n,r,i,o)):dn.f(t,u,(a=pn.b(t,u),n.u?n.u(a,r,i,o):n.call(null,a,r,i,o)))},Br.i=function(t,e,n,r,i,o,a){var u=Oe(e);return e=Re(u),(u=Me(u))?dn.f(t,e,Nr(Br,pn.b(t,e),u,n,r,an([i,o,a]))):dn.f(t,e,Nr(n,pn.b(t,e),r,i,o,an([a])))},Br.s=function(t){var e=Re(t),n=Me(t);t=Re(n);var r=Me(n);n=Re(r);var i=Me(r);r=Re(i);var o=Me(i);i=Re(o);var a=Me(o);return o=Re(a),a=Me(a),this.i(e,t,n,r,i,o,a)},Br.v=6;function Hr(t,e){throw Error(["No item ",Hn.a(t)," in vector of length ",Hn.a(e)].join(""))}function Yr(t,e){if(e>=Qr(t))return t.I;var n=t.root;for(t=t.shift;;){if(!(0<t))return n.c;var r=t-5;n=n.c[e>>>t&31],t=r}}function Xr(t,e,n){this.Ab=this.m=0,this.c=t,this.hd=e,this.start=0,this.end=n}function $r(t,e,n,r){return n<r?Jr(t,e,hn(t,n),n+1,r):e.l?e.l():e.call(null)}function Jr(t,e,n,r,i){var o=n;for(n=r,r=Yr(t,r);;){if(!(n<i))return o;var a=31&n;if(a=(r=0===a?Yr(t,n):r)[a],He(o=e.b?e.b(o,a):e.call(null,o,a)))return Mt(o);n+=1}}function Zr(t,e,n,r,i,o){this.o=t,this.j=e,this.shift=n,this.root=r,this.I=i,this.A=o,this.h=167666463,this.w=139268}Xr.prototype.ea=function(){return this.m<this.end},Xr.prototype.next=function(){32==this.m-this.Ab&&(this.c=Yr(this.hd,this.m),this.Ab+=32);var t=this.c[31&this.m];return this.m+=1,t},(t=Zr.prototype).jb=function(t,e){return 0<=e&&e<this.j?new pi(e,Yr(this,e)[31&e]):null},t.toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.S=function(t,e){return this.C(null,e,null)},t.C=function(t,e,n){return"number"==typeof e?this.aa(null,e,n):n},t.Fb=function(t,e,n){t=0;for(var r=n;;){if(!(t<this.j))return r;var i=Yr(this,t);n=i.length;t:for(var o=0;;){if(!(o<n)){i=r;break t}var a=o+t,u=i[o];if(He(r=e.f?e.f(r,a,u):e.call(null,r,a,u))){i=r;break t}o+=1}if(He(i))return Mt(i);t+=n,r=i}},t.H=function(t,e){return(0<=e&&e<this.j?Yr(this,e):Hr(e,this.j))[31&e]},t.aa=function(t,e,n){return 0<=e&&e<this.j?Yr(this,e)[31&e]:n},t.Yb=function(t,e){if(0<=t&&t<this.j){if(Qr(this)<=t){var n=rt(this.I);return n[31&t]=e,new Zr(this.o,this.j,this.shift,this.root,n,null)}return new Zr(this.o,this.j,this.shift,function t(e,n,r,i,o){var a=Kr(r);if(0===n)a.c[31&i]=o;else{var u=i>>>n&31;n-=5,r=r.c[u],e=t.O?t.O(e,n,r,i,o):t.call(null,e,n,r,i,o),a.c[u]=e}return a}(this,this.shift,this.root,t,e),this.I,null)}if(t===this.j)return this.Y(null,e);throw Error(["Index ",Hn.a(t)," out of bounds  [0,",Hn.a(this.j),"]"].join(""))},t.ma=function(){var t=this.j;return new Xr(0<cn(this)?Yr(this,0):null,this,t)},t.M=function(){return this.o},t.L=function(){return this.j},t.lb=function(){return 0<this.j?this.H(null,this.j-1):null},t.mb=function(){if(0===this.j)throw Error("Can't pop empty vector");if(1===this.j)return jt(ei,this.o);if(1<this.j-Qr(this))return new Zr(this.o,this.j-1,this.shift,this.root,this.I.slice(0,-1),null);var t=Yr(this,this.j-2),e=function t(e,n,r){var i=e.j-2>>>n&31;if(5<n){n-=5;var o=r.c[i];return null==(e=t.f?t.f(e,n,o):t.call(null,e,n,o))&&0===i?null:((r=Kr(r)).c[i]=e,r)}return 0===i?null:((r=Kr(r)).c[i]=null,r)}(this,this.shift,this.root);e=null==e?ti:e;var n=this.j-1;return 5<this.shift&&null==e.c[1]?new Zr(this.o,n,this.shift-5,e.c[0],t,null):new Zr(this.o,n,this.shift,e,t,null)},t.Gb=function(){return 0<this.j?new un(this,this.j-1,null):null},t.R=function(){var t=this.A;return null!=t?t:this.A=t=Be(this)},t.B=function(t,e){if(!(e instanceof Zr))return Yn(this,e);if(this.j!==cn(e))return!1;for(t=this.ma(null),e=e.ma(null);;){if(!t.ea())return!0;var n=t.next(),r=e.next();if(!Le.b(n,r))return!1}},t.cb=function(){var t=this.j,e=this.shift,n=new zr({},rt(this.root.c)),r=this.I,i=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return Dn(r,0,i,0,r.length),new ui(t,e,n,i)},t.W=function(){return jt(ei,this.o)},t.ba=function(t,e){return $r(this,e,0,this.j)},t.ca=function(t,e,n){t=0;for(var r=n;;){if(!(t<this.j))return r;var i=Yr(this,t);n=i.length;t:for(var o=0;;){if(!(o<n)){i=r;break t}var a=i[o];if(He(r=e.b?e.b(r,a):e.call(null,r,a))){i=r;break t}o+=1}if(He(i))return Mt(i);t+=n,r=i}},t.Qa=function(t,e,n){if("number"==typeof e)return this.Yb(e,n);throw Error("Vector's key for assoc must be a number.")},t.T=function(){if(0===this.j)var t=null;else if(32>=this.j)t=new on(this.I,0,null);else{t:{t=this.root;for(var e=this.shift;;){if(!(0<e)){t=t.c;break t}e-=5,t=t.c[0]}}t=new oi(this,t,0,0,null)}return t},t.P=function(t,e){return e===this.o?this:new Zr(e,this.j,this.shift,this.root,this.I,this.A)},t.Y=function(t,e){if(32>this.j-Qr(this)){t=this.I.length;for(var n=Array(t+1),r=0;r<t;)n[r]=this.I[r],r+=1;return n[t]=e,new Zr(this.o,this.j+1,this.shift,this.root,n,null)}return t=(n=this.j>>>5>1<<this.shift)?this.shift+5:this.shift,n?((n=Wr(null)).c[0]=this.root,r=Gr(null,this.shift,new zr(null,this.I)),n.c[1]=r):n=function t(e,n,r,i){var o=Kr(r),a=e.j-1>>>n&31;return 5===n?o.c[a]=i:(null!=(r=r.c[a])?(n-=5,e=t.u?t.u(e,n,r,i):t.call(null,e,n,r,i)):e=Gr(null,n-5,i),o.c[a]=e),o}(this,this.shift,this.root,new zr(null,this.I)),new Zr(this.o,this.j+1,t,n,[e],null)},t.call=function(){var t;return(t=function(t,e,n){switch(arguments.length){case 2:return this.H(null,e);case 3:return this.aa(null,e,n)}throw Error("Invalid arity: "+(arguments.length-1))}).b=function(t,e){return this.H(null,e)},t.f=function(t,e,n){return this.aa(null,e,n)},t}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return this.H(null,t)},t.b=function(t,e){return this.aa(null,t,e)};var ti=new zr(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),ei=new Zr(null,0,5,ti,[],ze);function ni(t,e){var n=t.length;if(t=e?t:rt(t),32>n)return new Zr(null,n,5,ti,t,null);e=32;for(var r=new Zr(null,32,5,ti,t.slice(0,32),null).cb(null);;){if(!(e<n))return ae(r);var i=e+1;r=gr.b(r,t[e]),e=i}}function ri(t){return di(t)?new Zr(null,2,5,ti,[At(t),Dt(t)],null):Nn(t)?gn(t,null):$(t)?ni(t,!0):ae(Vn(oe,ie(ei),t))}Zr.prototype[nt]=function(){return je(this)};var ii=function t(e){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(0<n.length?new on(n.slice(0),0,null):null)};function oi(t,e,n,r,i){this.ka=t,this.node=e,this.m=n,this.off=r,this.o=i,this.A=null,this.h=32375020,this.w=1536}function ai(t,e){return t===e.J?e:new zr(t,rt(e.c))}ii.i=function(t){return t instanceof on&&0===t.m?ni(t.c,!$(t.c)):ri(t)},ii.v=0,ii.s=function(t){return this.i(Oe(t))},(t=oi.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.o},t.X=function(){if(this.off+1<this.node.length){var t=new oi(this.ka,this.node,this.m,this.off+1,null);return null==t?null:t}return this.Sb()},t.R=function(){var t=this.A;return null!=t?t:this.A=t=Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.ba=function(t,e){return $r(this.ka,e,this.m+this.off,cn(this.ka))},t.ca=function(t,e,n){return Jr(this.ka,e,n,this.m+this.off,cn(this.ka))},t.Z=function(){return this.node[this.off]},t.da=function(){if(this.off+1<this.node.length){var t=new oi(this.ka,this.node,this.m,this.off+1,null);return null==t?Zn:t}return this.bb(null)},t.T=function(){return this},t.Eb=function(){var t=this.node;return new hr(t,this.off,t.length)},t.bb=function(){var t=this.m+this.node.length;return t<st(this.ka)?new oi(this.ka,Yr(this.ka,t),t,0,null):Zn},t.P=function(t,e){return e===this.o?this:new oi(this.ka,this.node,this.m,this.off,e)},t.Y=function(t,e){return rr(e,this)},t.Sb=function(){var t=this.m+this.node.length;return t<st(this.ka)?new oi(this.ka,Yr(this.ka,t),t,0,null):null},oi.prototype[nt]=function(){return je(this)};function ui(t,e,n,r){this.j=t,this.shift=e,this.root=n,this.I=r,this.w=88,this.h=275}function si(){this.h=2097152,this.w=0}(t=ui.prototype).fb=function(t,e){if(this.root.J){if(32>this.j-Qr(this))this.I[31&this.j]=e;else{t=new zr(this.root.J,this.I);var n=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];n[0]=e,this.I=n,this.j>>>5>1<<this.shift?(e=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],n=this.shift+5,e[0]=this.root,e[1]=Gr(this.root.J,this.shift,t),this.root=new zr(this.root.J,e),this.shift=n):this.root=function t(e,n,r,i){r=ai(e.root.J,r);var o=e.j-1>>>n&31;if(5===n)e=i;else{var a=r.c[o];null!=a?(n-=5,e=t.u?t.u(e,n,a,i):t.call(null,e,n,a,i)):e=Gr(e.root.J,n-5,i)}return r.c[o]=e,r}(this,this.shift,this.root,t)}return this.j+=1,this}throw Error("conj! after persistent!")},t.nb=function(){if(this.root.J){this.root.J=null;var t=this.j-Qr(this),e=Array(t);return Dn(this.I,0,e,0,t),new Zr(null,this.j,this.shift,this.root,e,null)}throw Error("persistent! called twice")},t.eb=function(t,e,n){if("number"==typeof e)return function(t,e,n){if(t.root.J){if(0<=e&&e<t.j){if(Qr(t)<=e)t.I[31&e]=n;else{var r=function r(i,o){if(o=ai(t.root.J,o),0===i)o.c[31&e]=n;else{var a=e>>>i&31;i=r(i-5,o.c[a]),o.c[a]=i}return o}(t.shift,t.root);t.root=r}return t}if(e===t.j)return t.fb(null,n);throw Error(["Index ",Hn.a(e)," out of bounds for TransientVector of length",Hn.a(t.j)].join(""))}throw Error("assoc! after persistent!")}(this,e,n);throw Error("TransientVector's key for assoc! must be a number.")},t.L=function(){if(this.root.J)return this.j;throw Error("count after persistent!")},t.H=function(t,e){if(this.root.J)return(0<=e&&e<this.j?Yr(this,e):Hr(e,this.j))[31&e];throw Error("nth after persistent!")},t.aa=function(t,e,n){return 0<=e&&e<this.j?this.H(null,e):n},t.S=function(t,e){return this.C(null,e,null)},t.C=function(t,e,n){if(this.root.J)return"number"==typeof e?this.aa(null,e,n):n;throw Error("lookup after persistent!")},t.call=function(){var t;return(t=function(t,e,n){switch(arguments.length){case 2:return this.S(null,e);case 3:return this.C(null,e,n)}throw Error("Invalid arity: "+(arguments.length-1))}).b=function(t,e){return this.S(null,e)},t.f=function(t,e,n){return this.C(null,e,n)},t}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return this.S(null,t)},t.b=function(t,e){return this.C(null,t,e)},si.prototype.equiv=function(t){return this.B(null,t)},si.prototype.B=function(){return!1};var li=new si;function ci(t){this.D=t}function hi(t){this.D=t}function fi(t,e){if(e instanceof ir)t:{var n=t.length;e=e.oa;for(var r=0;;){if(n<=r){t=-1;break t}if(t[r]instanceof ir&&e===t[r].oa){t=r;break t}r+=2}}else if("string"==typeof e||"number"==typeof e)t:for(n=t.length,r=0;;){if(n<=r){t=-1;break t}if(e===t[r]){t=r;break t}r+=2}else if(e instanceof De)t:for(n=t.length,e=e.Ta,r=0;;){if(n<=r){t=-1;break t}if(t[r]instanceof De&&e===t[r].Ta){t=r;break t}r+=2}else if(null==e)t:for(e=t.length,n=0;;){if(e<=n){t=-1;break t}if(null==t[n]){t=n;break t}n+=2}else t:for(n=t.length,r=0;;){if(n<=r){t=-1;break t}if(Le.b(e,t[r])){t=r;break t}r+=2}return t}function pi(t,e){this.key=t,this.val=e,this.A=null,this.h=166619935,this.w=0}function di(t){return null!=t&&!!(2048&t.h||B===t.ud)}function mi(t,e,n){this.c=t,this.m=e,this.ua=n,this.h=32374990,this.w=0}function vi(t,e){this.c=t,this.m=0,this.j=e}function yi(t,e,n,r){this.o=t,this.j=e,this.c=n,this.A=r,this.h=16647951,this.w=139268}ci.prototype.next=function(){if(null!=this.D){var t=Re(this.D),e=fn(t,0);return t=fn(t,1),this.D=Me(this.D),{value:[e,t],done:!1}}return{value:null,done:!0}},hi.prototype.next=function(){if(null!=this.D){var t=Re(this.D);return this.D=Me(this.D),{value:[t,t],done:!1}}return{value:null,done:!0}},(t=pi.prototype).jb=function(t,e){switch(e){case 0:return new pi(0,this.key);case 1:return new pi(1,this.val);default:return null}},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.S=function(t,e){return this.aa(null,e,null)},t.C=function(t,e,n){return this.aa(null,e,n)},t.H=function(t,e){if(0===e)return this.key;if(1===e)return this.val;throw Error("Index out of bounds")},t.aa=function(t,e,n){return 0===e?this.key:1===e?this.val:n},t.Yb=function(t,e){return new Zr(null,2,5,ti,[this.key,this.val],null).Yb(t,e)},t.M=function(){return null},t.L=function(){return 2},t.Tc=function(){return this.key},t.Uc=function(){return this.val},t.lb=function(){return this.val},t.mb=function(){return new Zr(null,1,5,ti,[this.key],null)},t.Gb=function(){return new on([this.val,this.key],0,null)},t.R=function(){var t=this.A;return null!=t?t:this.A=t=Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return null},t.ba=function(t,e){return Ye(this,e)},t.ca=function(t,e,n){t:{t=this.L(null);var r=n;for(n=0;;){if(!(n<t)){e=r;break t}var i=this.H(null,n);if(He(r=e.b?e.b(r,i):e.call(null,r,i))){e=Mt(r);break t}n+=1}}return e},t.Qa=function(t,e,n){return dn.f(new Zr(null,2,5,ti,[this.key,this.val],null),e,n)},t.T=function(){return new on([this.key,this.val],0,null)},t.P=function(t,e){return gn(new Zr(null,2,5,ti,[this.key,this.val],null),e)},t.Y=function(t,e){return new Zr(null,3,5,ti,[this.key,this.val,e],null)},t.call=function(){var t;return(t=function(t,e,n){switch(arguments.length){case 2:return this.H(null,e);case 3:return this.aa(null,e,n)}throw Error("Invalid arity: "+(arguments.length-1))}).b=function(t,e){return this.H(null,e)},t.f=function(t,e,n){return this.aa(null,e,n)},t}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return this.H(null,t)},t.b=function(t,e){return this.aa(null,t,e)},(t=mi.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.ua},t.X=function(){return this.m<this.c.length-2?new mi(this.c,this.m+2,null):null},t.L=function(){return(this.c.length-this.m)/2},t.R=function(){return Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.ba=function(t,e){return Mn(e,this)},t.ca=function(t,e,n){return Ln(e,n,this)},t.Z=function(){return new pi(this.c[this.m],this.c[this.m+1])},t.da=function(){return this.m<this.c.length-2?new mi(this.c,this.m+2,null):Zn},t.T=function(){return this},t.P=function(t,e){return e===this.ua?this:new mi(this.c,this.m,e)},t.Y=function(t,e){return rr(e,this)},mi.prototype[nt]=function(){return je(this)},vi.prototype.ea=function(){return this.m<this.j},vi.prototype.next=function(){var t=new pi(this.c[this.m],this.c[this.m+1]);return this.m+=2,t},(t=yi.prototype).jb=function(t,e){return-1===(t=fi(this.c,e))?null:new pi(this.c[t],this.c[t+1])},t.toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.keys=function(){return je(Gi(this))},t.entries=function(){return new ci(Oe(Oe(this)))},t.values=function(){return je(Yi(this))},t.has=function(t){return Pn(this,t)},t.get=function(t,e){return this.C(null,t,e)},t.forEach=function(t){for(var e=Oe(this),n=null,r=0,i=0;;)if(i<r){var o=n.H(null,i),a=fn(o,0);o=fn(o,1),t.b?t.b(o,a):t.call(null,o,a),i+=1}else{if(!(e=Oe(e)))return null;An(e)?(n=le(e),e=ce(e),a=n,r=cn(n),n=a):(a=fn(n=Re(e),0),o=fn(n,1),t.b?t.b(o,a):t.call(null,o,a),e=Me(e),n=null,r=0),i=0}},t.S=function(t,e){return this.C(null,e,null)},t.C=function(t,e,n){return-1===(t=fi(this.c,e))?n:this.c[t+1]},t.Fb=function(t,e,n){t=this.c.length;for(var r=0;;){if(!(r<t))return n;var i=this.c[r],o=this.c[r+1];if(He(n=e.f?e.f(n,i,o):e.call(null,n,i,o)))return Mt(n);r+=2}},t.ma=function(){return new vi(this.c,2*this.j)},t.M=function(){return this.o},t.L=function(){return this.j},t.R=function(){var t=this.A;return null!=t?t:this.A=t=We(this)},t.B=function(t,e){if(!kn(e)||Cn(e))return!1;if(t=this.c.length,this.j!==e.L(null))return!1;for(var n=0;;){if(!(n<t))return!0;var r=e.C(null,this.c[n],_n);if(r===_n)return!1;if(!Le.b(this.c[n+1],r))return!1;n+=2}},t.cb=function(){return new Ei(this.c.length,rt(this.c))},t.W=function(){return jt(gi,this.o)},t.ba=function(t,e){return Fn(this,e)},t.ca=function(t,e,n){return jn(this,e,n)},t.Tb=function(t,e){if(!(0<=fi(this.c,e)))return this;var n=(t=this.c.length)-2;if(0===n)return this.W(null);n=Array(n);for(var r=0,i=0;;){if(r>=t)return new yi(this.o,this.j-1,n,null);Le.b(e,this.c[r])||(n[i]=this.c[r],n[i+1]=this.c[r+1],i+=2),r+=2}},t.Qa=function(t,e,n){if(-1===(t=fi(this.c,e))){if(this.j<bi){for(var r=(t=this.c).length,i=Array(r+2),o=0;o<r;)i[o]=t[o],o+=1;return i[r]=e,i[r+1]=n,new yi(this.o,this.j+1,i,null)}return jt(It(Vr.b(qi,this),e,n),this.o)}return n===this.c[t+1]?this:((e=rt(this.c))[t+1]=n,new yi(this.o,this.j,e,null))},t.T=function(){var t=this.c;return 0<=t.length-2?new mi(t,0,null):null},t.P=function(t,e){return e===this.o?this:new yi(e,this.j,this.c,this.A)},t.Y=function(t,e){if(Nn(e))return this.Qa(null,mt.b(e,0),mt.b(e,1));for(t=this,e=Oe(e);;){if(null==e)return t;var n=Re(e);if(!Nn(n))throw Error("conj on a map takes map entries or seqables of map entries");t=It(t,mt.b(n,0),mt.b(n,1)),e=Me(e)}},t.call=function(){var t;return(t=function(t,e,n){switch(arguments.length){case 2:return this.S(null,e);case 3:return this.C(null,e,n)}throw Error("Invalid arity: "+(arguments.length-1))}).b=function(t,e){return this.S(null,e)},t.f=function(t,e,n){return this.C(null,e,n)},t}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return this.S(null,t)},t.b=function(t,e){return this.C(null,t,e)};var gi=new yi(null,0,[],Ke),bi=8;function wi(t){for(var e=[],n=0;n<t.length;){var r=t[n],i=t[n+1],o=fi(e,r);-1===o?((o=e).push(r),o.push(i)):e[o+1]=i,n+=2}return new yi(null,e.length/2,e,null)}function Ei(t,e){this.hb={},this.ib=t,this.c=e,this.h=259,this.w=56}function Ti(){this.val=!1}function Si(t,e){return t===e||(!!or(t,e)||Le.b(t,e))}function Ii(t,e,n){return(t=rt(t))[e]=n,t}function ki(t,e){var n=Array(t.length-2);return Dn(t,0,n,0,2*e),Dn(t,2*(e+1),n,2*e,n.length-2*e),n}function Ci(t,e,n,r){return(t=t.Wa(e)).c[n]=r,t}function Ni(t,e,n){for(var r=t.length,i=0,o=n;;){if(!(i<r))return o;if(null!=(n=t[i])){var a=t[i+1];n=e.f?e.f(o,n,a):e.call(null,o,n,a)}else n=null!=(n=t[i+1])?n.wb(e,o):o;if(He(n))return n;i+=2,o=n}}function Ai(t){this.c=t,this.m=0,this.sa=this.xb=null}function Di(t,e,n){this.J=t,this.K=e,this.c=n,this.w=131072,this.h=0}yi.prototype[nt]=function(){return je(this)},(t=Ei.prototype).L=function(){if(this.hb)return Qn(this.ib);throw Error("count after persistent!")},t.S=function(t,e){return this.C(null,e,null)},t.C=function(t,e,n){if(this.hb)return-1===(t=fi(this.c,e))?n:this.c[t+1];throw Error("lookup after persistent!")},t.fb=function(t,e){if(!this.hb)throw Error("conj! after persistent!");if(di(e))return this.eb(null,At(e),Dt(e));if(Nn(e))return this.eb(null,e.a?e.a(0):e.call(null,0),e.a?e.a(1):e.call(null,1));for(t=Oe(e),e=this;;){var n=Re(t);if(!X(n))return e;t=Me(t),e=ue(e,At(n),Dt(n))}},t.nb=function(){if(this.hb)return this.hb=!1,new yi(null,Qn(this.ib),this.c,null);throw Error("persistent! called twice")},t.eb=function(t,e,n){if(this.hb){if(-1===(t=fi(this.c,e))){if(this.ib+2<=2*bi)return this.ib+=2,this.c.push(e),this.c.push(n),this;t:{t=this.ib;for(var r=this.c,i=ie(qi),o=0;;){if(!(o<t))break t;i=ue(i,r[o],r[o+1]),o+=2}}return ue(i,e,n)}return n!==this.c[t+1]&&(this.c[t+1]=n),this}throw Error("assoc! after persistent!")},t.call=function(){var t;return(t=function(t,e,n){switch(arguments.length){case 2:return this.C(null,e,null);case 3:return this.C(null,e,n)}throw Error("Invalid arity: "+(arguments.length-1))}).b=function(t,e){return this.C(null,e,null)},t.f=function(t,e,n){return this.C(null,e,n)},t}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return this.C(null,t,null)},t.b=function(t,e){return this.C(null,t,e)},Ai.prototype.advance=function(){for(var t=this.c.length;;){if(!(this.m<t))return!1;var e=this.c[this.m],n=this.c[this.m+1];if(null!=e?e=this.xb=new pi(e,n):null!=n?e=!!(e=me(n)).ea()&&(this.sa=e):e=!1,this.m+=2,e)return!0}},Ai.prototype.ea=function(){var t=null!=this.xb;return t||((t=null!=this.sa)?t:this.advance())},Ai.prototype.next=function(){if(null!=this.xb){var t=this.xb;return this.xb=null,t}if(null!=this.sa)return t=this.sa.next(),this.sa.ea()||(this.sa=null),t;if(this.advance())return this.next();throw Error("No such element")},Ai.prototype.remove=function(){return Error("Unsupported operation")},(t=Di.prototype).Wa=function(t){if(t===this.J)return this;var e=Gn(this.K),n=Array(0>e?4:2*(e+1));return Dn(this.c,0,n,0,2*e),new Di(t,this.K,n)},t.tb=function(){return Li(this.c,0,null)},t.wb=function(t,e){return Ni(this.c,t,e)},t.Xa=function(t,e,n,r){var i=1<<(e>>>t&31);if(0==(this.K&i))return r;var o=Gn(this.K&i-1);return i=this.c[2*o],o=this.c[2*o+1],null==i?o.Xa(t+5,e,n,r):Si(n,i)?o:r},t.qa=function(t,e,n,r,i,o){var a=1<<(n>>>e&31),u=Gn(this.K&a-1);if(0==(this.K&a)){var s=Gn(this.K);if(2*s<this.c.length){e=(t=this.Wa(t)).c,o.val=!0;t:for(n=2*(s-u),o=2*u+(n-1),s=2*(u+1)+(n-1);0!==n;)e[s]=e[o],--s,--n,--o;return e[2*u]=r,e[2*u+1]=i,t.K|=a,t}if(16<=s){for((u=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])[n>>>e&31]=_i.qa(t,e+5,n,r,i,o),i=r=0;32>r;)0==(this.K>>>r&1)||(u[r]=null!=this.c[i]?_i.qa(t,e+5,Ne(this.c[i]),this.c[i],this.c[i+1],o):this.c[i+1],i+=2),r+=1;return new Oi(t,s+1,u)}return e=Array(2*(s+4)),Dn(this.c,0,e,0,2*u),e[2*u]=r,e[2*u+1]=i,Dn(this.c,2*u,e,2*(u+1),2*(s-u)),o.val=!0,(t=this.Wa(t)).c=e,t.K|=a,t}if(s=this.c[2*u],a=this.c[2*u+1],null==s)return(s=a.qa(t,e+5,n,r,i,o))===a?this:Ci(this,t,2*u+1,s);if(Si(r,s))return i===a?this:Ci(this,t,2*u+1,i);if(o.val=!0,o=e+5,(e=Ne(s))===n)i=new Pi(null,e,2,[s,a,r,i]);else{var l=new Ti;i=_i.qa(t,o,e,s,a,l).qa(t,o,n,r,i,l)}return r=2*u,u=2*u+1,(t=this.Wa(t)).c[r]=null,t.c[u]=i,t},t.pa=function(t,e,n,r,i){var o=1<<(e>>>t&31),a=Gn(this.K&o-1);if(0==(this.K&o)){var u=Gn(this.K);if(16<=u){for((a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])[e>>>t&31]=_i.pa(t+5,e,n,r,i),r=n=0;32>n;)0==(this.K>>>n&1)||(a[n]=null!=this.c[r]?_i.pa(t+5,Ne(this.c[r]),this.c[r],this.c[r+1],i):this.c[r+1],r+=2),n+=1;return new Oi(null,u+1,a)}return t=Array(2*(u+1)),Dn(this.c,0,t,0,2*a),t[2*a]=n,t[2*a+1]=r,Dn(this.c,2*a,t,2*(a+1),2*(u-a)),i.val=!0,new Di(null,this.K|o,t)}var s=this.c[2*a];if(o=this.c[2*a+1],null==s)return(u=o.pa(t+5,e,n,r,i))===o?this:new Di(null,this.K,Ii(this.c,2*a+1,u));if(Si(n,s))return r===o?this:new Di(null,this.K,Ii(this.c,2*a+1,r));i.val=!0,i=this.K,u=this.c,t+=5;var l=Ne(s);if(l===e)n=new Pi(null,l,2,[s,o,n,r]);else{var c=new Ti;n=_i.pa(t,l,s,o,c).pa(t,e,n,r,c)}return t=2*a,a=2*a+1,(r=rt(u))[t]=null,r[a]=n,new Di(null,i,r)},t.sb=function(t,e,n,r){var i=1<<(e>>>t&31);if(0==(this.K&i))return r;var o=Gn(this.K&i-1);return i=this.c[2*o],o=this.c[2*o+1],null==i?o.sb(t+5,e,n,r):Si(n,i)?new pi(i,o):r},t.ub=function(t,e,n){var r=1<<(e>>>t&31);if(0==(this.K&r))return this;var i=Gn(this.K&r-1),o=this.c[2*i],a=this.c[2*i+1];return null==o?(t=a.ub(t+5,e,n))===a?this:null!=t?new Di(null,this.K,Ii(this.c,2*i+1,t)):this.K===r?null:new Di(null,this.K^r,ki(this.c,i)):Si(n,o)?new Di(null,this.K^r,ki(this.c,i)):this},t.ma=function(){return new Ai(this.c)};var _i=new Di(null,0,[]);function xi(t){this.c=t,this.m=0,this.sa=null}function Oi(t,e,n){this.J=t,this.j=e,this.c=n,this.w=131072,this.h=0}function Ri(t,e,n){e*=2;for(var r=0;;){if(!(r<e))return-1;if(Si(n,t[r]))return r;r+=2}}function Pi(t,e,n,r){this.J=t,this.La=e,this.j=n,this.c=r,this.w=131072,this.h=0}function Mi(t,e,n,r,i){this.o=t,this.ta=e,this.m=n,this.D=r,this.A=i,this.h=32374988,this.w=0}function Li(t,e,n){if(null!=n)return new Mi(null,t,e,n,null);for(n=t.length;;){if(!(e<n))return null;if(null!=t[e])return new Mi(null,t,e,null,null);var r=t[e+1];if(X(r)&&X(r=r.tb()))return new Mi(null,t,e+2,r,null);e+=2}}function Fi(t,e,n,r,i){this.o=t,this.ta=e,this.m=n,this.D=r,this.A=i,this.h=32374988,this.w=0}function ji(t,e,n){if(null!=n)return new Fi(null,t,e,n,null);for(n=t.length;;){if(!(e<n))return null;var r=t[e];if(X(r)&&X(r=r.tb()))return new Fi(null,t,e+1,r,null);e+=1}}function Ui(t,e){this.fa=t,this.Ec=e,this.hc=!1}function Vi(t,e,n,r,i,o){this.o=t,this.j=e,this.root=n,this.ia=r,this.fa=i,this.A=o,this.h=16123663,this.w=139268}xi.prototype.ea=function(){for(var t=this.c.length;;){if(null!=this.sa&&this.sa.ea())return!0;if(!(this.m<t))return!1;var e=this.c[this.m];this.m+=1,null!=e&&(this.sa=me(e))}},xi.prototype.next=function(){if(this.ea())return this.sa.next();throw Error("No such element")},xi.prototype.remove=function(){return Error("Unsupported operation")},(t=Oi.prototype).Wa=function(t){return t===this.J?this:new Oi(t,this.j,rt(this.c))},t.tb=function(){return ji(this.c,0,null)},t.wb=function(t,e){for(var n=this.c.length,r=0;;){if(!(r<n))return e;var i=this.c[r];if(null!=i){if(He(e=i.wb(t,e)))return e;r+=1}else r+=1}},t.Xa=function(t,e,n,r){var i=this.c[e>>>t&31];return null!=i?i.Xa(t+5,e,n,r):r},t.qa=function(t,e,n,r,i,o){var a=n>>>e&31,u=this.c[a];return null==u?((t=Ci(this,t,a,_i.qa(t,e+5,n,r,i,o))).j+=1,t):(e=u.qa(t,e+5,n,r,i,o))===u?this:Ci(this,t,a,e)},t.pa=function(t,e,n,r,i){var o=e>>>t&31,a=this.c[o];return null==a?new Oi(null,this.j+1,Ii(this.c,o,_i.pa(t+5,e,n,r,i))):(t=a.pa(t+5,e,n,r,i))===a?this:new Oi(null,this.j,Ii(this.c,o,t))},t.sb=function(t,e,n,r){var i=this.c[e>>>t&31];return null!=i?i.sb(t+5,e,n,r):r},t.ub=function(t,e,n){var r=e>>>t&31,i=this.c[r];if(null!=i){if((t=i.ub(t+5,e,n))===i)r=this;else if(null==t)if(8>=this.j)t:{t=(i=this.c).length,e=Array(2*(this.j-1)),n=0;for(var o=1,a=0;;){if(!(n<t)){r=new Di(null,a,e);break t}n!==r&&null!=i[n]?(e[o]=i[n],o+=2,a|=1<<n,n+=1):n+=1}}else r=new Oi(null,this.j-1,Ii(this.c,r,t));else r=new Oi(null,this.j,Ii(this.c,r,t));return r}return this},t.ma=function(){return new xi(this.c)},(t=Pi.prototype).Wa=function(t){if(t===this.J)return this;var e=Array(2*(this.j+1));return Dn(this.c,0,e,0,2*this.j),new Pi(t,this.La,this.j,e)},t.tb=function(){return Li(this.c,0,null)},t.wb=function(t,e){return Ni(this.c,t,e)},t.Xa=function(t,e,n,r){return 0>(t=Ri(this.c,this.j,n))?r:Si(n,this.c[t])?this.c[t+1]:r},t.qa=function(t,e,n,r,i,o){return n===this.La?-1===(e=Ri(this.c,this.j,r))?this.c.length>2*this.j?(e=2*this.j,n=2*this.j+1,(t=this.Wa(t)).c[e]=r,t.c[n]=i,o.val=!0,t.j+=1,t):(n=this.c.length,e=Array(n+2),Dn(this.c,0,e,0,n),e[n]=r,e[n+1]=i,o.val=!0,r=this.j+1,t===this.J?(this.c=e,this.j=r,t=this):t=new Pi(this.J,this.La,r,e),t):this.c[e+1]===i?this:Ci(this,t,e+1,i):new Di(t,1<<(this.La>>>e&31),[null,this,null,null]).qa(t,e,n,r,i,o)},t.pa=function(t,e,n,r,i){return e===this.La?-1===(t=Ri(this.c,this.j,n))?(t=2*this.j,e=Array(t+2),Dn(this.c,0,e,0,t),e[t]=n,e[t+1]=r,i.val=!0,new Pi(null,this.La,this.j+1,e)):Le.b(this.c[t+1],r)?this:new Pi(null,this.La,this.j,Ii(this.c,t+1,r)):new Di(null,1<<(this.La>>>t&31),[null,this]).pa(t,e,n,r,i)},t.sb=function(t,e,n,r){return 0>(t=Ri(this.c,this.j,n))?r:Si(n,this.c[t])?new pi(this.c[t],this.c[t+1]):r},t.ub=function(t,e,n){return-1===(t=Ri(this.c,this.j,n))?this:1===this.j?null:new Pi(null,this.La,this.j-1,ki(this.c,Qn(t)))},t.ma=function(){return new Ai(this.c)},(t=Mi.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.o},t.X=function(){return null==this.D?Li(this.ta,this.m+2,null):Li(this.ta,this.m,Me(this.D))},t.R=function(){var t=this.A;return null!=t?t:this.A=t=Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.ba=function(t,e){return Mn(e,this)},t.ca=function(t,e,n){return Ln(e,n,this)},t.Z=function(){return null==this.D?new pi(this.ta[this.m],this.ta[this.m+1]):Re(this.D)},t.da=function(){var t=null==this.D?Li(this.ta,this.m+2,null):Li(this.ta,this.m,Me(this.D));return null!=t?t:Zn},t.T=function(){return this},t.P=function(t,e){return e===this.o?this:new Mi(e,this.ta,this.m,this.D,this.A)},t.Y=function(t,e){return rr(e,this)},Mi.prototype[nt]=function(){return je(this)},(t=Fi.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.o},t.X=function(){return ji(this.ta,this.m,Me(this.D))},t.R=function(){var t=this.A;return null!=t?t:this.A=t=Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.ba=function(t,e){return Mn(e,this)},t.ca=function(t,e,n){return Ln(e,n,this)},t.Z=function(){return Re(this.D)},t.da=function(){var t=ji(this.ta,this.m,Me(this.D));return null!=t?t:Zn},t.T=function(){return this},t.P=function(t,e){return e===this.o?this:new Fi(e,this.ta,this.m,this.D,this.A)},t.Y=function(t,e){return rr(e,this)},Fi.prototype[nt]=function(){return je(this)},Ui.prototype.ea=function(){return!this.hc||this.Ec.ea()},Ui.prototype.next=function(){return this.hc?this.Ec.next():(this.hc=!0,new pi(null,this.fa))},Ui.prototype.remove=function(){return Error("Unsupported operation")},(t=Vi.prototype).jb=function(t,e){return null==e?this.ia?new pi(null,this.fa):null:null==this.root?null:this.root.sb(0,Ne(e),e,null)},t.toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.keys=function(){return je(Gi(this))},t.entries=function(){return new ci(Oe(Oe(this)))},t.values=function(){return je(Yi(this))},t.has=function(t){return Pn(this,t)},t.get=function(t,e){return this.C(null,t,e)},t.forEach=function(t){for(var e=Oe(this),n=null,r=0,i=0;;)if(i<r){var o=n.H(null,i),a=fn(o,0);o=fn(o,1),t.b?t.b(o,a):t.call(null,o,a),i+=1}else{if(!(e=Oe(e)))return null;An(e)?(n=le(e),e=ce(e),a=n,r=cn(n),n=a):(a=fn(n=Re(e),0),o=fn(n,1),t.b?t.b(o,a):t.call(null,o,a),e=Me(e),n=null,r=0),i=0}},t.S=function(t,e){return this.C(null,e,null)},t.C=function(t,e,n){return null==e?this.ia?this.fa:n:null==this.root?n:this.root.Xa(0,Ne(e),e,n)},t.Fb=function(t,e,n){return He(t=this.ia?e.f?e.f(n,null,this.fa):e.call(null,n,null,this.fa):n)?e=Mt(t):null!=this.root?e=He(e=this.root.wb(e,t))?Mt(e):e:e=t,e},t.ma=function(){var t=this.root?me(this.root):(void 0!==V&&void 0!==q&&void 0!==U||((U=function(t){this.bd=t,this.h=393216,this.w=0}).prototype.P=function(t,e){return new U(e)},U.prototype.M=function(){return this.bd},U.prototype.ea=function(){return!1},U.prototype.next=function(){return Error("No such element")},U.prototype.remove=function(){return Error("Unsupported operation")},U.cc=function(){return new Zr(null,1,5,ti,[Po],null)},U.gb=!0,U.Ra="cljs.core/t_cljs$core24122",U.pb=function(t){return Zt(t,"cljs.core/t_cljs$core24122")}),new U(gi));return this.ia?new Ui(this.fa,t):t},t.M=function(){return this.o},t.L=function(){return this.j},t.R=function(){var t=this.A;return null!=t?t:this.A=t=We(this)},t.B=function(t,e){return function(t,e){return On(kn(e)&&!Cn(e)&&cn(t)===cn(e)?(null!=t?1048576&t.h||B===t.rd||!t.h&&Z(Bt,t):Z(Bt,t))?qn((function(t,n,r){return!!Le.b(pn.f(e,n,li),r)||new Ge}),!0,t):Ar((function(t){return Le.b(pn.f(e,Re(t),li),Re(Me(t)))}),t):null)}(this,e)},t.cb=function(){return new Bi(this.root,this.j,this.ia,this.fa)},t.W=function(){return jt(qi,this.o)},t.Tb=function(t,e){return null==e?this.ia?new Vi(this.o,this.j-1,this.root,!1,null,null):this:null==this.root||(t=this.root.ub(0,Ne(e),e))===this.root?this:new Vi(this.o,this.j-1,t,this.ia,this.fa,null)},t.Qa=function(t,e,n){return null==e?this.ia&&n===this.fa?this:new Vi(this.o,this.ia?this.j:this.j+1,this.root,!0,n,null):(t=new Ti,(e=(null==this.root?_i:this.root).pa(0,Ne(e),e,n,t))===this.root?this:new Vi(this.o,t.val?this.j+1:this.j,e,this.ia,this.fa,null))},t.T=function(){if(0<this.j){var t=null!=this.root?this.root.tb():null;return this.ia?rr(new pi(null,this.fa),t):t}return null},t.P=function(t,e){return e===this.o?this:new Vi(e,this.j,this.root,this.ia,this.fa,this.A)},t.Y=function(t,e){if(Nn(e))return this.Qa(null,mt.b(e,0),mt.b(e,1));for(t=this,e=Oe(e);;){if(null==e)return t;var n=Re(e);if(!Nn(n))throw Error("conj on a map takes map entries or seqables of map entries");t=It(t,mt.b(n,0),mt.b(n,1)),e=Me(e)}},t.call=function(){var t;return(t=function(t,e,n){switch(arguments.length){case 2:return this.S(null,e);case 3:return this.C(null,e,n)}throw Error("Invalid arity: "+(arguments.length-1))}).b=function(t,e){return this.S(null,e)},t.f=function(t,e,n){return this.C(null,e,n)},t}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return this.S(null,t)},t.b=function(t,e){return this.C(null,t,e)};var qi=new Vi(null,0,null,!1,null,Ke);function Bi(t,e,n,r){this.J={},this.root=t,this.count=e,this.ia=n,this.fa=r,this.h=259,this.w=56}function zi(t,e,n){if(t.J){if(null==e)t.fa!==n&&(t.fa=n),t.ia||(t.count+=1,t.ia=!0);else{var r=new Ti;(e=(null==t.root?_i:t.root).qa(t.J,0,Ne(e),e,n,r))!==t.root&&(t.root=e),r.val&&(t.count+=1)}return t}throw Error("assoc! after persistent!")}Vi.prototype[nt]=function(){return je(this)},(t=Bi.prototype).L=function(){if(this.J)return this.count;throw Error("count after persistent!")},t.S=function(t,e){return null==e?this.ia?this.fa:null:null==this.root?null:this.root.Xa(0,Ne(e),e)},t.C=function(t,e,n){return null==e?this.ia?this.fa:n:null==this.root?n:this.root.Xa(0,Ne(e),e,n)},t.fb=function(t,e){t:{if(!this.J)throw Error("conj! after persistent");if(di(e))t=zi(this,At(e),Dt(e));else if(Nn(e))t=zi(this,e.a?e.a(0):e.call(null,0),e.a?e.a(1):e.call(null,1));else for(t=Oe(e),e=this;;){var n=Re(t);if(!X(n)){t=e;break t}t=Me(t),e=zi(e,At(n),Dt(n))}}return t},t.nb=function(){if(!this.J)throw Error("persistent! called twice");return this.J=null,new Vi(null,this.count,this.root,this.ia,this.fa,null)},t.eb=function(t,e,n){return zi(this,e,n)},t.call=function(){var t;return(t=function(t,e,n){switch(arguments.length){case 2:return this.S(null,e);case 3:return this.C(null,e,n)}throw Error("Invalid arity: "+(arguments.length-1))}).b=function(t,e){return this.S(null,e)},t.f=function(t,e,n){return this.C(null,e,n)},t}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return this.S(null,t)},t.b=function(t,e){return this.C(null,t,e)};var Wi=function t(e){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(0<n.length?new on(n.slice(0),0,null):null)};Wi.i=function(t){for(var e=Oe(t),n=ie(qi);;){if(!e)return ae(n);t=Me(Me(e)),n=ue(n,Re(e),e=Re(Me(e))),e=t}},Wi.v=0,Wi.s=function(t){return this.i(Oe(t))};var Ki=function t(e){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(0<n.length?new on(n.slice(0),0,null):null)};function Qi(t,e){this.F=t,this.ua=e,this.h=32374988,this.w=0}function Gi(t){return(t=Oe(t))?new Qi(t,null):null}function Hi(t,e){this.F=t,this.ua=e,this.h=32374988,this.w=0}function Yi(t){return(t=Oe(t))?new Hi(t,null):null}Ki.i=function(t){return wi(t=t instanceof on&&0===t.m?t.c:it(t))},Ki.v=0,Ki.s=function(t){return this.i(Oe(t))},(t=Qi.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.ua},t.X=function(){var t=(null!=this.F?128&this.F.h||B===this.F.kb||!this.F.h&&Z(bt,this.F):Z(bt,this.F))?this.F.X(null):Me(this.F);return null==t?null:new Qi(t,null)},t.R=function(){return Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.ba=function(t,e){return Mn(e,this)},t.ca=function(t,e,n){return Ln(e,n,this)},t.Z=function(){return this.F.Z(null).key},t.da=function(){var t=(null!=this.F?128&this.F.h||B===this.F.kb||!this.F.h&&Z(bt,this.F):Z(bt,this.F))?this.F.X(null):Me(this.F);return null!=t?new Qi(t,null):Zn},t.T=function(){return this},t.P=function(t,e){return e===this.ua?this:new Qi(this.F,e)},t.Y=function(t,e){return rr(e,this)},Qi.prototype[nt]=function(){return je(this)},(t=Hi.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.M=function(){return this.ua},t.X=function(){var t=(null!=this.F?128&this.F.h||B===this.F.kb||!this.F.h&&Z(bt,this.F):Z(bt,this.F))?this.F.X(null):Me(this.F);return null==t?null:new Hi(t,null)},t.R=function(){return Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.ba=function(t,e){return Mn(e,this)},t.ca=function(t,e,n){return Ln(e,n,this)},t.Z=function(){return this.F.Z(null).val},t.da=function(){var t=(null!=this.F?128&this.F.h||B===this.F.kb||!this.F.h&&Z(bt,this.F):Z(bt,this.F))?this.F.X(null):Me(this.F);return null!=t?new Hi(t,null):Zn},t.T=function(){return this},t.P=function(t,e){return e===this.ua?this:new Hi(this.F,e)},t.Y=function(t,e){return rr(e,this)},Hi.prototype[nt]=function(){return je(this)};var Xi=function t(e){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(0<n.length?new on(n.slice(0),0,null):null)};function $i(t,e){var n=gi;for(e=Oe(e);;){if(!e)return jt(n,bn(t));var r=Re(e),i=pn.f(t,r,Ls);n=Le.b(i,Ls)?n:dn.f(n,r,i),e=Me(e)}}function Ji(t){this.vb=t}function Zi(t,e,n){this.o=t,this.Ma=e,this.A=n,this.h=15077647,this.w=139268}Xi.i=function(t){return X(Dr(Bn,t))?Un((function(t,e){return sn.b(X(t)?t:gi,e)}),t):null},Xi.v=0,Xi.s=function(t){return this.i(Oe(t))},Ji.prototype.ea=function(){return this.vb.ea()},Ji.prototype.next=function(){if(this.vb.ea())return this.vb.next().key;throw Error("No such element")},Ji.prototype.remove=function(){return Error("Unsupported operation")},(t=Zi.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.keys=function(){return je(Oe(this))},t.entries=function(){return new hi(Oe(Oe(this)))},t.values=function(){return je(Oe(this))},t.has=function(t){return Pn(this,t)},t.forEach=function(t){for(var e=Oe(this),n=null,r=0,i=0;;)if(i<r){var o=n.H(null,i),a=fn(o,0);o=fn(o,1),t.b?t.b(o,a):t.call(null,o,a),i+=1}else{if(!(e=Oe(e)))return null;An(e)?(n=le(e),e=ce(e),a=n,r=cn(n),n=a):(a=fn(n=Re(e),0),o=fn(n,1),t.b?t.b(o,a):t.call(null,o,a),e=Me(e),n=null,r=0),i=0}},t.S=function(t,e){return this.C(null,e,null)},t.C=function(t,e,n){return X(t=kt(this.Ma,e))?At(t):n},t.ma=function(){return new Ji(me(this.Ma))},t.M=function(){return this.o},t.L=function(){return st(this.Ma)},t.R=function(){var t=this.A;return null!=t?t:this.A=t=We(this)},t.B=function(t,e){if(!Sn(e))return!1;if(cn(this)!==cn(e))return!1;try{return qn((function(t,n){return(t=Pn(e,n))?t:new Ge}),!0,this.Ma)}catch(t){if(t instanceof Error)return!1;throw t}},t.cb=function(){return new eo(ie(this.Ma))},t.W=function(){return jt(to,this.o)},t.pc=function(t,e){return new Zi(this.o,Nt(this.Ma,e),null)},t.T=function(){return Gi(this.Ma)},t.P=function(t,e){return e===this.o?this:new Zi(e,this.Ma,this.A)},t.Y=function(t,e){return new Zi(this.o,dn.f(this.Ma,e,null),null)},t.call=function(){var t;return(t=function(t,e,n){switch(arguments.length){case 2:return this.S(null,e);case 3:return this.C(null,e,n)}throw Error("Invalid arity: "+(arguments.length-1))}).b=function(t,e){return this.S(null,e)},t.f=function(t,e,n){return this.C(null,e,n)},t}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return this.S(null,t)},t.b=function(t,e){return this.C(null,t,e)};var to=new Zi(null,gi,Ke);function eo(t){this.Pa=t,this.w=136,this.h=259}function no(t){if(Sn(t))return gn(t,null);if(null==(t=Oe(t)))return to;if(t instanceof on&&0===t.m){for(var e=(t=t.c).length,n=ie(to),r=0;r<e;)oe(n,t[r]),r+=1;return ae(n)}for(n=ie(to);;){if(null==t)return ae(n);e=Me(t),n=oe(n,yt(t)),t=e}}function ro(t){if(null!=t&&(4096&t.w||B===t.nc))return t.name;if("string"==typeof t)return t;throw Error(["Doesn't support name: ",Hn.a(t)].join(""))}function io(t,e,n){this.start=t,this.step=e,this.count=n,this.h=82,this.w=0}function oo(t,e,n){this.m=t,this.end=e,this.step=n}function ao(t,e,n,r,i,o,a){this.o=t,this.start=e,this.end=n,this.step=r,this.ha=i,this.Cb=o,this.A=a,this.h=32375006,this.w=140800}function uo(t){if(null==t.ha){var e=t.L(null);32<e?(t.Cb=new ao(null,t.start+32*t.step,t.end,t.step,null,null,null),t.ha=new io(t.start,t.step,32)):t.ha=new io(t.start,t.step,e)}}function so(t){t:for(var e=t;e=Oe(e);)e=Me(e);return t}function lo(t,e){if("string"==typeof e)return null!=(t=t.exec(e))&&Le.b(t[0],e)?1===t.length?t[0]:ri(t):null;throw new TypeError("re-matches must match against a string.")}Zi.prototype[nt]=function(){return je(this)},(t=eo.prototype).fb=function(t,e){return this.Pa=ue(this.Pa,e,null),this},t.nb=function(){return new Zi(null,ae(this.Pa),null)},t.L=function(){return cn(this.Pa)},t.S=function(t,e){return this.C(null,e,null)},t.C=function(t,e,n){return St.f(this.Pa,e,_n)===_n?n:e},t.call=function(){function t(t,e,n){return St.f(this.Pa,e,_n)===_n?n:e}function e(t,e){return St.f(this.Pa,e,_n)===_n?null:e}var n;return(n=function(n,r,i){switch(arguments.length){case 2:return e.call(this,n,r);case 3:return t.call(this,n,r,i)}throw Error("Invalid arity: "+(arguments.length-1))}).b=e,n.f=t,n}(),t.apply=function(t,e){return this.call.apply(this,[this].concat(rt(e)))},t.a=function(t){return St.f(this.Pa,t,_n)===_n?null:t},t.b=function(t,e){return St.f(this.Pa,t,_n)===_n?e:t},(t=io.prototype).L=function(){return this.count},t.Z=function(){return this.start},t.H=function(t,e){return this.start+e*this.step},t.aa=function(t,e,n){return 0<=e&&e<this.count?this.start+e*this.step:n},t.Rb=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new io(this.start+this.step,this.step,this.count-1)},oo.prototype.ea=function(){return 0<this.step?this.m<this.end:this.m>this.end},oo.prototype.next=function(){var t=this.m;return this.m+=this.step,t},(t=ao.prototype).toString=function(){return ye(this)},t.equiv=function(t){return this.B(null,t)},t.indexOf=function(){var t;return(t=function(t,e){switch(arguments.length){case 1:return en(this,t,0);case 2:return en(this,t,e)}throw Error("Invalid arity: "+arguments.length)}).a=function(t){return en(this,t,0)},t.b=function(t,e){return en(this,t,e)},t}(),t.lastIndexOf=function(){function t(t){return nn(this,t,cn(this))}var e;return(e=function(e,n){switch(arguments.length){case 1:return t.call(this,e);case 2:return nn(this,e,n)}throw Error("Invalid arity: "+arguments.length)}).a=t,e.b=function(t,e){return nn(this,t,e)},e}(),t.H=function(t,e){if(0<=e&&e<this.L(null))return this.start+e*this.step;if(0<=e&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds")},t.aa=function(t,e,n){return 0<=e&&e<this.L(null)?this.start+e*this.step:0<=e&&this.start>this.end&&0===this.step?this.start:n},t.ma=function(){return new oo(this.start,this.end,this.step)},t.M=function(){return this.o},t.X=function(){return 0<this.step?this.start+this.step<this.end?new ao(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new ao(null,this.start+this.step,this.end,this.step,null,null,null):null},t.L=function(){return Math.ceil((this.end-this.start)/this.step)},t.R=function(){var t=this.A;return null!=t?t:this.A=t=Be(this)},t.B=function(t,e){return Yn(this,e)},t.W=function(){return Zn},t.ba=function(t,e){return Ye(this,e)},t.ca=function(t,e,n){for(t=this.start;;){if(!(0<this.step?t<this.end:t>this.end))return n;if(He(n=e.b?e.b(n,t):e.call(null,n,t)))return Mt(n);t+=this.step}},t.Z=function(){return this.start},t.da=function(){var t=this.X(null);return null==t?Zn:t},t.T=function(){return this},t.Eb=function(){return uo(this),this.ha},t.bb=function(){return uo(this),null==this.Cb?Zn:this.Cb},t.P=function(t,e){return e===this.o?this:new ao(e,this.start,this.end,this.step,this.ha,this.Cb,this.A)},t.Y=function(t,e){return rr(e,this)},t.Sb=function(){return Oe(this.bb(null))},ao.prototype[nt]=function(){return je(this)};function co(t){if("string"==typeof t)return function t(e,n){var r=e.exec(n);if(null==r)return null;var i=r[0];return rr(1===r.length?i:ri(r),new sr(null,(function(){var o=i.length;return(o=r.index+(1>o?1:o))<=n.length?(o=n.substring(o),t.b?t.b(e,o):t.call(null,e,o)):null}),null))}(/\d/,t);throw new TypeError("re-seq must match against a string.")}function ho(t){if(t instanceof RegExp)return t;var e=/^\(\?([idmsux]*)\)/;if("string"!=typeof t)throw new TypeError("re-find must match against a string.");var n=null==(e=e.exec(t))?null:1===e.length?e[0]:ri(e);return e=fn(n,0),n=fn(n,1),new RegExp(t.substring(null==e?0:e.length),X(n)?n:"")}function fo(t,e,n,r,i,o,a){var u,s=Q;Q=null==Q?null:Q-1;try{if(null!=Q&&0>Q)return Zt(t,"#");if(Zt(t,n),0===Ou.a(o))Oe(a)&&Zt(t,X(u=mu.a(o))?u:"...");else{if(Oe(a)){var l=Re(a);e.f?e.f(l,t,o):e.call(null,l,t,o)}for(var c=Me(a),h=Ou.a(o)-1;;){if(!c||null!=h&&0===h){Oe(c)&&0===h&&(Zt(t,r),Zt(t,function(){var t=mu.a(o);return X(t)?t:"..."}()));break}Zt(t,r);var f=Re(c);n=t,a=o,e.f?e.f(f,n,a):e.call(null,f,n,a),c=Me(c),h=n=h-1}}return Zt(t,i)}finally{Q=s}}function po(t,e){e=Oe(e);for(var n=null,r=0,i=0;;)if(i<r){var o=n.H(null,i);Zt(t,o),i+=1}else{if(!(e=Oe(e)))return null;An(n=e)?(e=le(n),r=ce(n),n=e,o=cn(e),e=r,r=o):(Zt(t,o=Re(n)),e=Me(n),n=null,r=0),i=0}}function mo(t){if(null==z)throw Error("No *print-fn* fn set for evaluation environment");z.a?z.a(t):z.call(null,t)}var vo={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function yo(t,e,n){return null==t?Zt(e,"nil"):(function(t,e){return!!On(pn.b(t,Zo))&&(!(null==e||!(131072&e.h||B===e.Vc))&&null!=bn(e))}(n,t)&&(Zt(e,"^"),go(bn(t),e,n),Zt(e," ")),t.gb?t.pb(e):(null!=t?2147483648&t.h||B===t.U||!t.h&&Z(te,t):Z(te,t))?ee(t,e,n):!0===t||!1===t?Zt(e,Hn.a(t)):"number"==typeof t?Zt(e,isNaN(t)?"##NaN":t===Number.POSITIVE_INFINITY?"##Inf":t===Number.NEGATIVE_INFINITY?"##-Inf":Hn.a(t)):null!=t&&t.constructor===Object?(Zt(e,"#js "),To(Fr.b((function(e){return new pi(null!=lo(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,e)?ur.a(e):e,t[e])}),v(t)),e,n)):$(t)?fo(e,go,"#js ["," ","]",n,t):"string"==typeof t?X(pu.a(n))?Zt(e,function(t){return['"',Hn.a(t.replace(/[\\"\b\f\n\r\t]/g,(function(t){return vo[t]}))),'"'].join("")}(t)):Zt(e,t):i(t)?po(e,an(["#object[",n=null==(n=t.name)||/^[\s\xa0]*$/.test(n)?"Function":n,X(!1)?[' "',Hn.a(t),'"'].join(""):"","]"])):t instanceof Date?(n=function(t,e){for(t=Hn.a(t);;){if(!(t.length<e))return t;t=["0",t].join("")}},po(e,an(['#inst "',Hn.a(t.getUTCFullYear()),"-",n(t.getUTCMonth()+1,2),"-",n(t.getUTCDate(),2),"T",n(t.getUTCHours(),2),":",n(t.getUTCMinutes(),2),":",n(t.getUTCSeconds(),2),".",n(t.getUTCMilliseconds(),3),"-",'00:00"']))):t instanceof RegExp?po(e,an(['#"',t.source,'"'])):function(t){return"symbol"===r(t)||"undefined"!=typeof Symbol&&t instanceof Symbol}(t)?po(e,an(["#object[",t.toString(),"]"])):X(null==(o=null==t?null:t.constructor)?null:o.Ra)?po(e,an(["#object[",t.constructor.Ra.replace(/\//g,"."),"]"])):(n=null==(n=function(){var e=null==t?null:t.constructor;return null==e?null:e.name}())||/^[\s\xa0]*$/.test(n)?"Object":n,null==t.constructor?po(e,an(["#object[",n,"]"])):po(e,an(["#object[",n," ",Hn.a(t),"]"]))));var o}function go(t,e,n){var r=bs.a(n);return X(r)?(n=dn.f(n,tu,yo),r.f?r.f(t,e,n):r.call(null,t,e,n)):yo(t,e,n)}function bo(t){var e=H();return En(t)?"":Hn.a(function(t,e){var n=new j;t:{var r=new ve(n);go(Re(t),r,e),t=Oe(Me(t));for(var i=null,o=0,a=0;;)if(a<o){var u=i.H(null,a);Zt(r," "),go(u,r,e),a+=1}else{if(!(t=Oe(t)))break t;An(i=t)?(t=le(i),o=ce(i),i=t,u=cn(t),t=o,o=u):(u=Re(i),Zt(r," "),go(u,r,e),t=Me(i),i=null,o=0),a=0}}return n}(t,e))}function wo(t){return t instanceof De?_e.b(null,ro(t)):ur.b(null,ro(t))}function Eo(t,e,n,r,i){return fo(r,(function(t,e,r){var i=At(t);return n.f?n.f(i,e,r):n.call(null,i,e,r),Zt(e," "),t=Dt(t),n.f?n.f(t,e,r):n.call(null,t,e,r)}),[Hn.a(t),"{"].join(""),", ","}",i,Oe(e))}function To(t,e,n){var r=go,i=kn(t)?function(t){if(!X(!1))return null;var e=Oe(t),n=Oe(e),r=Re(n);for(Me(n),fn(r,0),fn(r,1),n=ln(t),t=null;;){r=t,t=Re(e=Oe(e));var i=Me(e),o=t;if(t=fn(o,0),e=fn(o,1),!X(o))return new Zr(null,2,5,ti,[r,n],null);if(!(t instanceof ir||t instanceof De))return null;if(X(r)){if(!Le.b(r,ar(t)))return null;n=dn.f(n,wo(t),e),t=r,e=i}else{if(!X(r=ar(t)))return null;n=dn.f(n,wo(t),e),t=r,e=i}}}(t):null,o=fn(i,0);return i=fn(i,1),X(o)?Eo(["#:",Hn.a(o)].join(""),i,r,e,n):Eo(null,t,r,e,n)}on.prototype.U=B,on.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},sr.prototype.U=B,sr.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},pi.prototype.U=B,pi.prototype.N=function(t,e,n){return fo(e,go,"["," ","]",n,this)},Mi.prototype.U=B,Mi.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},mi.prototype.U=B,mi.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},Ue.prototype.U=B,Ue.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},oi.prototype.U=B,oi.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},nr.prototype.U=B,nr.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},un.prototype.U=B,un.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},Vi.prototype.U=B,Vi.prototype.N=function(t,e,n){return To(this,e,n)},Fi.prototype.U=B,Fi.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},Zi.prototype.U=B,Zi.prototype.N=function(t,e,n){return fo(e,go,"#{"," ","}",n,this)},fr.prototype.U=B,fr.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},Rr.prototype.U=B,Rr.prototype.N=function(t,e,n){return Zt(e,"#object[cljs.core.Atom "),go(new yi(null,1,[qa,this.state],null),e,n),Zt(e,"]")},Hi.prototype.U=B,Hi.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},Zr.prototype.U=B,Zr.prototype.N=function(t,e,n){return fo(e,go,"["," ","]",n,this)},Jn.prototype.U=B,Jn.prototype.N=function(t,e){return Zt(e,"()")},yi.prototype.U=B,yi.prototype.N=function(t,e,n){return To(this,e,n)},ao.prototype.U=B,ao.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},Qi.prototype.U=B,Qi.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)},Xn.prototype.U=B,Xn.prototype.N=function(t,e,n){return fo(e,go,"("," ",")",n,this)};var So=null;function Io(){}function ko(t){if(null!=t&&null!=t.Qc)t=t.Qc(t);else{var e=ko[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=ko._))throw tt("IEncodeJS.-clj->js",t);t=e.a?e.a(t):e.call(null,t)}}return t}function Co(t,e){return(null!=t?B===t.Pc||!t.ac&&Z(Io,t):Z(Io,t))?ko(t):"string"==typeof t||"number"==typeof t||t instanceof ir||t instanceof De?e.a?e.a(t):e.call(null,t):bo(an([t]))}var No=function t(e){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],1<n.length?new on(n.slice(1),0,null):null)};function Ao(){}function Do(t,e){if(null!=t&&null!=t.Oc)t=t.Oc(t,e);else{var n=Do[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=Do._))throw tt("IEncodeClojure.-js->clj",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}function _o(t,e){var n=null!=e&&(64&e.h||B===e.V)?Ir(Wi,e):e,r=X(n=pn.b(n,Is))?ur:Hn;return function t(n){return(null!=n?B===n.md||!n.ac&&Z(Ao,n):Z(Ao,n))?Do(n,Ir(Ki,e)):xn(n)?so(Fr.b(t,n)):di(n)?new pi(t(At(n)),t(Dt(n))):Tn(n)?Vr.f(ln(n),Fr.a(t),n):$(n)?ae(Vn((function(e,n){return gr.b(e,t(n))}),ie(ei),n)):(null==n?null:n.constructor)===Object?ae(Vn((function(e,i){return ue(e,r.a?r.a(i):r.call(null,i),i=t(y(n,i)))}),ie(gi),v(n))):n}(t)}function xo(t){var e=Da,n=Error(e);return this.message=e,this.data=t,this.kc=null,this.name=n.name,this.description=n.description,this.fileName=n.fileName,this.lineNumber=n.lineNumber,this.columnNumber=n.columnNumber,this.stack=n.stack,this}if(No.i=function(t,e){e=null!=e&&(64&e.h||B===e.V)?Ir(Wi,e):e;var n=pn.f(e,ru,ro),r=function t(e){if(null==e)return null;if(null!=e?B===e.Pc||!e.ac&&Z(Io,e):Z(Io,e))return ko(e);if(e instanceof ir)return n.a?n.a(e):n.call(null,e);if(e instanceof De)return Hn.a(e);if(kn(e)){var i={};e=Oe(e);for(var o=null,a=0,u=0;;)if(u<a){var s=o.H(null,u),l=fn(s,0);s=fn(s,1),l=Co(l,r),s=t(s),i[l]=s,u+=1}else{if(!(e=Oe(e)))break;An(e)?(a=le(e),e=ce(e),o=a,a=cn(a)):(o=fn(a=Re(e),0),a=fn(a,1),o=Co(o,r),a=t(a),i[o]=a,e=Me(e),o=null,a=0),u=0}return i}if(Tn(e)){for(i=[],e=Oe(Fr.b(t,e)),o=null,u=a=0;;)if(u<a)l=o.H(null,u),i.push(l),u+=1;else{if(!(e=Oe(e)))break;An(o=e)?(e=le(o),u=ce(o),o=e,a=cn(e),e=u):(e=Re(o),i.push(e),e=Me(o),o=null,a=0),u=0}return i}return e};return r(t)},No.v=1,No.s=function(t){var e=Re(t);return t=Me(t),this.i(e,t)},xo.prototype.__proto__=Error.prototype,xo.prototype.U=B,xo.prototype.N=function(t,e,n){return Zt(e,"#error {:message "),go(this.message,e,n),X(this.data)&&(Zt(e,", :data "),go(this.data,e,n)),X(this.kc)&&(Zt(e,", :cause "),go(this.kc,e,n)),Zt(e,"}")},xo.prototype.toString=function(){return ye(this)},void 0===V||void 0===q||void 0===Oo)var Oo=null;if("undefined"!=typeof console&&Y(),void 0===V||void 0===q||void 0===Ro)var Ro=function(){throw Error("cljs.core/*eval* not bound")};var Po=new De(null,"meta24123","meta24123",-46999360,null),Mo=new ir(null,"description","description",-1428560544),Lo=new ir(null,"old-state","old-state",1039580704),Fo=new ir(null,"path","path",-188191168),jo=new ir(null,"field--invalid","field--invalid",-1287614816),Uo=new ir(null,"CPF","CPF",199691873),Vo=new ir(null,"data-checkout","data-checkout",1904349121),qo=new ir(null,"on-set","on-set",-140953470),Bo=new ir(null,"register-auth-with-firebase-application","register-auth-with-firebase-application",32742562),zo=new ir(null,"cardNumber","cardNumber",243741922),Wo=new ir(null,"email","email",1415816706),Ko=new ir(null,"card-number","card-number",2071197827),Qo=new ir(null,"h2.payment-information__form__title","h2.payment-information__form__title",1679413475),Go=new ir(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Ho=new ir(null,"cardExpirationYear","cardExpirationYear",-1752837533),Yo=new ir(null,"where","where",-2044795965),Xo=new ir(null,"p.payment-information__error","p.payment-information__error",1599315108),$o=new ir(null,"new-state","new-state",-490349212),Jo=new ir(null,"group","group",582596132),Zo=new ir(null,"meta","meta",1499536964),ta=new ir(null,"input#email.field","input#email.field",-861252700),ea=new ir(null,"div.plan-selection__content","div.plan-selection__content",-1492657019),na=new De(null,"blockable","blockable",-28395259,null),ra=new ir(null,"dup","dup",556298533),ia=new ir(null,"div.group-profile","div.group-profile",-656836155),oa=new ir(null,"key","key",-1516042587),aa=new ir(null,"limit","limit",-1355822363),ua=new ir(null,"placeholder","placeholder",-104873083),sa=new ir(null,"numeric","numeric",-1495594714),la=new ir(null,"group-id","group-id",-1316082778),ca=new ir(null,"ref","ref",1289896967),ha=new ir(null,"ul.plan-list","ul.plan-list",1209831687),fa=new ir(null,"childContextTypes","childContextTypes",578717991),pa=new ir(null,"input#identification.field","input#identification.field",-1287054681),da=new ir(null,"displayName","displayName",-809144601),ma=new ir(null,"main.payment-information","main.payment-information",743248647),va=new ir(null,"input#expiration-date.field","input#expiration-date.field",-2021117081),ya=new ir(null,"validator","validator",-1966190681),ga=new ir(null,"start-at","start-at",-103334680),ba=new ir(null,"default","default",-1987822328),wa=new ir(null,"plan-card--selected","plan-card--selected",-1850808056),Ea=new ir(null,"payment","payment",-1682035288),Ta=new ir(null,"finally-block","finally-block",832982472),Sa=new ir(null,"uid","uid",-1447769400),Ia=new ir(null,"warn","warn",-436710552),ka=new ir(null,"img.group-profile__picture","img.group-profile__picture",-1473765367),Ca=new ir(null,"name","name",1843675177),Na=new ir(null,"li","li",723558921),Aa=new ir(null,"value","value",305978217),Da=new ir(null,"promise->chan-failure","promise->chan-failure",-636959831),_a=new ir(null,"contextTypes","contextTypes",-2023853910),xa=new ir(null,"authDomain","authDomain",-1125516118),Oa=new ir(null,"confirmation","confirmation",-634977782),Ra=new ir(null,"section.card.order-description","section.card.order-description",-1410922261),Pa=new ir(null,"b.plan-card__price","b.plan-card__price",1102885291),Ma=new ir(null,"submit","submit",-49315317),La=new ir(null,"on-blur","on-blur",814300747),Fa=new ir(null,"apiKey","apiKey",-942818613),ja=new ir(null,"component-did-update","component-did-update",-1468549173),Ua=new ir(null,"plans","plans",75657163),Va=new ir(null,"start-after","start-after",-1380036532),qa=new ir(null,"val","val",128701612),Ba=new ir(null,"form.card.payment-information__form","form.card.payment-information__form",686881964),za=new ir(null,"recur","recur",-437573268),Wa=new ir(null,"span.field__error","span.field__error",293560684),Ka=new ir(null,"type","type",1174270348),Qa=new ir(null,"catch-block","catch-block",1175212748),Ga=new ir(null,"debug","debug",-1608172596),Ha=new ir(null,"transaction","transaction",1777321997),Ya=new ir(null,"main.payment-confirmation","main.payment-confirmation",-1817280467),Xa=new ir(null,"src","src",-1651076051),$a=new ir(null,"h3.plan-card__title","h3.plan-card__title",-1534512787),Ja=new ir(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Za=new ir(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),tu=new ir(null,"fallback-impl","fallback-impl",-1501286995),eu=new ir(null,"references","references",882562509),nu=new ir(null,"securityCode","securityCode",-1098270131),ru=new ir(null,"keyword-fn","keyword-fn",-64566675),iu=new ir(null,"flush-on-newline","flush-on-newline",-151457939),ou=new ir(null,"componentWillUnmount","componentWillUnmount",1573788814),au=new ir(null,"on-click","on-click",1632826543),uu=new ir(null,"title","title",636505583),su=new ir(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),lu=new ir(null,"cardExpirationMonth","cardExpirationMonth",-657220400),cu=new ir(null,"style","style",-496642736),hu=new ir(null,"identification","identification",-1342325264),fu=new ir(null,"div","div",1057191632),pu=new ir(null,"readably","readably",1129599760),du=new ir(null,"currency","currency",-898327568),mu=new ir(null,"more-marker","more-marker",-14717935),vu=new ir(null,"reagentRender","reagentRender",-358306383),yu=new ir(null,"hr.divider","hr.divider",1742411249),gu=new ir(null,"span.order-description__items__item","span.order-description__items__item",-542080463),bu=new ir(null,"reference","reference",-1711695023),wu=new ir(null,"h1.group-profile__name","h1.group-profile__name",1862278993),Eu=new ir(null,"for","for",-1323786319),Tu=new ir(null,"<>","<>",1280186386),Su=new ir(null,"no-cache","no-cache",1588056370),Iu=new ir(null,"render","render",-1408033454),ku=new ir(null,"anonymous?","anonymous?",374098995),Cu=new ir(null,"reagent-render","reagent-render",-985383853),Nu=new De(null,"meta25890","meta25890",1166189843,null),Au=new De(null,"val","val",1769233139,null),Du=new ir(null,"on-write","on-write",31519475),_u=new ir(null,"li.card.plan-card","li.card.plan-card",-1557283021),xu=new ir(null,"end-at","end-at",1331226740),Ou=new ir(null,"print-length","print-length",1931866356),Ru=new ir(null,"hidden","hidden",-312506092),Pu=new ir(null,"trx","trx",-1323841164),Mu=new ir(null,"id","id",-1388402092),Lu=new ir(null,"picture","picture",-921943404),Fu=new ir(null,"span.order-description__items__name","span.order-description__items__name",-1113772364),ju=new ir(null,"class","class",-2030961996),Uu=new ir(null,"getInitialState","getInitialState",1541760916),Vu=new ir(null,"catch-exception","catch-exception",-1997306795),qu=new ir(null,"p.plan-card__description","p.plan-card__description",1140363509),Bu=new ir(null,"main.plan-selection","main.plan-selection",50718965),zu=new ir(null,"constructor","constructor",-1953928811),Wu=new ir(null,"auto-run","auto-run",1958400437),Ku=new ir(null,"component-will-unmount","component-will-unmount",-2058314698),Qu=new ir(null,"prev","prev",-1597069226),Gu=new ir("firemore","no-document","firemore/no-document",-2015079306),Hu=new De(null,"meta28123","meta28123",48649654,null),Yu=new ir(null,"continue-block","continue-block",-1852047850),Xu=new ir(null,"fb","fb",-1331669322),$u=new ir(null,"end-before","end-before",1724055831),Ju=new ir(null,"input#name.field","input#name.field",51792279),Zu=new ir(null,"display-name","display-name",694513143),ts=new ir(null,"on-submit","on-submit",1227871159),es=new ir(null,"label.label","label.label",725637336),ns=new ir(null,"order","order",-1254677256),rs=new ir(null,"on-dispose","on-dispose",2105306360),is=new ir(null,"error","error",-978969032),os=new ir(null,"input#verification-code.field","input#verification-code.field",-408235432),as=new ir(null,"button.button.plan-selection__subscribe-button","button.button.plan-selection__subscribe-button",-545677672),us=new ir(null,"projectId","projectId",-1551013096),ss=new ir(null,"componentFunction","componentFunction",825866104),ls=new ir(null,"pending?","pending?",-2133618792),cs=new ir(null,"input","input",556931961),hs=new ir(null,"groups","groups",-136896102),fs=new ir(null,"input#card-number.field","input#card-number.field",-59835782),ps=new ir(null,"query","query",-1288509510),ds=new ir(null,"cardholderName","cardholderName",1300897754),ms=new ir(null,"expiration-date","expiration-date",-1266973669),vs=new ir(null,"atom","atom",-397043653),ys=new ir(null,"on-change","on-change",-732046149),gs=new ir(null,"project-id","project-id",206449307),bs=new ir(null,"alt-impl","alt-impl",670969595),ws=new ir(null,"ul.order-description__items","ul.order-description__items",-330317476),Es=new ir(null,"selected-plan","selected-plan",210054588),Ts=new ir(null,"price","price",22129180),Ss=new ir(null,"verification-code","verification-code",-1045306756),Is=new ir(null,"keywordize-keys","keywordize-keys",1310784252),ks=new ir(null,"step","step",1288888124),Cs=new ir(null,"p","p",151049309),Ns=new ir(null,"a.link","a.link",-619461443),As=new ir(null,"button.button","button.button",1464242525),Ds=new De(null,"meta28005","meta28005",-1339173475,null),_s=new ir(null,"contextType","contextType",1033066077),xs=new ir(null,"href","href",-793805698),Os=new ir(null,"img","img",1442687358),Rs=new ir(null,"docNumber","docNumber",-1719173346),Ps=new ir(null,"api-key","api-key",1037904031),Ms=new ir(null,"inputMode","inputMode",-1531650881),Ls=new ir("cljs.core","not-found","cljs.core/not-found",-1572889185),Fs=new ir(null,"text","text",-1790561697),js=new ir(null,"docType","docType",602900159),Us=new De(null,"f","f",43394975,null);function Vs(t,e,n){var r=X(e.ignoreCase)?"gi":"g";return r=X(e.multiline)?[r,"m"].join(""):r,t.replace(new RegExp(e.source,X(e.Cd)?[r,"u"].join(""):r),n)}function qs(t,e,n){if("string"==typeof e)return t.replace(new RegExp(String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),n);if(e instanceof RegExp)return Vs(t,e,"string"==typeof n?n:function(t){return function(){function e(t){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new on(r,0,null)}return n.call(this,e)}function n(e){return e=jr(e),Le.b(cn(e),1)?(e=Re(e),t.a?t.a(e):t.call(null,e)):(e=ri(e),t.a?t.a(e):t.call(null,e))}return e.v=0,e.s=function(t){return n(t=Oe(t))},e.i=n,e}()}(n));throw["Invalid match arg: ",Hn.a(e)].join("")}function Bs(t){var e=new j;for(t=Oe(t);;){if(null==t)return e.toString();e.append(Hn.a(Re(t))),null!=(t=Me(t))&&e.append(" ")}}function zs(t,e){if(1<cn(t="/(?:)/"===Hn.a(e)?sn.b(ri(rr("",Fr.b(Hn,Oe(t)))),""):ri(Hn.a(t).split(e))))t:for(;""===(null==t?null:Ot(t));)t=null==t?null:Rt(t);return t}function Ws(t){return Intl.NumberFormat(void 0,No(Ir(Wi,an([cu,"currency",du,"BRL"])))).format(t)}function Ks(t){return Bs(Fr.b(xr.b(ro,Re),Ur((function(t){return(t=Re(Me(t))).l?t.l():t.call(null)}),Ir(Wi,t))))}function Qs(t,e){return function(n){return new Zr(null,2,5,ti,[t,Xi.i(an([Mt(e),n]))],null)}}var Gs={},Hs={},Ys="undefined"!=typeof window&&null!=window.document,Xs=new Zi(null,new yi(null,2,["aria",null,"data",null],null),null);function $s(t){return 2>cn(t)?t.toUpperCase():[t.substring(0,1).toUpperCase(),t.substring(1)].join("")}function Js(t){if("string"==typeof t)return t;var e=zs(t=ro(t),/-/),n=Oe(e);return e=Re(n),n=Me(n),X(Xs.a?Xs.a(e):Xs.call(null,e))?t:kr(Hn,e,Fr.b($s,n))}function Zs(t){var e=function(){if(vn(t)){var e=t.displayName;X(e)||(e="string"==typeof(e=t.name)&&Oe(e)?e:null)}else e=!1;return X(e)||X(e=!(null==t||!(4096&t.w||B===t.nc))&&ro(t))?e:kn(e=bn(t))?Ca.a(e):null}();return X(e)?qs(Hn.a(e),"$","."):null}function tl(t){return t instanceof ir||t instanceof De}var el=function t(e){switch(arguments.length){case 0:return t.l();case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],new on(n.slice(2),0,null))}};el.l=function(){return null},el.a=function(t){return Tn(t)?(t=function t(e,n){return new sr(null,(function(){var r,i=Oe(n);if(i){if(An(i)){for(var o=le(i),a=cn(o),u=new cr(Array(a)),s=0;s<a;){var l=(r=void 0,r=mt.b(o,s),e.a?e.a(r):e.call(null,r));null!=l&&u.add(l),s+=1}return pr(u.ha(),t(e,ce(i)))}return null==(a=function(){var t=Re(i);return e.a?e.a(t):e.call(null,t)}())?t(e,Pe(i)):rr(a,t(e,Pe(i)))}return null}),null)}((function(t){return X(t)?tl(t)?ro(t):t:null}),t),Oe(t)?Bs(t):null):tl(t)?ro(t):t},el.b=function(t,e){return X(t)?X(e)?[Hn.a(el.a(t))," ",Hn.a(el.a(e))].join(""):el.a(t):el.a(e)},el.i=function(t,e,n){return Vn(el,el.b(t,e),n)},el.s=function(t){var e=Re(t),n=Me(t);return t=Re(n),n=Me(n),this.i(e,t,n)},el.v=2;var nl=!1,rl={},il="undefined"!=typeof console;if(void 0===Gs||void 0===rl||void 0===ol)var ol=Pr(null);if(void 0===Gs||void 0===rl||void 0===al)var al=function(){var t={};return t.warn=function(){function t(t){var n=null;if(0<arguments.length){n=0;for(var r=Array(arguments.length-0);n<r.length;)r[n]=arguments[n+0],++n;n=new on(r,0,null)}return e.call(this,n)}function e(t){return Lr.i(ol,Br,new Zr(null,1,5,ti,[Ia],null),sn,an([Ir(Hn,t)]))}return t.v=0,t.s=function(t){return e(t=Oe(t))},t.i=e,t}(),t.error=function(){function t(t){var n=null;if(0<arguments.length){n=0;for(var r=Array(arguments.length-0);n<r.length;)r[n]=arguments[n+0],++n;n=new on(r,0,null)}return e.call(this,n)}function e(t){return Lr.i(ol,Br,new Zr(null,1,5,ti,[is],null),sn,an([Ir(Hn,t)]))}return t.v=0,t.s=function(t){return e(t=Oe(t))},t.i=e,t}(),t}();var ul={};if(void 0===Gs||void 0===Hs||void 0===ul||void 0===sl)var sl=0;function ll(t){return setTimeout(t,16)}var cl,hl=Ys?function(){var t=window,e=t.requestAnimationFrame;return X(e)||X(e=t.webkitRequestAnimationFrame)||X(e=t.mozRequestAnimationFrame)?e:X(t=t.msRequestAnimationFrame)?t:ll}():ll;function fl(t,e){return t.vc-e.vc}if(void 0===Gs||void 0===Hs||void 0===ul||void 0===pl)var pl=function(){return null};function dl(t){for(var e=t.length,n=0;;){if(!(n<e))return null;var r=t[n];r.l?r.l():r.call(null),n+=1}}function ml(t,e,n){if(!X(n))throw Error("Assert failed: Enqueued function must not be nil\nf");return e.push(n),yl(t)}function vl(t){var e=t.zb;return null==e?null:(t.zb=null,dl(e))}function yl(t){function e(){t.Ob=!1;var e=t.Jc;if(null!=e&&(t.Jc=null,dl(e)),pl(),null!=(e=t.Lb))t:{t.Lb=null,e.sort(fl);for(var n=e.length,r=0;;){if(!(r<n))break t;var i=e[r];!0===i.cljsIsDirty&&i.forceUpdate(),r+=1}}return vl(t)}return t.Ob?null:(t.Ob=!0,hl.a?hl.a(e):hl.call(null,e))}function gl(t){var e=cl;return null==e.zb&&(e.zb=[]),ml(e,e.zb,t)}void 0!==Gs&&void 0!==Hs&&void 0!==ul&&void 0!==cl||(cl=new function(){this.Ob=!1});function bl(t){if(X(t.cljsIsDirty))return null;t.cljsIsDirty=!0;var e=cl;return null==e.Lb&&(e.Lb=[]),ml(e,e.Lb,t)}var wl=function t(e){switch(arguments.length){case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],arguments[1],new on(n.slice(2),0,null))}};wl.a=function(t){return t},wl.b=function(t,e){return cn(t)<cn(e)?Vn((function(t,n){return Pn(e,n)?wn.b(t,n):t}),t,t):Vn(wn,t,e)},wl.i=function(t,e,n){return Vn(wl,t,sn.b(n,e))},wl.s=function(t){var e=Re(t),n=Me(t);return t=Re(n),n=Me(n),this.i(e,t,n)},wl.v=2;var El,Tl={};if(void 0===Gs||void 0===Tl||void 0===Sl)var Sl=!1;if(void 0===Gs||void 0===Tl||void 0===Il)var Il=0;if(void 0===Gs||void 0===Tl||void 0===kl)var kl=Pr(0);function Cl(t,e){var n=El;El=t;try{return e.l?e.l():e.call(null)}finally{El=n}}function Nl(t,e){e.Bb=null,e.Ad=Il+=1,t=Cl(e,t);var n=e.Bb;e.Sa=!1;t:{var r=e.$a,i=null==n?0:n.length;if(i===(null==r?0:r.length))for(var o=0;;){var a=o===i;if(a){r=a;break t}if(n[o]!==r[o]){r=!1;break t}o+=1}else r=!1}if(!r)t:{r=no(n),i=no(e.$a),e.$a=n,n=Oe(wl.b(r,i)),o=null;for(var u=a=0;;)if(u<a){ne(o.H(null,u),e,Ul),u+=1}else{if(!(n=Oe(n)))break;An(o=n)?(n=le(o),u=ce(o),o=n,a=cn(n),n=u):(ne(n=Re(o),e,Ul),n=Me(o),o=null,a=0),u=0}for(r=Oe(wl.b(i,r)),i=null,a=o=0;;)if(a<o)re(n=i.H(null,a),e),a+=1;else{if(!(r=Oe(r)))break t;An(i=r)?(r=le(i),o=ce(i),i=r,n=cn(r),r=o,o=n):(re(n=Re(i),e),r=Me(i),i=null,o=0),a=0}}return t}function Al(t){var e=El;if(null!=e){var n=e.Bb;null==n?e.Bb=[t]:n.push(t)}}function Dl(t,e){return Sl&&Lr.f(kl,Wn,cn(e)-cn(t)),e}function _l(t,e,n){var r=t.ga;return t.ga=Dl(r,dn.f(r,e,n)),t.ic=null}function xl(t,e){var n=t.ga;return t.ga=Dl(n,mn.b(n,e)),t.ic=null}function Ol(t,e,n){for(var r=t.ic,i=(r=null==r?t.ic=qn((function(t,e,n){return t.push(e),t.push(n),t}),[],t.ga):r).length,o=0;o<i;){var a=r[o],u=r[o+1];u.u?u.u(a,t,e,n):u.call(null,a,t,e,n),o=2+o}}function Rl(t,e,n,r){Zt(e,["#<",Hn.a(r)," "].join(""));t:{r=El,El=null;try{var i=Mt(t);break t}finally{El=r}i=void 0}return go(i,e,n),Zt(e,">")}if(void 0===Gs||void 0===Tl||void 0===Pl)var Pl=null;function Ml(){for(;;){var t=Pl;if(null==t)return null;Pl=null;for(var e=t.length,n=0;n<e;){var r=t[n];r.Sa&&null!=r.$a&&Bl(r,!0),n+=1}}}function Ll(t,e,n,r){this.state=t,this.o=e,this.Za=n,this.ga=r,this.h=2154201088,this.w=114690}pl=Ml,(t=Ll.prototype).N=function(t,e,n){return Rl(this,e,n,"Atom:")},t.M=function(){return this.o},t.R=function(){return o(this)},t.B=function(t,e){return this===e},t.na=function(t,e){if(null!=this.Za&&!X(this.Za.a?this.Za.a(e):this.Za.call(null,e)))throw Error("Assert failed: Validator rejected reference state\n(validator new-value)");return t=this.state,this.state=e,null!=this.ga&&Ol(this,t,e),e},t.Ub=function(t,e){return this.na(null,e.a?e.a(this.state):e.call(null,this.state))},t.Vb=function(t,e,n){return this.na(null,e.b?e.b(this.state,n):e.call(null,this.state,n))},t.Wb=function(t,e,n,r){return this.na(null,e.f?e.f(this.state,n,r):e.call(null,this.state,n,r))},t.Xb=function(t,e,n,r,i){return this.na(null,Cr(e,this.state,n,r,i))},t.Zb=function(t,e){Ol(this,t,e)},t.Hb=function(t,e,n){return _l(this,e,n)},t.Ib=function(t,e){return xl(this,e)},t.P=function(t,e){return new Ll(this.state,e,this.Za,this.ga)},t.Va=function(){return Al(this),this.state};var Fl=function t(e){switch(arguments.length){case 1:return t.a(arguments[0]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return t.i(arguments[0],new on(n.slice(1),0,null))}};function jl(t){if(null!=t&&null!=t.ec)t.ec(t);else{var e=jl[r(null==t?null:t)];if(null!=e)e.a?e.a(t):e.call(null,t);else{if(null==(e=jl._))throw tt("IDisposable.dispose!",t);e.a?e.a(t):e.call(null,t)}}}function Ul(t,e,n,r){return n===r||t.Sa?t=null:null==t.va?(t.Sa=!0,null==Pl&&(Pl=[],!1===cl.Ob&&yl(cl)),t=Pl.push(t)):t=!0===t.va?Bl(t,!1):t.va.a?t.va.a(t):t.va.call(null,t),t}function Vl(t){this.$=t,this.state=null,this.Sa=!0,this.xc=!1,this.Qb=this.va=this.ga=this.$a=null,this.h=2153807872,this.w=114690}function ql(t){var e=El;El=null;try{return t.Va(null)}finally{El=e}}function Bl(t,e){var n=t.state;if(X(e)){e=t.$;try{t.Qb=null;var r=Nl(e,t)}catch(e){r=e,t.state=r,t.Qb=r,r=t.Sa=!1}}else r=Nl(t.$,t);return t.xc||(t.state=r,null==t.ga||Le.b(n,r)||Ol(t,n,r)),r}function zl(t,e){var n=null!=e&&(64&e.h||B===e.V)?Ir(Wi,e):e;e=pn.b(n,Wu);var r=pn.b(n,qo),i=pn.b(n,rs);n=pn.b(n,Su),null!=e&&(t.va=e),null!=r&&(t.zc=r),null!=i&&(t.yc=i),null!=n&&(t.xc=n)}function Wl(t){for(var e=[],n=arguments.length,r=0;r<n;)e.push(arguments[r]),r+=1;n=arguments[0];var i=null!=(e=1<e.length?new on(e.slice(1),0,null):null)&&(64&e.h||B===e.V)?Ir(Wi,e):e;return e=pn.b(i,Wu),r=pn.b(i,qo),i=pn.b(i,rs),zl(n=new Vl(n),new yi(null,3,[Wu,e,qo,r,rs,i],null)),n}Fl.a=function(t){return new Ll(t,null,null,null)},Fl.i=function(t,e){var n=null!=e&&(64&e.h||B===e.V)?Ir(Wi,e):e;return new Ll(t,e=pn.b(n,Zo),n=pn.b(n,ya),null)},Fl.s=function(t){var e=Re(t);return t=Me(t),this.i(e,t)},Fl.v=1,(t=Vl.prototype).N=function(t,e,n){return Rl(this,e,n,["Reaction ",Hn.a(Ne(this)),":"].join(""))},t.R=function(){return o(this)},t.B=function(t,e){return this===e},t.ec=function(){var t=this.state,e=this.$a;this.va=this.state=this.$a=null,this.Sa=!0,e=Oe(no(e));for(var n=null,r=0,i=0;;)if(i<r){re(n.H(null,i),this),i+=1}else{if(!(e=Oe(e)))break;An(n=e)?(e=le(n),i=ce(n),n=e,r=cn(e),e=i):(re(e=Re(n),this),e=Me(n),n=null,r=0),i=0}if(null!=this.yc&&this.yc(t),null==(t=this.zd))return null;for(e=t.length,n=0;;){if(!(n<e))return null;(r=t[n]).a?r.a(this):r.call(null,this),n+=1}},t.na=function(t,e){if(!vn(this.zc))throw Error("Assert failed: Reaction is read only; on-set is not allowed\n(fn? (.-on-set a))");return t=this.state,this.state=e,this.zc(t,e),Ol(this,t,e),e},t.Ub=function(t,e){var n,r=this;return r.na(null,(n=ql(r),e.a?e.a(n):e.call(null,n)))},t.Vb=function(t,e,n){var r,i=this;return i.na(null,(r=ql(i),e.b?e.b(r,n):e.call(null,r,n)))},t.Wb=function(t,e,n,r){var i,o=this;return o.na(null,(i=ql(o),e.f?e.f(i,n,r):e.call(null,i,n,r)))},t.Xb=function(t,e,n,r,i){return this.na(null,Cr(e,ql(this),n,r,i))},t.Zb=function(t,e){Ol(this,t,e)},t.Hb=function(t,e,n){return _l(this,e,n)},t.Ib=function(t,e){return t=En(this.ga),xl(this,e),!t&&En(this.ga)&&null==this.va?this.ec(null):null},t.Va=function(){var t=this.Qb;if(null!=t)throw t;return(t=null==El)&&Ml(),t&&null==this.va?this.Sa&&(t=this.state,this.state=this.$.l?this.$.l():this.$.call(null),null==this.ga||Le.b(t,this.state)||Ol(this,t,this.state)):(Al(this),this.Sa&&Bl(this,!1)),this.state};var Kl=Wl(null);var Ql,Gl=n(2);function Hl(t,e){var n=e.argv;if(null==n){n=ti,t=t.constructor;t:for(var r=v(e),i=r.length,o=gi,a=0;a<i;){var u=r[a];o=dn.f(o,ur.a(u),y(e,u)),a+=1}e=new Zr(null,2,5,n,[t,o],null)}else e=n;return e}function Yl(t){var e;return(e=vn(t))&&(e=null!=(null==(t=null==t?null:t.prototype)?null:t.fc)),e}if(void 0===Gs||void 0===Hs||void 0==={}||void 0===Xl)var Xl=null;function $l(){var t=Ql;return En(t=null==(t=null==t?null:t.constructor)?null:t.displayName)?"":[" (in ",Hn.a(t),")"].join("")}var Jl=new yi(null,1,[Su,!0],null),Zl=new yi(null,1,[Iu,function(){var t=this,e=y(t,"cljsRatom");return t.cljsIsDirty=!1,null==e?function(t,e){var n=Jl,r=Kl,i=Nl(t,r);return null!=r.$a&&(Kl=Wl(null),zl(r,n),r.$=t,r.va=function(){return bl.a?bl.a(e):bl.call(null,e)},e.cljsRatom=r),i}((function(){t:{var e=Ql;Ql=t;try{var n=[!1];try{var r=function(t){for(;;){var e=t.fc;if(!Rn(e))throw Error(["Assert failed: ",["Expected something callable, not ",bo(an([e]))].join(""),"\n(clojure.core/ifn? f)"].join(""));var n=null,r=!0===t.Yc?e.call(t,t):function(){var n=Hl(t,t.props);switch(cn(n)){case 1:return e.call(t);case 2:return e.call(t,hn(n,1));case 3:return e.call(t,hn(n,1),hn(n,2));case 4:return e.call(t,hn(n,1),hn(n,2),hn(n,3));case 5:return e.call(t,hn(n,1),hn(n,2),hn(n,3),hn(n,4));default:return e.apply(t,it(n).slice(1))}}();if(Nn(r))return Xl.a?Xl.a(r):Xl.call(null,r);if(!Rn(r))return r;n=Yl(r)?function(t,e,n,r){return function(){function t(t){var n=null;if(0<arguments.length){n=0;for(var r=Array(arguments.length-0);n<r.length;)r[n]=arguments[n+0],++n;n=new on(r,0,null)}return e.call(this,n)}function e(t){return t=kr(ii,r,t),Xl.a?Xl.a(t):Xl.call(null,t)}return t.v=0,t.s=function(t){return e(t=Oe(t))},t.i=e,t}()}(0,0,0,r):r,t.fc=n}}(t);n[0]=!0;var i=r;break t}finally{X(n[0])||X(il)&&(X(!1)?al:console).error(["Error rendering component",$l()].join(""))}}finally{Ql=e}i=void 0}return i}),t):Bl(e,!1)}],null);function tc(t,e){if(t=function(t,e){switch(t instanceof ir?t.oa:null){case"getDefaultProps":throw Error("getDefaultProps not supported");case"getDerivedStateFromProps":return function(t,n){return e.call(null,r=null==(r=t.argv)?t:kn(r=fn(r,1))?r:null,n);var r};case"getInitialState":return function(t){var n=t.$c;return Mr(n=null!=n?n:t.$c=Fl.a(null),e.call(t,t))};case"getSnapshotBeforeUpdate":return function(t,n){return e.call(this,this,Hl(this,t),n)};case"componentWillReceiveProps":case"UNSAFE_componentWillReceiveProps":return function(t){return e.call(this,this,Hl(this,t))};case"shouldComponentUpdate":return function(t){var n=nl;if(X(n))return n;n=this.props.argv;var r=t.argv,i=null==n||null==r;if(null!=e)return i?e.call(this,this,Hl(this,this.props),Hl(this,t)):e.call(this,this,n,r);if(i)return i;try{return!Le.b(n,r)}catch(e){return t=e,X(il)&&(X(!1)?al:console).warn(["Warning: Exception thrown while comparing argv's in shouldComponentUpdate: ",Hn.a(n)," ",Hn.a(r)," ",Hn.a(t)].join("")),!1}};case"componentWillUpdate":case"UNSAFE_componentWillUpdate":return function(t,n){return e.call(this,this,Hl(this,t),n)};case"componentDidUpdate":return function(t,n,r){return e.call(this,this,Hl(this,t),n,r)};case"componentWillMount":case"UNSAFE_componentWillMount":case"componentDidMount":return function(){return e.call(this,this)};case"componentWillUnmount":return function(){var t=y(this,"cljsRatom");return null!=t&&jl(t),this.cljsIsDirty=!1,null==e?null:e.call(this,this)};case"componentDidCatch":return function(t,n){return e.call(this,this,t,n)};default:return null}}(t,e),X(X(t)?e:t)&&!Rn(e))throw Error(["Assert failed: ",["Expected something callable, not ",bo(an([e]))].join(""),"\n(clojure.core/ifn? f)"].join(""));return X(t)?t:e}var ec=new yi(null,2,[su,null,ou,null],null),nc=function(t){var e=Pr(gi);return function(n){var r=pn.b(Mt(e),n);return null!=r||(r=t.a?t.a(n):t.call(null,n),Lr.u(e,dn,n,r)),r}}((function(t){if("string"==typeof t)return t;var e=Oe(t=zs(t=qs(t=ro(t),/(unsafe|UNSAFE)[-_]/,"UNSAFE_"),/-/));return t=Re(e),e=Me(e),kr(Hn,t,Fr.b($s,e))}));function rc(t){return qn((function(t,e,n){return dn.f(t,ur.a(nc.a?nc.a(e):nc.call(null,e)),n)}),gi,t)}function ic(t){var e=$i(t,new Zr(null,2,5,ti,[Iu,vu],null)),n=Re(Yi(e));if(!J(ss.a(t)))throw Error("Assert failed: :component-function is no longer supported, use :reagent-render instead.\n(not (:componentFunction fmap))");if(!(0<cn(e)))throw Error("Assert failed: Missing reagent-render\n(pos? (count renders))");if(1!==cn(e))throw Error("Assert failed: Too many render functions supplied\n(== 1 (count renders))");if(!Rn(n))throw Error(["Assert failed: ",["Expected something callable, not ",bo(an([n]))].join(""),"\n(clojure.core/ifn? render-fun)"].join(""));var r,i=X(r=vu.a(t))?r:Iu.a(t);e=null==vu.a(t),n=function(){var e=da.a(t);return X(e)||X(e=Zs(i))?e:Hn.a((null==So&&(So=Pr(0)),_e.a([Hn.a("reagent"),Hn.a(Lr.b(So,Qe))].join(""))))}();var o=qn((function(t,e,n){return dn.f(t,e,tc(e,n))}),gi,t);return dn.i(o,da,n,an([Go,e,vu,i,Iu,Iu.a(Zl)]))}function oc(t){return qn((function(t,e,n){return t[e=ro(e)]=n,t}),{},t)}var ac=new Zr(null,5,5,ti,[fa,_a,_s,Ja,Za],null);function uc(t){function e(t,e,n){return Gl.Component.call(this,t,e,n),X(a)&&(a.b?a.b(this,t):a.call(null,this,t)),X(o)&&(this.state=o.a?o.a(this):o.call(null,this)),this.vc=sl+=1,this}if(!kn(t))throw Error("Assert failed: (map? body)");t=ic(Xi.i(an([ec,rc(t)])));var n=oc(Nr(mn,t,da,Uu,zu,an([Iu,vu,ac]))),r=oc($i(t,ac)),i=da.a(t),o=Uu.a(t),a=zu.a(t);return b(e.prototype,Gl.Component.prototype,n),X(Iu.a(t))&&(e.prototype.render=Iu.a(t)),X(vu.a(t))&&(e.prototype.fc=vu.a(t)),X(Go.a(t))&&(e.prototype.Yc=Go.a(t)),b(e,Gl.Component,r),X(i)&&(e.displayName=i,e.Ra=i,e.pb=function(t){return Zt(t,i)}),e.gb=!0,e.prototype.constructor=e}function sc(t){if(!Rn(t))throw Error(["Assert failed: ",["Expected something callable, not ",bo(an([t]))].join(""),"\n(clojure.core/ifn? f)"].join(""));var e;if(function(t){var e;return(e=vn(t))&&(e=null!=(null==(t=null==t?null:t.prototype)?null:t.render)),e}(t)&&!Yl(t)&&X(il)&&(X(!1)?al:console).warn(["Warning: Using native React classes directly in Hiccup forms is not supported. Use create-element or adapt-react-class instead: ",Hn.a((e=Zs(t),X(e)?e:t)),$l()].join("")),Yl(t))return t.wc=t;var n=bn(t);return n=uc(n=dn.f(n,Cu,t)),t.wc=n}var lc=function t(e,n){return function(t,e,n){if($n(n)){var r=Ir(er,Fr.b(t,n));return e.a?e.a(r):e.call(null,r)}return di(n)?(r=new pi((i=At(n),t.a?t.a(i):t.call(null,i)),function(){var e=Dt(n);return t.a?t.a(e):t.call(null,e)}()),e.a?e.a(r):e.call(null,r)):xn(n)?(r=so(Fr.b(t,n)),e.a?e.a(r):e.call(null,r)):Cn(n)?(r=Vn((function(e,n){return sn.b(e,t.a?t.a(n):t.call(null,n))}),n,n),e.a?e.a(r):e.call(null,r)):Tn(n)?(r=Vr.b(ln(n),Fr.b(t,n)),e.a?e.a(r):e.call(null,r)):e.a?e.a(n):e.call(null,n);var i}(Or.b(t,e),Bn,e.a?e.a(n):e.call(null,n))},cc=n(2),hc=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,fc={class:"className",for:"htmlFor",charset:"charSet"};function pc(t,e){return t.hasOwnProperty(e)?y(t,e):null}function dc(t,e,n){if(tl(e)){var r=pc(fc,ro(e));null==r?(r=Js(e),e=ro(e),e=fc[e]=r):e=r}return n=mc.a?mc.a(n):mc.call(null,n),t[e]=n,t}function mc(t){return"object"!==r(t)?t:tl(t)?ro(t):kn(t)?qn(dc,{},t):Tn(t)?No(t):Rn(t)?function(){function e(t){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new on(r,0,null)}return n.call(this,e)}function n(e){return Ir(t,e)}return e.v=0,e.s=function(t){return n(t=Oe(t))},e.i=n,e}():No(t)}var vc={};function yc(t,e,n){if(tl(e)){var r=pc(vc,ro(e));null==r?(r=Js(e),e=ro(e),e=vc[e]=r):e=r}return n=mc(n),t[e]=n,t}if(void 0===Gs||void 0===Hs||void 0==={}||void 0===gc)var gc=null;var bc=new Zi(null,new yi(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);function wc(t){if(X(t.bc)){t.uc=!1;var e=t.Zc,n=t.Kb,r=gc.a?gc.a(t):gc.call(null,t);return Le.b(e,n)?null:function(t,e,n,r){var i=gi;if(i=null!=i&&(64&i.h||B===i.V)?Ir(Wi,i):i,i=pn.b(i,Du),t===document.activeElement&&Pn(bc,t.type)&&"string"==typeof e&&"string"==typeof n){var o=t.value;return Le.b(o,n)?(n=cn(o)-t.selectionStart,n=cn(e)-n,r.Kb=e,t.value=e,vn(i)&&(i.a?i.a(e):i.call(null,e)),t.selectionStart=n,t.selectionEnd=n):gl((function(){return wc.a?wc.a(r):wc.call(null,r)}))}return r.Kb=e,t.value=e,vn(i)?i.a?i.a(e):i.call(null,e):null}(r,e,n,t)}return null}function Ec(t){var e,n=Ql;if(X(null!=t&&(X(e=t.hasOwnProperty("onChange"))?t.hasOwnProperty("value"):e))){if(!X(gc))throw Error("Assert failed: reagent.dom needs to be loaded for controlled input to work\nfind-dom-node");var r=t.value;r=null==r?"":r;var i=t.onChange;X(n.bc)||(n.bc=!0,n.Kb=r),n.Zc=r,delete t.value,t.defaultValue=r,t.onChange=function(t){return function(t,e,n){return t.Kb=n.target.value,X(t.uc)||(t.uc=!0,gl((function(){return wc(t)}))),e.a?e.a(n):e.call(null,n)}(n,i,t)}}}var Tc=null,Sc=new yi(null,4,[Zu,"ReagentInput",ja,wc,Ku,function(t){return t.bc=null},Cu,function(t,e,n,r){return Ec(n),Rc.u?Rc.u(t,e,n,r):Rc.call(null,t,e,n,r)}],null);function Ic(t,e,n,r){this.tag=t,this.id=e,this.className=n,this.ad=r}function kc(t){if(kn(t))try{var e=pn.b(t,oa)}catch(t){e=null}else e=null;return e}function Cc(t){var e=kc(bn(t));return null==e?kc(fn(t,1)):e}var Nc={};function Ac(t,e,n){var i=t.tag,o=fn(e,n),a=null==o||kn(o);o=a?o:null;var u=ju.a(o);o=X(u)?dn.f(o,ju,el.a(u)):o;var s=t.id;u=t.className,s=null!=s&&null==Mu.a(o)?dn.f(o,Mu,s):o,o=X(u)?dn.f(s,ju,el.b(u,ju.a(o))):s,t=X(t.ad)?function(t){return"object"!==r(t)?t:tl(t)?ro(t):kn(t)?qn(yc,{},t):Tn(t)?No(t):Rn(t)?function(){function e(t){var e=null;if(0<arguments.length){e=0;for(var r=Array(arguments.length-0);e<r.length;)r[e]=arguments[e+0],++e;e=new on(r,0,null)}return n.call(this,e)}function n(e){return Ir(t,e)}return e.v=0,e.s=function(t){return n(t=Oe(t))},e.i=n,e}():No(t)}(o):mc(o),t=X(t)?t:{},n+=a?1:0;t:switch(i){case"input":case"textarea":a=!0;break t;default:a=!1}return a?(a=ti,null==Tc&&(Tc=uc(Sc)),e=gn(new Zr(null,5,5,a,[Tc,e,i,t,n],null),bn(e)),xc.a?xc.a(e):xc.call(null,e)):(null!=(a=kc(bn(e)))&&(t.key=a),Rc.u?Rc.u(e,i,t,n):Rc.call(null,e,i,t,n))}function Dc(t){return Hn.a(lc((function(t){if(vn(t)){var e=Zs(t);return Le.b("",e)||Le.b(null,e)?t:_e.a(e)}return t}),t))}function _c(t,e){return[Hn.a(Ir(Hn,e)),": ",Dc(t),"\n",$l()].join("")}function xc(t){return"object"!==r(t)?t:Nn(t)?function(t){for(;;){if(!(0<cn(t)))throw Error(["Assert failed: ",_c(t,an(["Hiccup form should not be empty"])),"\n(pos? (count v))"].join(""));var e=fn(t,0);if(!tl(e)&&"string"!=typeof e&&!Rn(e))throw Error(["Assert failed: ",_c(t,an(["Invalid Hiccup form"])),"\n(valid-tag? tag)"].join(""));if(or(Tu,e)){var n=null==(e=fn(t,1))||kn(e);e=X(e=mc(n?e:null))?e:{},n=1+(n?1:0);var r=Cc(t);return null!=r&&(e.key=r),Rc.u?Rc.u(t,cc.Fragment,e,n):Rc.call(null,t,cc.Fragment,e,n)}if(!tl(e)&&"string"!=typeof e)return e=null==(n=e.wc)?sc(e):n,(n={}).argv=t,null!=(t=Cc(t))&&(n.key=t),cc.createElement(e,n);switch(n=(e=ro(e)).indexOf(">")){case-1:if(null==(n=pc(Nc,e))){var i=e,o=Me(lo(hc,ro(i)));if(n=fn(o,0),r=fn(o,1),o=null==(o=fn(o,2))?null:qs(o,/\./," "),!X(n))throw Error(["Assert failed: ",["Invalid tag: '",Hn.a(i),"'",$l()].join(""),"\ntag"].join(""));i=n.indexOf("-"),n=new Ic(n,r,o,i=!Le.b(-1,i)),e=Nc[e]=n}else e=n;return Ac(e,t,1);case 0:if(n=fn(t,1),!Le.b(">",e))throw Error(["Assert failed: ",_c(t,an(["Invalid Hiccup tag"])),'\n(= ">" n)'].join(""));return Ac(new Ic(n,null,null,null),t,2);default:t=gn(new Zr(null,2,5,ti,[e.substring(0,n),dn.f(gn(t,null),0,e.substring(n+1))],null),bn(t))}}}(t):xn(t)?Oc.a?Oc.a(t):Oc.call(null,t):tl(t)?ro(t):(null!=t?2147483648&t.h||B===t.U||!t.h&&Z(te,t):Z(te,t))?bo(an([t])):t}function Oc(t){var e={},n=function(t){var e={};return t=Cl(e,t),new Zr(null,2,5,ti,[t,null!=e.Bb],null)}((function(){return function(t,e){return it(Fr.b((function(t){return Nn(t)&&null==Cc(t)&&(e.fd=!0),xc(t)}),t))}(t,e)})),r=fn(n,0);return X(n=fn(n,1))&&X(il)&&(X(!1)?al:console).warn(["Warning: ",_c(t,an(["Reactive deref not supported in lazy seq, ","it should be wrapped in doall"]))].join("")),X(e.fd)&&X(il)&&(X(!1)?al:console).warn(["Warning: ",_c(t,an(["Every element in a seq should have a unique :key"]))].join("")),r}function Rc(t,e,n,r){switch(cn(t)-r){case 0:return cc.createElement(e,n);case 1:return t=xc(fn(t,r)),cc.createElement(e,n,t);default:return cc.createElement.apply(null,qn((function(t,e,n){return e>=r&&t.push(xc(n)),t}),[e,n],t))}}Xl=xc;var Pc=n(9);if(void 0===Gs||void 0==={}||void 0===Mc)var Mc=Pr(gi);function Lc(t,e){var n=Fl.a("");return new Zr(null,2,5,ti,[function(){return Mt(n)},function(r){return X(t.a?t.a(r):t.call(null,r))?Mr(n,e.a?e.a(r):e.call(null,r)):null}],null)}function Fc(t){var e=Fl.a(null),n=Ir(Wi,t);return new Zr(null,2,5,ti,[function(){return Mt(e)},function(t){return Mr(e,Dr((function(e){var n=fn(e,0);return X((e=fn(e,1)).a?e.a(t):e.call(null,t))?n:null}),n))}],null)}function jc(t){return On(lo(/\d{0,2}\/?\d{0,2}/,t))}function Uc(t){var e=lo(/(\d{2})\/?(\d{2})/,t),n=fn(e,0),r=fn(e,1);return e=fn(e,2),X(n)?[Hn.a(r),X(e)?"/":null,Hn.a(e)].join(""):t}function Vc(t){var e=lo(/(\d{2})\/?(\d{0,2})/,t);t=fn(e,0);var n=fn(e,1);return e=fn(e,2),n=parseInt(n),e=parseInt(e),X(t)?1<=n&&12>=n&&0<e:t}function qc(){var t=Lc(jc,Uc),e=fn(t,0),n=fn(t,1),r=fn(t=Fc(an(["Expirao  obrigatrio",En,"Data  invlida",xr.b(J,Vc)])),0),i=fn(t,1);return function(){return new Zr(null,5,5,ti,[Tu,new Zr(null,3,5,ti,[es,new yi(null,1,[Eu,ms],null),"Expirao"],null),X(r.l?r.l():r.call(null))?new Zr(null,2,5,ti,[Wa,r.l?r.l():r.call(null)],null):null,new Zr(null,2,5,ti,[va,new yi(null,8,[ju,Ks(an([jo,r])),Ka,Fs,Ca,ms,Aa,e.l?e.l():e.call(null),ys,function(t){return t=t.target.value,n.a?n.a(t):n.call(null,t)},La,function(){var t=e.l?e.l():e.call(null);return i.a?i.a(t):i.call(null,t)},Ms,sa,ua,"DD / AA"],null)],null),(t=lo(/(\d{2})\/(\d{2})/,e.l?e.l():e.call(null)),o=fn(t,0),a=fn(t,1),t=fn(t,2),null!=o?new Zr(null,3,5,ti,[Tu,new Zr(null,2,5,ti,[cs,new yi(null,3,[Ka,Ru,Vo,lu,Aa,a],null)],null),new Zr(null,2,5,ti,[cs,new yi(null,3,[Ka,Ru,Vo,Ho,Aa,t],null)],null)],null):null)],null);var t,o,a}}function Bc(){return new Zr(null,3,5,ti,[Tu,new Zr(null,3,5,ti,[es,new yi(null,1,[Eu,Ca],null),"Nome do Titular"],null),new Zr(null,2,5,ti,[Ju,new yi(null,3,[Ka,Fs,Vo,ds,ua,"JOAQUIM M M ASSIS"],null)],null)],null)}gc=function(t){return Pc.findDOMNode(t)},n(2);var zc=ho("(?:(\\d{0,4})\\s?(?:(\\d{0,4})\\s?(?:(\\d{0,4})\\s?(?:(\\d{0,4}))?)?)?)?");function Wc(t){return On(lo(/(\d(\d(\d(\d\s?)?)?)?){0,4}/,t))}function Kc(t){return Re(t=Oe(t=lo(zc,t))),Bs(Ur(On,t=Me(t)))}function Qc(){var t=Lc(Wc,Kc),e=fn(t,0),n=fn(t,1);return function(){return new Zr(null,3,5,ti,[Tu,new Zr(null,3,5,ti,[es,new yi(null,1,[Eu,Ko],null),"Nmero do carto"],null),new Zr(null,2,5,ti,[fs,new yi(null,6,[Ka,Fs,Vo,zo,Aa,e.l?e.l():e.call(null),ys,function(t){return t=t.target.value,n.a?n.a(t):n.call(null,t)},Ms,sa,ua,"1234 5678 9012 3456"],null)],null)],null)}}function Gc(){var t=Lc(Or.b(lo,/^\d{0,3}$/),Bn),e=fn(t,0),n=fn(t,1);return function(){return new Zr(null,3,5,ti,[Tu,new Zr(null,3,5,ti,[es,new yi(null,1,[Eu,Ss],null),"Cdigo de verificao"],null),new Zr(null,2,5,ti,[os,new yi(null,6,[Ka,Fs,Vo,nu,Aa,e.l?e.l():e.call(null),ys,function(t){return t=t.target.value,n.a?n.a(t):n.call(null,t)},Ms,sa,ua,"000"],null)],null)],null)}}var Hc=Fl.a(new yi(null,3,[Jo,gi,Ua,ei,Es,null],null));ne(Hc,Ga,(function(t,e,n,r){return mo(bo(an([new yi(null,4,[oa,t,vs,e,Lo,n,$o,r],null)]))),X(K)?(t=H(),mo("\n"),pn.b(t,iu),t=null):t=null,t}));var Yc=ho("(?:(\\d{3})\\.?(?:(\\d{3})\\.?(?:(\\d{3})-?(?:(\\d{2}))?)?)?)?");function Xc(t){var e=lo(Yc,t),n=fn(e,0),r=fn(e,1),i=fn(e,2),o=fn(e,3);return e=fn(e,4),r=[Hn.a(r),X(i)?".":null,Hn.a(i),X(o)?".":null,Hn.a(o),X(e)?"-":null,Hn.a(e)].join(""),X(n)?r:t}function $c(t){return null!=lo(/[\d\.-]{0,14}/,t)}function Jc(t){function e(t){return 11-(Un(Wn,Fr.f(Kn,function t(e,n){if("number"!=typeof e)throw Error("Assert failed: (number? n)");return new sr(null,(function(){if(0<e){var r=Oe(n);return r?rr(Re(r),t(e-1,Pe(r))):null}return null}),null)}(t,n),tr(function(t){return 2>=t?Zn:new ao(null,2,t,1,null,null,null)}(t+2))))%11+11)%11}var n=qr(parseInt,co(t));return Le.b(e(9),pn.b(n,9))&&Le.b(e(10),pn.b(n,10))}function Zc(){var t=Lc($c,Xc),e=fn(t,0),n=fn(t,1),r=fn(t=Fc(an(["CPF  obrigatrio",En,"CPF no  vlido",xr.b(J,Jc)])),0),i=fn(t,1);return function(){return new Zr(null,5,5,ti,[Tu,new Zr(null,3,5,ti,[es,new yi(null,1,[Eu,hu],null),"CPF"],null),X(r.l?r.l():r.call(null))?new Zr(null,2,5,ti,[Wa,r.l?r.l():r.call(null)],null):null,new Zr(null,2,5,ti,[pa,new yi(null,8,[ju,Ks(an([jo,function(){return null!=(r.l?r.l():r.call(null))}])),Ka,Fs,Vo,Rs,Aa,e.l?e.l():e.call(null),ys,function(t){return t=t.target.value,n.a?n.a(t):n.call(null,t)},La,function(){var t=e.l?e.l():e.call(null);return i.a?i.a(t):i.call(null,t)},ua,"123.456.789-00",Ms,sa],null)],null),new Zr(null,2,5,ti,[cs,new yi(null,3,[Ka,Ru,Vo,js,Aa,Uo],null)],null)],null)}}var th,eh={},nh={};function rh(t,e){var n=Qh;if(null!=t&&null!=t.Jb)t=t.Jb(t,e,n);else{var i=rh[r(null==t?null:t)];if(null!=i)t=i.f?i.f(t,e,n):i.call(null,t,e,n);else{if(null==(i=rh._))throw tt("WritePort.put!",t);t=i.f?i.f(t,e,n):i.call(null,t,e,n)}}return t}function ih(t){if(null!=t&&null!=t.ob)t=t.ob(t);else{var e=ih[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=ih._))throw tt("Channel.close!",t);t=e.a?e.a(t):e.call(null,t)}}return t}function oh(t){if(null!=t&&null!=t.sc)t=!0;else{var e=oh[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=oh._))throw tt("Handler.active?",t);t=e.a?e.a(t):e.call(null,t)}}return t}function ah(t){if(null!=t&&null!=t.tc)t=t.$;else{var e=ah[r(null==t?null:t)];if(null!=e)t=e.a?e.a(t):e.call(null,t);else{if(null==(e=ah._))throw tt("Handler.commit",t);t=e.a?e.a(t):e.call(null,t)}}return t}function uh(t,e){if(null!=t&&null!=t.rc)t=t.rc(t,e);else{var n=uh[r(null==t?null:t)];if(null!=n)t=n.b?n.b(t,e):n.call(null,t,e);else{if(null==(n=uh._))throw tt("Buffer.add!*",t);t=n.b?n.b(t,e):n.call(null,t,e)}}return t}var sh=function t(e){switch(arguments.length){case 1:return t.a(arguments[0]);case 2:return t.b(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",Hn.a(arguments.length)].join(""))}};sh.a=function(t){return t},sh.b=function(t,e){if(null==e)throw Error("Assert failed: (not (nil? itm))");return uh(t,e)},sh.v=2;function lh(t,e,n,r,i){for(var o=0;o<i;)n[r+o]=t[e+o],o+=1}function ch(t){this.length=this.I=this.head=0,this.c=t}function hh(t,e){t.length+1===t.c.length&&t.resize(),t.unshift(e)}function fh(t,e){for(var n=t.length,r=0;r<n;){var i=t.pop();(e.a?e.a(i):e.call(null,i))&&t.unshift(i),r+=1}}function ph(t){if(!(0<t))throw Error("Assert failed: Can't create a ring buffer of size 0\n(> n 0)");return new ch(Array(t))}function dh(t,e){this.G=t,this.n=e,this.h=2,this.w=0}function mh(t){return t.G.length===t.n}if(ch.prototype.pop=function(){if(0===this.length)return null;var t=this.c[this.I];return this.c[this.I]=null,this.I=(this.I+1)%this.c.length,--this.length,t},ch.prototype.unshift=function(t){return this.c[this.head]=t,this.head=(this.head+1)%this.c.length,this.length+=1,null},ch.prototype.resize=function(){var t=Array(2*this.c.length);return this.I<this.head?(lh(this.c,this.I,t,0,this.length),this.I=0,this.head=this.length,this.c=t):this.I>this.head?(lh(this.c,this.I,t,0,this.c.length-this.I),lh(this.c,0,t,this.c.length-this.I,this.head),this.I=0,this.head=this.length,this.c=t):this.I===this.head?(this.head=this.I=0,this.c=t):null},dh.prototype.rc=function(t,e){return hh(this.G,e),this},dh.prototype.L=function(){return this.G.length},void 0===V||void 0===q||void 0===eh||void 0===nh||void 0==={}||void 0===vh)var vh={};function yh(){return P("iPhone")&&!P("iPod")&&!P("iPad")}P("Opera"),P("Trident")||P("MSIE"),P("Edge"),!P("Gecko")||D("WebKit")&&!P("Edge")||P("Trident")||P("MSIE")||P("Edge"),D("WebKit")&&!P("Edge")&&P("Mobile"),P("Macintosh"),P("Windows"),P("Linux")||P("CrOS");var gh,bh=e.navigator||null;function wh(t){var e=document;return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function Eh(){var t=e.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!P("Presto")&&(t=function(){var t=wh("IFRAME");t.style.display="none",function(t){if(S instanceof w&&S.constructor===w&&S.Hc===E)var n=S.Fc;else d("expected object of type Const, got '"+S+"'"),n="type_error:Const";n=new k(A,n);t:{try{var i=t&&t.ownerDocument,o=i&&(i.defaultView||i.parentWindow);if((o=o||e).Element&&o.Location){var a=o;break t}}catch(t){}a=null}if(a&&void 0!==a.HTMLIFrameElement&&(!t||!(t instanceof a.HTMLIFrameElement)&&(t instanceof a.Location||t instanceof a.Element))){if("object"==(a=typeof t)&&null!=t||"function"==a)try{var u=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){u="<object could not be stringified>"}else u=void 0===t?"undefined":null===t?"null":typeof t;d("Argument is not a %s (or a non-Element, non-Location mock); got: %s","HTMLIFrameElement",u)}n instanceof k&&n.constructor===k&&n.Ic===N?u=n.Dc:(d("expected object of type TrustedResourceUrl, got '"+n+"' of type "+r(n)),u="type_error:TrustedResourceUrl"),t.src=u.toString()}(t),document.documentElement.appendChild(t);var n=t.contentWindow;(t=n.document).open(),t.write(function(){var t=F;return t instanceof M&&t.constructor===M&&t.Gc===L?t.dc:(d("expected object of type SafeHtml, got '"+t+"' of type "+r(t)),"type_error:SafeHtml")}()),t.close();var i="callImmediate"+Math.random(),o="file:"==n.location.protocol?"*":n.location.protocol+"//"+n.location.host;t=c((function(t){"*"!=o&&t.origin!=o||t.data!=i||this.port1.onmessage()}),this),n.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){n.postMessage(i,o)}}}),void 0!==t&&!P("Trident")&&!P("MSIE")){var n=new t,i={},o=i;return n.port1.onmessage=function(){if(void 0!==i.next){var t=(i=i.next).lc;i.lc=null,t()}},function(t){o.next={lc:t},o=o.next,n.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in wh("SCRIPT")?function(t){var e=wh("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){e.setTimeout(t,0)}}bh&&(bh.appVersion||"").indexOf("X11"),P("Android"),yh(),P("iPad"),P("iPod"),yh()||P("iPad")||P("iPod"),D("KaiOS"),D("GAFP");var Th=ph(32),Sh=!1,Ih=!1;function kh(){Sh=!0,Ih=!1;for(var t=0;;){var e=Th.pop();if(!(null!=e&&(e.l?e.l():e.call(null),1024>t)))break;t+=1}return Sh=!1,0<Th.length?Ch.l?Ch.l():Ch.call(null):null}function Ch(){if(Ih&&Sh)return null;Ih=!0,!i(e.setImmediate)||e.Window&&e.Window.prototype&&!P("Edge")&&e.Window.prototype.setImmediate==e.setImmediate?(gh||(gh=Eh()),gh(kh)):e.setImmediate(kh)}function Nh(t){hh(Th,t),Ch()}var Ah,Dh={};function _h(t){return void 0!==V&&void 0!==q&&void 0!==eh&&void 0!==nh&&void 0!==Dh&&void 0!==Ah||((Ah=function(t,e){this.val=t,this.cd=e,this.h=425984,this.w=0}).prototype.P=function(t,e){return new Ah(this.val,e)},Ah.prototype.M=function(){return this.cd},Ah.prototype.Va=function(){return this.val},Ah.cc=function(){return new Zr(null,2,5,ti,[Au,Nu],null)},Ah.gb=!0,Ah.Ra="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels25889",Ah.pb=function(t){return Zt(t,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels25889")}),new Ah(t,gi)}function xh(t,e){this.rb=t,this.val=e}function Oh(t){return oh(t.rb)}function Rh(t,e,n,r){this.Ya=t,this.Nb=0,this.wa=e,this.Mb=0,this.G=n,this.closed=!1,this.la=r}function Ph(t){for(;;){var e=t.wa.pop();if(null!=e){var n=e.rb;Nh(function(t){return function(){return t.a?t.a(!0):t.call(null,!0)}}(n.$,e.val))}break}fh(t.wa,function(){function t(t){if(0<arguments.length)for(var e=0,n=Array(arguments.length-0);e<n.length;)n[e]=arguments[e+0],++e;return!1}return t.v=0,t.s=function(t){return Oe(t),!1},t.i=function(){return!1},t}()),t.ob(null)}function Mh(t){return console.log(t),null}function Lh(t,e){var n=X(null)?null:Mh;return null==(e=n.a?n.a(e):n.call(null,e))?t:sh.b(t,e)}Rh.prototype.Jb=function(t,e,n){var r=this,i=this;if(null==e)throw Error("Assert failed: Can't put nil on a channel\n(not (nil? val))");var o,a=r.closed;if(a)return _h(!a);if(X(X(o=r.G)?J(mh(r.G)):o)){var u=He(r.la.b?r.la.b(r.G,e):r.la.call(null,r.G,e));if(n=function(){for(var t=ei;;){if(!(0<r.Ya.length&&0<cn(r.G)))return t;var e=r.Ya.pop(),n=e.$,i=r.G.G.pop();t=sn.b(t,function(t,e,n){return function(){return e.a?e.a(n):e.call(null,n)}}(0,n,i))}}(),u&&Ph(i),Oe(n)){n=Oe(n),t=null;for(var s=0,l=0;;)if(l<s){Nh(t.H(null,l)),l+=1}else{if(!(n=Oe(n)))break;An(t=n)?(n=le(t),l=ce(t),t=n,s=cn(n),n=l):(Nh(n=Re(t)),n=Me(t),t=null,s=0),l=0}}return _h(!0)}if(t=function(){for(;;){var t=r.Ya.pop();if(!X(t))return null;if(X(!0))return t}}(),X(t)){var c=t.$;return Nh((function(){return c.a?c.a(e):c.call(null,e)})),_h(!0)}if(64<r.Mb?(r.Mb=0,fh(r.wa,Oh)):r.Mb+=1,X(n.$b())){if(!(1024>r.wa.length))throw Error(["Assert failed: ",["No more than ",Hn.a(1024)," pending puts are allowed on a single channel. Consider using a windowed buffer."].join(""),"\n(< (.-length puts) impl/MAX-QUEUE-SIZE)"].join(""));hh(r.wa,new xh(n,e))}return null},Rh.prototype.ob=function(){var t,e=this;if(!e.closed)for(e.closed=!0,X((t=void 0,X(t=e.G)?0===e.wa.length:t))&&(e.la.a?e.la.a(e.G):e.la.call(null,e.G));;){var n=e.Ya.pop();if(null==n)break;Nh(function(t,e){return function(){return t.a?t.a(e):t.call(null,e)}}(n.$,X(function(){var t=e.G;return X(t)?0<cn(e.G):t}())?e.G.G.pop():null))}return null};var Fh,jh={};function Uh(t){return void 0!==V&&void 0!==q&&void 0!==eh&&void 0!==nh&&void 0!==jh&&void 0!==Fh||((Fh=function(t,e){this.$=t,this.dd=e,this.h=393216,this.w=0}).prototype.P=function(t,e){return new Fh(this.$,e)},Fh.prototype.M=function(){return this.dd},Fh.prototype.sc=function(){return!0},Fh.prototype.$b=function(){return!0},Fh.prototype.tc=function(){return this.$},Fh.cc=function(){return new Zr(null,2,5,ti,[Us,Ds],null)},Fh.gb=!0,Fh.Ra="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers28004",Fh.pb=function(t){return Zt(t,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers28004")}),new Fh(t,gi)}function Vh(t){try{var e=t[0];return e.a?e.a(t):e.call(null,t)}catch(n){if(n instanceof Object)throw e=n,t[6].ob(null),e;throw n}}function qh(t,e,n){return n=function(t,e){if(null!=t.G&&0<cn(t.G)){if(X(e=e.$)){var n=t.G.G.pop(),r=0<t.wa.length?function(){for(var e=ei;;){var n=t.wa.pop(),r=n.val;if(e=X(n=n.rb.$)?sn.b(e,n):e,!(J(r=X(n)?He(t.la.b?t.la.b(t.G,r):t.la.call(null,t.G,r)):null)&&J(mh(t.G))&&0<t.wa.length))return new Zr(null,2,5,ti,[r,e],null)}}():null,i=fn(r,0),o=fn(r,1);X(i)&&Ph(t);for(var a=Oe(o),u=null,s=0,l=0;;)if(l<s){var c=u.H(null,l);Nh(function(t,e,n,r,i){return function(){return i.a?i.a(!0):i.call(null,!0)}}(0,0,0,0,c)),l+=1}else{var h=Oe(a);if(!h)break;An(c=h)?(a=le(c),l=ce(c),u=a,s=cn(a),a=l):(Nh(function(t,e,n,r,i){return function(){return i.a?i.a(!0):i.call(null,!0)}}(0,0,0,0,Re(c))),a=Me(c),u=null,s=0),l=0}return _h(n)}return null}if(n=function(){for(;;){var e=t.wa.pop();if(!X(e))return null;if(oh(e.rb))return e}}(),X(n)){var f=ah(n.rb);return Nh((function(){return f.a?f.a(!0):f.call(null,!0)})),_h(n.val)}if(X(t.closed))return X(t.G)&&(t.la.a?t.la.a(t.G):t.la.call(null,t.G)),X(!X(!0)||e.$)?(e=X(p=t.G)?0<cn(t.G):p,_h(n=X(e)?t.G.G.pop():null)):null;var p;if(64<t.Nb?(t.Nb=0,fh(t.Ya,oh)):t.Nb+=1,X(e.$b())){if(!(1024>t.Ya.length))throw Error(["Assert failed: ",["No more than ",Hn.a(1024)," pending takes are allowed on a single channel."].join(""),"\n(< (.-length takes) impl/MAX-QUEUE-SIZE)"].join(""));hh(t.Ya,e)}return null}(n,Uh((function(n){return t[2]=n,t[1]=e,Vh(t)}))),X(n)?(t[2]=Mt(n),t[1]=e,za):null}function Bh(t,e,n){return X(e=e.Jb(null,n,Uh((function(e){return t[2]=e,t[1]=2,Vh(t)}))))?(t[2]=Mt(e),t[1]=2,za):null}function zh(t,e){return t=t[6],null!=e&&t.Jb(null,e,Uh((function(){return null}))),t.ob(null),t}function Wh(t){for(;;){var e=t[4],n=Qa.a(e),r=Vu.a(e),i=t[5];if(X((o=void 0,X(o=i)?J(e):o)))throw i;if(X(function(){var t=i;return X(t)?X(t=n)?Le.b(ba,r)||i instanceof r:t:t}())){t[1]=n,t[2]=i,t[5]=null,t[4]=dn.i(e,Qa,null,an([Vu,null]));break}if(!X(function(){var t=i;return X(t)?J(n)&&J(Ta.a(e)):t}())){if(X(function(){var t=i;return X(t)?!!J(n)&&Ta.a(e):t}())){t[1]=Ta.a(e),t[4]=dn.f(e,Ta,null);break}if(X(!!J(i)&&Ta.a(e))){t[1]=Ta.a(e),t[4]=dn.f(e,Ta,null);break}if(J(i)&&J(Ta.a(e))){t[1]=Yu.a(e),t[4]=Qu.a(e);break}throw Error("No matching clause")}t[4]=Qu.a(e)}var o}function Kh(t){if(t=Le.b(t,0)?null:t,X(null)&&!X(t))throw Error("Assert failed: buffer must be supplied when transducer is\nbuf-or-n");return function(t){return new Rh(ph(32),ph(32),t,(e=X(null)?null.a?null.a(sh):null.call(null,sh):sh,function(){function t(t,n){try{return e.b?e.b(t,n):e.call(null,t,n)}catch(e){return Lh(t,e)}}function n(t){try{return e.a?e.a(t):e.call(null,t)}catch(e){return Lh(t,e)}}var r;return(r=function(e,r){switch(arguments.length){case 1:return n.call(this,e);case 2:return t.call(this,e,r)}throw Error("Invalid arity: "+arguments.length)}).a=n,r.b=t,r}()));var e}(t="number"==typeof t?new dh(ph(t),t):t)}var Qh=(void 0!==V&&void 0!==q&&void 0!==eh&&void 0!==th||((th=function(t,e,n){this.$=t,this.jc=e,this.ed=n,this.h=393216,this.w=0}).prototype.P=function(t,e){return new th(this.$,this.jc,e)},th.prototype.M=function(){return this.ed},th.prototype.sc=function(){return!0},th.prototype.$b=function(){return this.jc},th.prototype.tc=function(){return this.$},th.cc=function(){return new Zr(null,3,5,ti,[Us,na,Hu],null)},th.gb=!0,th.Ra="cljs.core.async/t_cljs$core$async28122",th.pb=function(t){return Zt(t,"cljs.core.async/t_cljs$core$async28122")}),new th((function(){return null}),!0,gi));function Gh(t,e){return!X(t=rh(t,e))||Mt(t)}var Hh=Pr(null),Yh=Pr(null);firebase.firestore.FieldValue.serverTimestamp();var Xh=Pr(ei);function $h(t,e){return Re(Re(Ur((function(t){return Pu.a(Re(Me(t)))===e}),function(t){var e=ii;return function t(n,r){return new sr(null,(function(){var i,o,a=Oe(r);if(a){if(An(a)){for(var u=le(a),s=cn(u),l=new cr(Array(s)),c=0;c<s;)dr(l,(i=void 0,o=void 0,i=n+c,o=mt.b(u,c),e.b?e.b(i,o):e.call(null,i,o))),c+=1;return pr(l.ha(),t(n+s,ce(a)))}return rr(function(){var t=Re(a);return e.b?e.b(n,t):e.call(null,n,t)}(),t(n+1,Pe(a)))}return null}),null)}(0,t)}(t))))}function Jh(t,e,n){var r=$h(t,e);return r=X(r)?r:cn(t),n=function(t,e){var n,r=eu;return dn.f(t,r,(n=pn.b(t,r),sn.b?sn.b(n,e):sn.call(null,n,e)))}(e=pn.f(t,r,new yi(null,2,[Pu,e,eu,to],null)),n),dn.f(t,r,n)}function Zh(t,e){var n=Oe(e);for(Re(n),Me(n),t=t.firestore(),X(n=Mt(Yh))&&t.settings(No(n)),n=e,e=!0;;){var r=Oe(n);n=Re(r);var i=Me(r);if(r=n,n=i,t=e?t.collection(ro(r)):t.doc(r),En(n))return t;e=!e}}function tf(t){return qn((function(t,e,n){return dn.f(t,function(t){return Le.b(t.substring(0,1),":")?(t=zs(t.substring(1),"/"),Ir(ur,t)):t}(e),n)}),gi,_o(t,an([Is,!1])))}function ef(t,e){return Xi.i(an([new yi(null,2,[ca,Zh(t,e),Fo,e],null),_r(cn(e))?new yi(null,1,[Mu,null==e?null:Ot(e)],null):null]))}function nf(t){return X(t)?Nn(fn(t,0))?null:new yi(null,1,[Yo,new Zr(null,1,5,ti,[t],null)],null):null}function rf(t){return"string"==typeof t?new Zr(null,2,5,ti,[t,"asc"],null):t}function of(t){var e=null!=t&&(64&t.h||B===t.V)?Ir(Wi,t):t,n=pn.b(e,Yo),r=pn.b(e,ns);return pn.b(e,aa),pn.b(e,ga),pn.b(e,Va),pn.b(e,xu),pn.b(e,$u),Xi.i(an([t,nf(n),X(r)?new yi(null,1,[ns,qr(rf,r)],null):null]))}function af(t,e,n){return Xi.i(an([ef(t,e),new yi(null,1,[ps,of(n)],null)]))}function uf(t,e){return function(t,e,n){var r=Kh(null);return t.then((function(t){return null==(t=null==t?null:e.a?e.a(t):e.call(null,t))?null:Gh(r,t)})).catch((function(t){return X(t=n.a?n.a(t):n.call(null,t))?(console.error(bo(an([t]))),Gh(r,t)):null})).finally((function(){return ih(r)})),r}(t,e,(function(t){return new xo(new yi(null,1,[is,t],null))}))}function sf(t,e){return t=function(t,e){return Vn((function(t,e){var n=fn(e,0);return e=fn(e,1),t.orderBy(Hn.a(n),e)}),t,ns.a(e))}(function(t,e){return Vn((function(t,e){var n=fn(e,0),r=fn(e,1);return e=fn(e,2),t.where(Hn.a(n),r,Tn(e)?No(e):e)}),t,Yo.a(e))}(t,e),e),X(e=aa.a(e))?t.limit(e):t}function lf(t,e){if(X(e.exists)){var n=tf(e.data()),r=e.id;n=gn(n,t=new yi(null,3,[Mu,r,bu,sn.b(null==t?null:Rt(t),r),ls,e.metadata.hasPendingWrites],null))}else n=Gu;return n}function cf(t,e){e=null!=(e=function(t){return Xi.i(an([new yi(null,1,[Xu,Mt(Hh)],null),t]))}(e))&&(64&e.h||B===e.V)?Ir(Wi,e):e;var n=pn.b(e,Xu);e=pn.b(e,Ha);var r=null!=(n=function(t,e){if(!Nn(e))throw Error("Assert failed: (vector? reference)");return kn(null==e?null:Ot(e))?af(t,null==e?null:Rt(e),null==e?null:Ot(e)):_r(cn(e))?ef(t,e):af(t,e,gi)}(n,t))&&(64&n.h||B===n.V)?Ir(Wi,n):n;return n=pn.b(r,ca),X(r=pn.b(r,ps))?e=uf(sf(n,r).get(),(function(e){var n=Pr(gn(ei,new yi(null,1,[bu,t],null)));return e.forEach((function(e){return Lr.f(n,sn,lf(t,e))})),Mt(n)})):(X(e)?(Lr.u(Xh,Jh,e,t),e=e.get(n)):e=n.get(),e=uf(e,(function(e){return lf(t,e)}))),e}Y(),Y();var hf=Pr(null);function ff(t){return X(t)?Mr(hf,new yi(null,2,[ku,t.isAnonymous,Sa,t.uid],null)):null}function pf(t){for(var e=[],n=arguments.length,r=0;r<n;)e.push(arguments[r]),r+=1;return cf(n=arguments[0],e=fn(1<e.length?new on(e.slice(1),0,null):null,0))}ne(Hh,Bo,(function(t,e,n,r){return r.auth().onAuthStateChanged(ff)})),Y();var df=Fl.a(new yi(null,2,[la,"subscribe",ks,Ua],null)),mf=Or.f(Lr,df,dn);function vf(t){var e=null!=t&&(64&t.h||B===t.V)?Ir(Wi,t):t;return t=pn.b(e,Lu),e=pn.b(e,Ca),new Zr(null,3,5,ti,[ia,new Zr(null,2,5,ti,[ka,new yi(null,1,[Xa,t],null)],null),new Zr(null,2,5,ti,[wu,e],null)],null)}function yf(t,e){var n=ti;t=new Zr(null,2,5,ti,[vf,t],null);var r=new Zr(null,1,5,ti,[yu],null),i=function(){var t=Mt(Hc);t=null!=t&&(64&t.h||B===t.V)?Ir(Wi,t):t;var e=pn.b(t,Es);return Re(Ur((function(t){return Le.b(e,Mu.a(t))}),t=pn.b(t,Ua)))}(),o=null!=i&&(64&i.h||B===i.V)?Ir(Wi,i):i;return i=pn.b(o,uu),o=pn.b(o,Ts),i=new Zr(null,3,5,ti,[ws,new Zr(null,3,5,ti,[Na,new Zr(null,2,5,ti,[gu,"Plano"],null),new Zr(null,2,5,ti,[Fu,i],null)],null),new Zr(null,3,5,ti,[Na,new Zr(null,2,5,ti,[gu,"Preo"],null),new Zr(null,2,5,ti,[Fu,Ws(o)],null)],null)],null),new Zr(null,5,5,n,[Ra,t,r,i,new Zr(null,3,5,ti,[Ns,new yi(null,2,[xs,"#",au,e],null),"Trocar"],null)],null)}function gf(t){var e=null!=t&&(64&t.h||B===t.V)?Ir(Wi,t):t,n=pn.b(e,Mu);t=pn.b(e,uu);var r=pn.b(e,Mo);return e=pn.b(e,Ts),new Zr(null,5,5,ti,[_u,new yi(null,3,[oa,n,ju,Ks(an([wa,function(){return Le.b(Es.a(Mt(Hc)),n)}])),au,function(){return Lr.u(Hc,dn,Es,n)}],null),new Zr(null,2,5,ti,[Pa,Ws(e)],null),new Zr(null,2,5,ti,[$a,t],null),new Zr(null,2,5,ti,[qu,r],null)],null)}function bf(t){var e=null!=t&&(64&t.h||B===t.V)?Ir(Wi,t):t;return t=pn.b(e,Jo),e=pn.b(e,Ua),new Zr(null,3,5,ti,[Bu,new Zr(null,3,5,ti,[ea,new Zr(null,2,5,ti,[vf,t],null),new Zr(null,2,5,ti,[ha,so(Fr.b(gf,e))],null)],null),new Zr(null,3,5,ti,[as,new yi(null,1,[au,function(){return mf.b?mf.b(ks,Ea):mf.call(null,ks,Ea)}],null),"Assinar"],null)],null)}function wf(t){t.preventDefault(),t.persist();var e=Kh(1);return Nh((function(){var n,r=function(){function e(e){var n=e[1];if(1===n)return n=function(t){var e=Kh(null);return window.Mercadopago.createToken(t,(function(t,n){var r=Kh(1);return Nh((function(){var i,o=function(){function r(r){for(;;){t:try{for(;;){var i=r,o=i[1];if(1===o)var a=300>t,u=_o(n,an([Is,!0])),s=Bh(i,e,new Zr(null,2,5,ti,[a,u],null));else s=2===o?zh(i,i[2]):null;if(!or(s,za)){var l=s;break t}}}catch(t){if(!(t instanceof Object))throw t;r[5]=t,Wh(r),l=za}if(!or(l,za))return l}}function i(){var t=[null,null,null,null,null,null,null];return t[0]=o,t[1]=1,t}var o=null;return(o=function(t){switch(arguments.length){case 0:return i.call(this);case 1:return r.call(this,t)}throw Error("Invalid arity: "+arguments.length)}).l=i,o.a=r,o}();return Vh(((i=o.l?o.l():o.call(null))[6]=r,i))})),r})),e}(t.target),qh(e,2,n);if(2===n){var r=e[2];return n=fn(r,0),r=fn(r,1),e[7]=r,e[1]=X(n)?3:4,za}return 3===n?(n=mf.b?mf.b(ks,Oa):mf.call(null,ks,Oa),e[2]=n,e[1]=5,za):4===n?(n=Lr.u(Hc,dn,is,"Verifique os dados do carto."),e[2]=n,e[1]=5,za):5===n?zh(e,e[2]):null}return function(){function t(t){for(;;){t:try{for(;;){var n=e(t);if(!or(n,za)){var r=n;break t}}}catch(e){if(!(e instanceof Object))throw e;t[5]=e,Wh(t),r=za}if(!or(r,za))return r}}function n(){var t=[null,null,null,null,null,null,null,null];return t[0]=r,t[1]=1,t}var r=null;return(r=function(e){switch(arguments.length){case 0:return n.call(this);case 1:return t.call(this,e)}throw Error("Invalid arity: "+arguments.length)}).l=n,r.a=t,r}()}();return Vh(((n=r.l?r.l():r.call(null))[6]=e,n))})),e}function Ef(t){var e=null!=t&&(64&t.h||B===t.V)?Ir(Wi,t):t;return t=pn.b(e,Jo),e=pn.b(e,is),new Zr(null,3,5,ti,[ma,new Zr(null,3,5,ti,[yf,t,function(t){return t.preventDefault(),mf.b?mf.b(ks,Ua):mf.call(null,ks,Ua)}],null),new Zr(null,12,5,ti,[Ba,new yi(null,1,[ts,wf],null),new Zr(null,2,5,ti,[Qo,"Pagamento"],null),X(e)?new Zr(null,2,5,ti,[Xo,e],null):null,new Zr(null,1,5,ti,[Zc],null),new Zr(null,3,5,ti,[es,new yi(null,1,[Eu,Wo],null),"E-mail"],null),new Zr(null,2,5,ti,[ta,new yi(null,3,[Ka,Wo,Ca,Wo,ua,"fulano@exemplo.com.br"],null)],null),new Zr(null,1,5,ti,[Bc],null),new Zr(null,1,5,ti,[Qc],null),new Zr(null,1,5,ti,[qc],null),new Zr(null,1,5,ti,[Gc],null),new Zr(null,3,5,ti,[As,new yi(null,1,[Ka,Ma],null),"Pagar"],null)],null)],null)}function Tf(){var t=Fl.a(null);return function(){var e=ti,n=new yi(null,1,[ca,function(e){return Mr(t,e)}],null);return X(Mt(t))&&function(t){var e=document.createElement("script");e.src="https://telegram.org/js/telegram-widget.js?14",e.async=!0,e.dataset.telegramLogin="new_agent_773_bot",e.dataset.size="large",e.dataset.onauth="onlypartners.core.create_subscription(user)",e.dataset.requestAccess="write",t.appendChild(e)}(Mt(t)),new Zr(null,3,5,e,[fu,n,null],null)}}function Sf(t){return t=null!=t&&(64&t.h||B===t.V)?Ir(Wi,t):t,t=pn.b(t,Jo),new Zr(null,5,5,ti,[Ya,new Zr(null,2,5,ti,[Os,new yi(null,1,[Xa,"/img/success.svg"],null)],null),new Zr(null,2,5,ti,[Cs,"Agora basta voc acessar com seu Telegram clicando no boto abaixo que te adicionaremos no grupo."],null),new Zr(null,2,5,ti,[vf,t],null),new Zr(null,1,5,ti,[Tf],null)],null)}Y(),window.Mercadopago.setPublishableKey("TEST-21ee96e7-5cab-40a3-959c-7da1a0adbd2a"),function(t,e){Ml(),function(t,e){var n=nl;nl=!0;try{var r=t.l?t.l():t.call(null);Pc.render(r,e,(function(){var n=nl;nl=!1;try{return Lr.u(Mc,dn,e,new Zr(null,2,5,ti,[t,e],null)),vl(cl),null}finally{nl=n}}))}finally{nl=n}}((function(){return xc(vn(t)?t.l?t.l():t.call(null):t)}),e)}(new Zr(null,1,5,ti,[Qs(Qs((function(t){t=null!=t&&(64&t.h||B===t.V)?Ir(Wi,t):t;var e=pn.b(t,ks);switch(e instanceof ir?e.oa:null){case"plans":return new Zr(null,2,5,ti,[bf,t],null);case"payment":return new Zr(null,2,5,ti,[Ef,t],null);case"confirmation":return new Zr(null,2,5,ti,[Sf,t],null);default:return null}}),df),Hc)],null),document.getElementById("app"));var If=Kh(1);Nh((function(){var t,e=function(){function t(t){var e=t[1];if(1===e){t:for(var n=["AIzaSyDdGlT3chqZXptsT82H6jSvLKhvs0FqiME","only-partners"],r=(e=[Ps,gs]).length,i=0,o=ie(qi);;){if(!(i<r)){e=ae(o);break t}var a=i+1;o=ue(o,e[i],n[i]),i=a}return r=null!=(n=e)&&(64&n.h||B===n.V)?Ir(Wi,n):n,e=pn.b(r,Ps),r=pn.b(r,gs),En(n=mn.i(n,Ps,an([gs])))||Mr(Yh,n),e=new yi(null,3,[Fa,e,xa,[Hn.a(r),".firebaseapp.com"].join(""),us,r],null),e=No(e),e=firebase.initializeApp(e),e=Mr(Hh,e),n=pf(new Zr(null,2,5,ti,[hs,"fnNebpIsLJkXBQJhoUBo"],null)),t[7]=e,qh(t,2,n)}return 2===e?(e=t[2],n=pf(new Zr(null,3,5,ti,[hs,"fnNebpIsLJkXBQJhoUBo",Ua],null)),t[8]=e,qh(t,3,n)):3===e?(e=t[8],zh(t,e=Lr.i(Hc,dn,Jo,e,an([Ua,t[2]])))):null}return function(){function e(e){for(;;){t:try{for(;;){var n=t(e);if(!or(n,za)){var r=n;break t}}}catch(t){if(!(t instanceof Object))throw t;e[5]=t,Wh(e),r=za}if(!or(r,za))return r}}function n(){var t=[null,null,null,null,null,null,null,null,null];return t[0]=r,t[1]=1,t}var r=null;return(r=function(t){switch(arguments.length){case 0:return n.call(this);case 1:return e.call(this,t)}throw Error("Invalid arity: "+arguments.length)}).l=n,r.a=e,r}()}();return Vh(((t=e.l?e.l():e.call(null))[6]=If,t))}))}()}).call(this,n(3),n(7))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,l=[],c=!1,h=-1;function f(){c&&s&&(c=!1,s.length?l=s.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=u(f);c=!0;for(var e=l.length;e;){for(s=l,l=[];++h<e;)s&&s[h].run();h=-1,e=l.length}s=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(4),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||g}function E(){}function T(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},E.prototype=w.prototype;var S=T.prototype=new E;S.constructor=T,r(S,w.prototype),S.isPureReactComponent=!0;var I={current:null},k=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function N(t,e,n){var r,i={},a=null,u=null;if(null!=e)for(r in void 0!==e.ref&&(u=e.ref),void 0!==e.key&&(a=""+e.key),e)k.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:o,type:t,key:a,ref:u,props:i,_owner:I.current}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var D=/\/+/g,_=[];function x(t,e,n,r){if(_.length){var i=_.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function O(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>_.length&&_.push(t)}function R(t,e,n){return null==t?0:function t(e,n,r,i){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return r(i,e,""===n?"."+P(e,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+P(u=e[l],l);s+=t(u,c,r,i)}else if(null===e||"object"!=typeof e?c=null:c="function"==typeof(c=v&&e[v]||e["@@iterator"])?c:null,"function"==typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=t(u=u.value,c=n+P(u,l++),r,i);else if("object"===u)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}(t,"",e,n)}function P(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function M(t,e){t.func.call(t.context,e,t.count++)}function L(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(A(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(D,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(D,"$&/")+"/"),R(t,L,e=x(e,o,r,i)),O(e)}var j={current:null};function U(){var t=j.current;if(null===t)throw Error(y(321));return t}var V={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;R(t,M,e=x(null,null,e,n)),O(e)},count:function(t){return R(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!A(t))throw Error(y(143));return t}},e.Component=w,e.Fragment=u,e.Profiler=l,e.PureComponent=T,e.StrictMode=s,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,e.cloneElement=function(t,e,n){if(null==t)throw Error(y(267,t));var i=r({},t.props),a=t.key,u=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(u=e.ref,s=I.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)k.call(e,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:t.type,key:a,ref:u,props:i,_owner:s}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=N,e.createFactory=function(t){var e=N.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return U().useCallback(t,e)},e.useContext=function(t,e){return U().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return U().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return U().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return U().useLayoutEffect(t,e)},e.useMemo=function(t,e){return U().useMemo(t,e)},e.useReducer=function(t,e,n){return U().useReducer(t,e,n)},e.useRef=function(t){return U().useRef(t)},e.useState=function(t){return U().useState(t)},e.version="16.14.0"},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}}(),t.exports=n(10)},function(t,e,n){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2),i=n(4),o=n(11);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function u(t,e,n,r,i,o,a,u,s){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){this.onError(t)}}var s=!1,l=null,c=!1,h=null,f={onError:function(t){s=!0,l=t}};function p(t,e,n,r,i,o,a,c,h){s=!1,l=null,u.apply(f,arguments)}var d=null,m=null,v=null;function y(t,e,n){var r=t.type||"unknown-event";t.currentTarget=v(n),function(t,e,n,r,i,o,u,f,d){if(p.apply(this,arguments),s){if(!s)throw Error(a(198));var m=l;s=!1,l=null,c||(c=!0,h=m)}}(r,e,void 0,t),t.currentTarget=null}var g=null,b={};function w(){if(g)for(var t in b){var e=b[t],n=g.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!T[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in T[n]=e,n=e.eventTypes){var i=void 0,o=n[r],u=e,s=r;if(S.hasOwnProperty(s))throw Error(a(99,s));S[s]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&E(l[i],u,s);i=!0}else o.registrationName?(E(o.registrationName,u,s),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function E(t,e,n){if(I[t])throw Error(a(100,t));I[t]=e,k[t]=e.eventTypes[n].dependencies}var T=[],S={},I={},k={};function C(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!b.hasOwnProperty(e)||b[e]!==r){if(b[e])throw Error(a(102,e));b[e]=r,n=!0}}n&&w()}var N=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),A=null,D=null,_=null;function x(t){if(t=m(t)){if("function"!=typeof A)throw Error(a(280));var e=t.stateNode;e&&(e=d(e),A(t.stateNode,t.type,e))}}function O(t){D?_?_.push(t):_=[t]:D=t}function R(){if(D){var t=D,e=_;if(_=D=null,x(t),e)for(t=0;t<e.length;t++)x(e[t])}}function P(t,e){return t(e)}function M(t,e,n,r,i){return t(e,n,r,i)}function L(){}var F=P,j=!1,U=!1;function V(){null===D&&null===_||(L(),R())}function q(t,e,n){if(U)return t(e,n);U=!0;try{return F(t,e,n)}finally{U=!1,V()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,W={},K={};function Q(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){G[t]=new Q(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];G[e]=new Q(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){G[t]=new Q(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){G[t]=new Q(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){G[t]=new Q(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){G[t]=new Q(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){G[t]=new Q(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){G[t]=new Q(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){G[t]=new Q(t,5,!1,t.toLowerCase(),null,!1)}));var H=/[\-:]([a-z])/g;function Y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(H,Y);G[e]=new Q(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(H,Y);G[e]=new Q(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(H,Y);G[e]=new Q(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){G[t]=new Q(t,1,!1,t.toLowerCase(),null,!1)})),G.xlinkHref=new Q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){G[t]=new Q(t,1,!1,t.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(t,e,n,r){var i=G.hasOwnProperty(e)?G[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!z.call(K,t)||!z.call(W,t)&&(B.test(t)?K[t]=!0:(W[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,tt=Z?Symbol.for("react.element"):60103,et=Z?Symbol.for("react.portal"):60106,nt=Z?Symbol.for("react.fragment"):60107,rt=Z?Symbol.for("react.strict_mode"):60108,it=Z?Symbol.for("react.profiler"):60114,ot=Z?Symbol.for("react.provider"):60109,at=Z?Symbol.for("react.context"):60110,ut=Z?Symbol.for("react.concurrent_mode"):60111,st=Z?Symbol.for("react.forward_ref"):60112,lt=Z?Symbol.for("react.suspense"):60113,ct=Z?Symbol.for("react.suspense_list"):60120,ht=Z?Symbol.for("react.memo"):60115,ft=Z?Symbol.for("react.lazy"):60116,pt=Z?Symbol.for("react.block"):60121,dt="function"==typeof Symbol&&Symbol.iterator;function mt(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function vt(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case it:return"Profiler";case rt:return"StrictMode";case lt:return"Suspense";case ct:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case at:return"Context.Consumer";case ot:return"Context.Provider";case st:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return vt(t.type);case pt:return vt(t.render);case ft:if(t=1===t._status?t._result:null)return vt(t)}return null}function yt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=vt(t.type);n=null,r&&(n=vt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function gt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=bt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Et(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Tt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function St(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=gt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function It(t,e){null!=(e=e.checked)&&$(t,"checked",e,!1)}function kt(t,e){It(t,e);var n=gt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Nt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nt(t,e.type,gt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ct(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Nt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function At(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Dt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function _t(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:gt(n)}}function Ot(t,e){var n=gt(e.value),r=gt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Rt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Pt="http://www.w3.org/1999/xhtml",Mt="http://www.w3.org/2000/svg";function Lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Lt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var jt,Ut=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Mt||"innerHTML"in t)t.innerHTML=e;else{for((jt=jt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function qt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bt={animationend:qt("Animation","AnimationEnd"),animationiteration:qt("Animation","AnimationIteration"),animationstart:qt("Animation","AnimationStart"),transitionend:qt("Transition","TransitionEnd")},zt={},Wt={};function Kt(t){if(zt[t])return zt[t];if(!Bt[t])return t;var e,n=Bt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Wt)return zt[t]=n[e];return t}N&&(Wt=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var Qt=Kt("animationend"),Gt=Kt("animationiteration"),Ht=Kt("animationstart"),Yt=Kt("transitionend"),Xt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$t=new("function"==typeof WeakMap?WeakMap:Map);function Jt(t){var e=$t.get(t);return void 0===e&&(e=new Map,$t.set(t,e)),e}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)y(t,e[r],n[r]);else e&&y(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ue(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(ie(t,ae),oe)throw Error(a(95));if(c)throw t=h,c=!1,h=null,t}}function se(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function le(t){if(!N)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var ce=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function fe(t,e,n,r){if(ce.length){var i=ce.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Nn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=se(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var u=null,s=0;s<T.length;s++){var l=T[s];l&&(l=l.extractEvents(r,e,o,i,a))&&(u=re(u,l))}ue(u)}}function de(t,e,n){if(!n.has(t)){switch(t){case"scroll":He(e,"scroll",!0);break;case"focus":case"blur":He(e,"focus",!0),He(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":le(t)&&He(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xt.indexOf(t)&&Ge(t,e)}n.set(t,null)}}var me,ve,ye,ge=!1,be=[],we=null,Ee=null,Te=null,Se=new Map,Ie=new Map,ke=[],Ce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ne="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ae(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function De(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":Ee=null;break;case"mouseover":case"mouseout":Te=null;break;case"pointerover":case"pointerout":Se.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ie.delete(e.pointerId)}}function _e(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Ae(e,n,r,i,o),null!==e&&(null!==(e=An(e))&&ve(e)),t):(t.eventSystemFlags|=r,t)}function xe(t){var e=Nn(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){ye(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Oe(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=An(e);return null!==n&&ve(n),t.blockedOn=e,!1}return!0}function Re(t,e,n){Oe(t)&&n.delete(e)}function Pe(){for(ge=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=An(t.blockedOn))&&me(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==we&&Oe(we)&&(we=null),null!==Ee&&Oe(Ee)&&(Ee=null),null!==Te&&Oe(Te)&&(Te=null),Se.forEach(Re),Ie.forEach(Re)}function Me(t,e){t.blockedOn===e&&(t.blockedOn=null,ge||(ge=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Pe)))}function Le(t){function e(e){return Me(e,t)}if(0<be.length){Me(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==we&&Me(we,t),null!==Ee&&Me(Ee,t),null!==Te&&Me(Te,t),Se.forEach(e),Ie.forEach(e),n=0;n<ke.length;n++)(r=ke[n]).blockedOn===t&&(r.blockedOn=null);for(;0<ke.length&&null===(n=ke[0]).blockedOn;)xe(n),null===n.blockedOn&&ke.shift()}var Fe={},je=new Map,Ue=new Map,Ve=["abort","abort",Qt,"animationEnd",Gt,"animationIteration",Ht,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Yt,"transitionEnd","waiting","waiting"];function qe(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Ue.set(r,e),je.set(r,o),Fe[i]=o}}qe("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),qe("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),qe(Ve,2);for(var Be="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ze=0;ze<Be.length;ze++)Ue.set(Be[ze],0);var We=o.unstable_UserBlockingPriority,Ke=o.unstable_runWithPriority,Qe=!0;function Ge(t,e){He(e,t,!1)}function He(t,e,n){var r=Ue.get(e);switch(void 0===r?2:r){case 0:r=Ye.bind(null,e,1,t);break;case 1:r=Xe.bind(null,e,1,t);break;default:r=$e.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Ye(t,e,n,r){j||L();var i=$e,o=j;j=!0;try{M(i,t,e,n,r)}finally{(j=o)||V()}}function Xe(t,e,n,r){Ke(We,$e.bind(null,t,e,n,r))}function $e(t,e,n,r){if(Qe)if(0<be.length&&-1<Ce.indexOf(t))t=Ae(null,t,e,n,r),be.push(t);else{var i=Je(t,e,n,r);if(null===i)De(t,r);else if(-1<Ce.indexOf(t))t=Ae(i,t,e,n,r),be.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return we=_e(we,t,e,n,r,i),!0;case"dragenter":return Ee=_e(Ee,t,e,n,r,i),!0;case"mouseover":return Te=_e(Te,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Se.set(o,_e(Se.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ie.set(o,_e(Ie.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){De(t,r),t=fe(t,r,null,e);try{q(pe,t)}finally{he(t)}}}}function Je(t,e,n,r){if(null!==(n=Nn(n=se(r)))){var i=Zt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=te(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=fe(t,r,n,e);try{q(pe,t)}finally{he(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Ze).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Pt;function sn(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=k[e];for(var r=0;r<e.length;r++)de(e[r],t,n)}function ln(){}function cn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fn(t,e){var n,r=hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hn(r)}}function pn(){for(var t=window,e=cn();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=cn((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var mn=null,vn=null;function yn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function gn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,wn="function"==typeof clearTimeout?clearTimeout:void 0;function En(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Tn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),In="__reactInternalInstance$"+Sn,kn="__reactEventHandlers$"+Sn,Cn="__reactContainere$"+Sn;function Nn(t){var e=t[In];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cn]||n[In]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Tn(t);null!==t;){if(n=t[In])return n;t=Tn(t)}return e}n=(t=n).parentNode}return null}function An(t){return!(t=t[In]||t[Cn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Dn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function _n(t){return t[kn]||null}function xn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function On(t,e){var n=t.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(a(231,e,typeof n));return n}function Rn(t,e,n){(e=On(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Pn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=xn(e);for(e=n.length;0<e--;)Rn(n[e],"captured",t);for(e=0;e<n.length;e++)Rn(n[e],"bubbled",t)}}function Mn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=On(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Ln(t){t&&t.dispatchConfig.registrationName&&Mn(t._targetInst,null,t)}function Fn(t){ie(t,Pn)}var jn=null,Un=null,Vn=null;function qn(){if(Vn)return Vn;var t,e,n=Un,r=n.length,i="value"in jn?jn.value:jn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Vn=i.slice(t,1<e?1-e:void 0)}function Bn(){return!0}function zn(){return!1}function Wn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Bn:zn,this.isPropagationStopped=zn,this}function Kn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Qn(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Gn(t){t.eventPool=[],t.getPooled=Kn,t.release=Qn}i(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){this.isPersistent=Bn},isPersistent:zn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,Gn(n),n},Gn(Wn);var Hn=Wn.extend({data:null}),Yn=Wn.extend({data:null}),Xn=[9,13,27,32],$n=N&&"CompositionEvent"in window,Jn=null;N&&"documentMode"in document&&(Jn=document.documentMode);var Zn=N&&"TextEvent"in window&&!Jn,tr=N&&(!$n||Jn&&8<Jn&&11>=Jn),er=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(t,e){switch(t){case"keyup":return-1!==Xn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var ar=!1;var ur={eventTypes:nr,extractEvents:function(t,e,n,r){var i;if($n)t:{switch(t){case"compositionstart":var o=nr.compositionStart;break t;case"compositionend":o=nr.compositionEnd;break t;case"compositionupdate":o=nr.compositionUpdate;break t}o=void 0}else ar?ir(t,n)&&(o=nr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=nr.compositionStart);return o?(tr&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=qn()):(Un="value"in(jn=r)?jn.value:jn.textContent,ar=!0)),o=Hn.getPooled(o,e,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Fn(o),i=o):i=null,(t=Zn?function(t,e){switch(t){case"compositionend":return or(e);case"keypress":return 32!==e.which?null:(rr=!0,er);case"textInput":return(t=e.data)===er&&rr?null:t;default:return null}}(t,n):function(t,e){if(ar)return"compositionend"===t||!$n&&ir(t,e)?(t=qn(),Vn=Un=jn=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Yn.getPooled(nr.beforeInput,e,n,r)).data=t,Fn(e)):e=null,null===i?e:null===e?i:[i,e]}},sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!sr[t.type]:"textarea"===e}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(t,e,n){return(t=Wn.getPooled(cr.change,t,e,n)).type="change",O(n),Fn(t),t}var fr=null,pr=null;function dr(t){ue(t)}function mr(t){if(Et(Dn(t)))return t}function vr(t,e){if("change"===t)return e}var yr=!1;function gr(){fr&&(fr.detachEvent("onpropertychange",br),pr=fr=null)}function br(t){if("value"===t.propertyName&&mr(pr))if(t=hr(pr,t,se(t)),j)ue(t);else{j=!0;try{P(dr,t)}finally{j=!1,V()}}}function wr(t,e,n){"focus"===t?(gr(),pr=n,(fr=e).attachEvent("onpropertychange",br)):"blur"===t&&gr()}function Er(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return mr(pr)}function Tr(t,e){if("click"===t)return mr(e)}function Sr(t,e){if("input"===t||"change"===t)return mr(e)}N&&(yr=le("input")&&(!document.documentMode||9<document.documentMode));var Ir={eventTypes:cr,_isInputEventSupported:yr,extractEvents:function(t,e,n,r){var i=e?Dn(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=vr;else if(lr(i))if(yr)a=Sr;else{a=Er;var u=wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Tr);if(a&&(a=a(t,e)))return hr(a,n,r);u&&u(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Nt(i,"number",i.value)}},kr=Wn.extend({view:null,detail:null}),Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cr[t])&&!!e[t]}function Ar(){return Nr}var Dr=0,_r=0,xr=!1,Or=!1,Rr=kr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ar,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Dr;return Dr=t.screenX,xr?"mousemove"===t.type?t.screenX-e:0:(xr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=_r;return _r=t.screenY,Or?"mousemove"===t.type?t.screenY-e:0:(Or=!0,0)}}),Pr=Rr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Mr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Mr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?Nn(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var u=Rr,s=Mr.mouseLeave,l=Mr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(u=Pr,s=Mr.pointerLeave,l=Mr.pointerEnter,c="pointer");if(t=null==a?o:Dn(a),o=null==e?o:Dn(e),(s=u.getPooled(s,a,n,r)).type=c+"leave",s.target=t,s.relatedTarget=o,(n=u.getPooled(l,e,n,r)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(r=a)&&c)t:{for(l=c,a=0,t=u=r;t;t=xn(t))a++;for(t=0,e=l;e;e=xn(e))t++;for(;0<a-t;)u=xn(u),a--;for(;0<t-a;)l=xn(l),t--;for(;a--;){if(u===l||u===l.alternate)break t;u=xn(u),l=xn(l)}u=null}else u=null;for(l=u,u=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)u.push(r),r=xn(r);for(r=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)r.push(c),c=xn(c);for(c=0;c<u.length;c++)Mn(u[c],"bubbled",s);for(c=r.length;0<c--;)Mn(r[c],"captured",n);return 0==(64&i)?[s]:[s,n]}};var Fr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},jr=Object.prototype.hasOwnProperty;function Ur(t,e){if(Fr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!jr.call(e,n[r])||!Fr(t[n[r]],e[n[r]]))return!1;return!0}var Vr=N&&"documentMode"in document&&11>=document.documentMode,qr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Br=null,zr=null,Wr=null,Kr=!1;function Qr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Kr||null==Br||Br!==cn(n)?null:("selectionStart"in(n=Br)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&Ur(Wr,n)?null:(Wr=n,(t=Wn.getPooled(qr.select,zr,t,e)).type="select",t.target=Br,Fn(t),t))}var Gr={eventTypes:qr,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Jt(i),o=k.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Dn(e):window,t){case"focus":(lr(i)||"true"===i.contentEditable)&&(Br=i,zr=e,Wr=null);break;case"blur":Wr=zr=Br=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kr=!1,Qr(n,r);case"selectionchange":if(Vr)break;case"keydown":case"keyup":return Qr(n,r)}return null}},Hr=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yr=Wn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xr=kr.extend({relatedTarget:null});function $r(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ti=kr.extend({key:function(t){if(t.key){var e=Jr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=$r(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Zr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ar,charCode:function(t){return"keypress"===t.type?$r(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?$r(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ei=Rr.extend({dataTransfer:null}),ni=kr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ar}),ri=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Rr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Fe,extractEvents:function(t,e,n,r){var i=je.get(t);if(!i)return null;switch(t){case"keypress":if(0===$r(n))return null;case"keydown":case"keyup":t=ti;break;case"blur":case"focus":t=Xr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ni;break;case Qt:case Gt:case Ht:t=Hr;break;case Yt:t=ri;break;case"scroll":t=kr;break;case"wheel":t=ii;break;case"copy":case"cut":case"paste":t=Yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Pr;break;default:t=Wn}return Fn(e=t.getPooled(i,e,n,r)),e}};if(g)throw Error(a(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),d=_n,m=An,v=Dn,C({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:Ir,SelectEventPlugin:Gr,BeforeInputEventPlugin:ur});var ai=[],ui=-1;function si(t){0>ui||(t.current=ai[ui],ai[ui]=null,ui--)}function li(t,e){ui++,ai[ui]=t.current,t.current=e}var ci={},hi={current:ci},fi={current:!1},pi=ci;function di(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!=(t=t.childContextTypes)}function vi(){si(fi),si(hi)}function yi(t,e,n){if(hi.current!==ci)throw Error(a(168));li(hi,e),li(fi,n)}function gi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,vt(e)||"Unknown",o));return i({},n,{},r)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,pi=hi.current,li(hi,t),li(fi,fi.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=gi(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,si(fi),si(hi),li(hi,t)):si(fi),li(fi,n)}var Ei=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ii=o.unstable_requestPaint,ki=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,_i=o.unstable_LowPriority,xi=o.unstable_IdlePriority,Oi={},Ri=o.unstable_shouldYield,Pi=void 0!==Ii?Ii:function(){},Mi=null,Li=null,Fi=!1,ji=ki(),Ui=1e4>ji?ki:function(){return ki()-ji};function Vi(){switch(Ci()){case Ni:return 99;case Ai:return 98;case Di:return 97;case _i:return 96;case xi:return 95;default:throw Error(a(332))}}function qi(t){switch(t){case 99:return Ni;case 98:return Ai;case 97:return Di;case 96:return _i;case 95:return xi;default:throw Error(a(332))}}function Bi(t,e){return t=qi(t),Ei(t,e)}function zi(t,e,n){return t=qi(t),Ti(t,e,n)}function Wi(t){return null===Mi?(Mi=[t],Li=Ti(Ni,Qi)):Mi.push(t),Oi}function Ki(){if(null!==Li){var t=Li;Li=null,Si(t)}Qi()}function Qi(){if(!Fi&&null!==Mi){Fi=!0;var t=0;try{var e=Mi;Bi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Mi=null}catch(e){throw null!==Mi&&(Mi=Mi.slice(t+1)),Ti(Ni,Ki),e}finally{Fi=!1}}}function Gi(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Hi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Yi={current:null},Xi=null,$i=null,Ji=null;function Zi(){Ji=$i=Xi=null}function to(t){var e=Yi.current;si(Yi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function no(t,e){Xi=t,Ji=$i=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(_a=!0),t.firstContext=null)}function ro(t,e){if(Ji!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Ji=t,e=1073741823),e={context:t,observedBits:e,next:null},null===$i){if(null===Xi)throw Error(a(308));$i=e,Xi.dependencies={expirationTime:0,firstContext:e,responders:null}}else $i=$i.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function uo(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function so(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function lo(t,e){var n=t.alternate;null!==n&&ao(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function co(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.baseQueue,u=o.shared.pending;if(null!==u){if(null!==a){var s=a.next;a.next=u.next,u.next=s}a=u,o.shared.pending=null,null!==(s=t.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=u))}if(null!==a){s=a.next;var l=o.baseState,c=0,h=null,f=null,p=null;if(null!==s)for(var d=s;;){if((u=d.expirationTime)<r){var m={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=m,h=l):p=p.next=m,u>c&&(c=u)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),os(u,d.suspenseConfig);t:{var v=t,y=d;switch(u=e,m=n,y.tag){case 1:if("function"==typeof(v=y.payload)){l=v.call(m,l,u);break t}l=v;break t;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(u="function"==typeof(v=y.payload)?v.call(m,l,u):v))break t;l=i({},l,u);break t;case 2:io=!0}}null!==d.callback&&(t.effectTag|=32,null===(u=o.effects)?o.effects=[d]:u.push(d))}if(null===(d=d.next)||d===s){if(null===(u=o.shared.pending))break;d=a.next=u.next,u.next=s,o.baseQueue=a=u,o.shared.pending=null}}null===p?h=l:p.next=f,o.baseState=h,o.baseQueue=p,as(c),t.expirationTime=c,t.memoizedState=l}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var fo=X.ReactCurrentBatchConfig,po=(new r.Component).refs;function mo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var vo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Qu(),i=fo.suspense;(i=uo(r=Gu(r,t,i),i)).payload=e,null!=n&&(i.callback=n),so(t,i),Hu(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Qu(),i=fo.suspense;(i=uo(r=Gu(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),so(t,i),Hu(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Qu(),r=fo.suspense;(r=uo(n=Gu(n,t,r),r)).tag=2,null!=e&&(r.callback=e),so(t,r),Hu(t,n)}};function yo(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Ur(n,r)||!Ur(i,o))}function go(t,e,n){var r=!1,i=ci,o=e.contextType;return"object"==typeof o&&null!==o?o=ro(o):(i=mi(e)?pi:hi.current,o=(r=null!=(r=e.contextTypes))?di(t,i):ci),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bo(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vo.enqueueReplaceState(e,e.state,null)}function wo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=po,oo(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=ro(o):(o=mi(e)?pi:hi.current,i.context=di(t,o)),co(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(mo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&vo.enqueueReplaceState(i,i.state,null),co(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var Eo=Array.isArray;function To(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===po&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function So(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Io(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Cs(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function u(e){return t&&null===e.alternate&&(e.effectTag=2),e}function s(t,e,n,r){return null===e||6!==e.tag?((e=Ds(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=To(t,e,n),r.return=t,r):((r=Ns(n.type,n.key,n.props,null,t.mode,r)).ref=To(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=_s(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=As(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Ds(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Ns(e.type,e.key,e.props,null,t.mode,n)).ref=To(t,null,e),n.return=t,n;case et:return(e=_s(e,t.mode,n)).return=t,e}if(Eo(e)||mt(e))return(e=As(e,t.mode,n,null)).return=t,e;So(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===i?n.type===nt?h(t,e,n.props.children,r,i):l(t,e,n,r):null;case et:return n.key===i?c(t,e,n,r):null}if(Eo(n)||mt(n))return null!==i?null:h(t,e,n,r,null);So(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return s(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case tt:return t=t.get(null===r.key?n:r.key)||null,r.type===nt?h(e,t,r.props.children,i,r.key):l(e,t,r,i);case et:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||mt(r))return h(e,t=t.get(n)||null,r,i,null);So(e,r)}return null}function m(i,a,u,s){for(var l=null,c=null,h=a,m=a=0,v=null;null!==h&&m<u.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var y=p(i,h,u[m],s);if(null===y){null===h&&(h=v);break}t&&h&&null===y.alternate&&e(i,h),a=o(y,a,m),null===c?l=y:c.sibling=y,c=y,h=v}if(m===u.length)return n(i,h),l;if(null===h){for(;m<u.length;m++)null!==(h=f(i,u[m],s))&&(a=o(h,a,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);m<u.length;m++)null!==(v=d(h,i,m,u[m],s))&&(t&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return t&&h.forEach((function(t){return e(i,t)})),l}function v(i,u,s,l){var c=mt(s);if("function"!=typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var h=c=null,m=u,v=u=0,y=null,g=s.next();null!==m&&!g.done;v++,g=s.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=p(i,m,g.value,l);if(null===b){null===m&&(m=y);break}t&&m&&null===b.alternate&&e(i,m),u=o(b,u,v),null===h?c=b:h.sibling=b,h=b,m=y}if(g.done)return n(i,m),c;if(null===m){for(;!g.done;v++,g=s.next())null!==(g=f(i,g.value,l))&&(u=o(g,u,v),null===h?c=g:h.sibling=g,h=g);return c}for(m=r(i,m);!g.done;v++,g=s.next())null!==(g=d(m,i,v,g.value,l))&&(t&&null!==g.alternate&&m.delete(null===g.key?v:g.key),u=o(g,u,v),null===h?c=g:h.sibling=g,h=g);return t&&m.forEach((function(t){return e(i,t)})),c}return function(t,r,o,s){var l="object"==typeof o&&null!==o&&o.type===nt&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case tt:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===nt){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}break;default:if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=To(t,l,o),r.return=t,t=r;break t}}n(t,l);break}e(t,l),l=l.sibling}o.type===nt?((r=As(o.props.children,t.mode,s,o.key)).return=t,t=r):((s=Ns(o.type,o.key,o.props,null,t.mode,s)).ref=To(t,r,o),s.return=t,t=s)}return u(t);case et:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=_s(o,t.mode,s)).return=t,t=r}return u(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Ds(o,t.mode,s)).return=t,t=r),u(t);if(Eo(o))return m(t,r,o,s);if(mt(o))return v(t,r,o,s);if(c&&So(t,o),void 0===o&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var ko=Io(!0),Co=Io(!1),No={},Ao={current:No},Do={current:No},_o={current:No};function xo(t){if(t===No)throw Error(a(174));return t}function Oo(t,e){switch(li(_o,e),li(Do,t),li(Ao,No),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}si(Ao),li(Ao,e)}function Ro(){si(Ao),si(Do),si(_o)}function Po(t){xo(_o.current);var e=xo(Ao.current),n=Ft(e,t.type);e!==n&&(li(Do,t),li(Ao,n))}function Mo(t){Do.current===t&&(si(Ao),si(Do))}var Lo={current:0};function Fo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function jo(t,e){return{responder:t,props:e}}var Uo=X.ReactCurrentDispatcher,Vo=X.ReactCurrentBatchConfig,qo=0,Bo=null,zo=null,Wo=null,Ko=!1;function Qo(){throw Error(a(321))}function Go(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function Ho(t,e,n,r,i,o){if(qo=o,Bo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Uo.current=null===t||null===t.memoizedState?ya:ga,t=n(r,i),e.expirationTime===qo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Wo=zo=null,e.updateQueue=null,Uo.current=ba,t=n(r,i)}while(e.expirationTime===qo)}if(Uo.current=va,e=null!==zo&&null!==zo.next,qo=0,Wo=zo=Bo=null,Ko=!1,e)throw Error(a(300));return t}function Yo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Bo.memoizedState=Wo=t:Wo=Wo.next=t,Wo}function Xo(){if(null===zo){var t=Bo.alternate;t=null!==t?t.memoizedState:null}else t=zo.next;var e=null===Wo?Bo.memoizedState:Wo.next;if(null!==e)Wo=e,zo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(zo=t).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Wo?Bo.memoizedState=Wo=t:Wo=Wo.next=t}return Wo}function $o(t,e){return"function"==typeof e?e(t):e}function Jo(t){var e=Xo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=o=null,l=i;do{var c=l.expirationTime;if(c<qo){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(u=s=h,o=r):s=s.next=h,c>Bo.expirationTime&&(Bo.expirationTime=c,as(c))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),os(c,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==i);null===s?o=r:s.next=u,Fr(r,e.memoizedState)||(_a=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=s,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Zo(t){var e=Xo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=t(o,u.action),u=u.next}while(u!==i);Fr(o,e.memoizedState)||(_a=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ta(t){var e=Yo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t}).dispatch=ma.bind(null,Bo,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Bo.updateQueue)?(e={lastEffect:null},Bo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function na(){return Xo().memoizedState}function ra(t,e,n,r){var i=Yo();Bo.effectTag|=t,i.memoizedState=ea(1|e,n,void 0,void 0===r?null:r)}function ia(t,e,n,r){var i=Xo();r=void 0===r?null:r;var o=void 0;if(null!==zo){var a=zo.memoizedState;if(o=a.destroy,null!==r&&Go(r,a.deps))return void ea(e,n,o,r)}Bo.effectTag|=t,i.memoizedState=ea(1|e,n,o,r)}function oa(t,e){return ra(516,4,t,e)}function aa(t,e){return ia(516,4,t,e)}function ua(t,e){return ia(4,2,t,e)}function sa(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function la(t,e,n){return n=null!=n?n.concat([t]):null,ia(4,2,sa.bind(null,e,t),n)}function ca(){}function ha(t,e){return Yo().memoizedState=[t,void 0===e?null:e],t}function fa(t,e){var n=Xo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Go(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pa(t,e){var n=Xo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Go(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function da(t,e,n){var r=Vi();Bi(98>r?98:r,(function(){t(!0)})),Bi(97<r?97:r,(function(){var r=Vo.suspense;Vo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Vo.suspense=r}}))}function ma(t,e,n){var r=Qu(),i=fo.suspense;i={expirationTime:r=Gu(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Bo||null!==o&&o===Bo)Ko=!0,i.expirationTime=qo,Bo.expirationTime=qo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,u=o(a,n);if(i.eagerReducer=o,i.eagerState=u,Fr(u,a))return}catch(t){}Hu(t,r)}}var va={readContext:ro,useCallback:Qo,useContext:Qo,useEffect:Qo,useImperativeHandle:Qo,useLayoutEffect:Qo,useMemo:Qo,useReducer:Qo,useRef:Qo,useState:Qo,useDebugValue:Qo,useResponder:Qo,useDeferredValue:Qo,useTransition:Qo},ya={readContext:ro,useCallback:ha,useContext:ro,useEffect:oa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,ra(4,2,sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ra(4,2,t,e)},useMemo:function(t,e){var n=Yo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ma.bind(null,Bo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Yo().memoizedState=t},useState:ta,useDebugValue:ca,useResponder:jo,useDeferredValue:function(t,e){var n=ta(t),r=n[0],i=n[1];return oa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ta(!1),n=e[0];return e=e[1],[ha(da.bind(null,e,t),[e,t]),n]}},ga={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:ua,useMemo:pa,useReducer:Jo,useRef:na,useState:function(){return Jo($o)},useDebugValue:ca,useResponder:jo,useDeferredValue:function(t,e){var n=Jo($o),r=n[0],i=n[1];return aa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Jo($o),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},ba={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:ua,useMemo:pa,useReducer:Zo,useRef:na,useState:function(){return Zo($o)},useDebugValue:ca,useResponder:jo,useDeferredValue:function(t,e){var n=Zo($o),r=n[0],i=n[1];return aa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Zo($o),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},wa=null,Ea=null,Ta=!1;function Sa(t,e){var n=Is(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ia(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function ka(t){if(Ta){var e=Ea;if(e){var n=e;if(!Ia(t,e)){if(!(e=En(n.nextSibling))||!Ia(t,e))return t.effectTag=-1025&t.effectTag|2,Ta=!1,void(wa=t);Sa(wa,n)}wa=t,Ea=En(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ta=!1,wa=t}}function Ca(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;wa=t}function Na(t){if(t!==wa)return!1;if(!Ta)return Ca(t),Ta=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!gn(e,t.memoizedProps))for(e=Ea;e;)Sa(t,e),e=En(e.nextSibling);if(Ca(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Ea=En(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Ea=null}}else Ea=wa?En(t.stateNode.nextSibling):null;return!0}function Aa(){Ea=wa=null,Ta=!1}var Da=X.ReactCurrentOwner,_a=!1;function xa(t,e,n,r){e.child=null===t?Co(e,null,n,r):ko(e,t.child,n,r)}function Oa(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=Ho(t,e,n,r,o,i),null===t||_a?(e.effectTag|=1,xa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Ha(t,e,i))}function Ra(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||ks(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ns(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Pa(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Ur)(i,r)&&t.ref===e.ref)?Ha(t,e,o):(e.effectTag|=1,(t=Cs(a,r)).ref=e.ref,t.return=e,e.child=t)}function Pa(t,e,n,r,i,o){return null!==t&&Ur(t.memoizedProps,r)&&t.ref===e.ref&&(_a=!1,i<o)?(e.expirationTime=t.expirationTime,Ha(t,e,o)):La(t,e,n,r,o)}function Ma(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function La(t,e,n,r,i){var o=mi(n)?pi:hi.current;return o=di(e,o),no(e,i),n=Ho(t,e,n,r,o,i),null===t||_a?(e.effectTag|=1,xa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Ha(t,e,i))}function Fa(t,e,n,r,i){if(mi(n)){var o=!0;bi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),go(e,n,r),wo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,u=e.memoizedProps;a.props=u;var s=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=ro(l):l=di(e,l=mi(n)?pi:hi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||s!==l)&&bo(e,a,r,l),io=!1;var f=e.memoizedState;a.state=f,co(e,r,a,i),s=e.memoizedState,u!==r||f!==s||fi.current||io?("function"==typeof c&&(mo(e,n,c,r),s=e.memoizedState),(u=io||yo(e,n,u,r,f,s,l))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=s),a.props=r,a.state=s,a.context=l,r=u):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,ao(t,e),u=e.memoizedProps,a.props=e.type===e.elementType?u:Hi(e.type,u),s=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=ro(l):l=di(e,l=mi(n)?pi:hi.current),(h="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||s!==l)&&bo(e,a,r,l),io=!1,s=e.memoizedState,a.state=s,co(e,r,a,i),f=e.memoizedState,u!==r||s!==f||fi.current||io?("function"==typeof c&&(mo(e,n,c,r),f=e.memoizedState),(c=io||yo(e,n,u,r,s,f,l))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||u===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||u===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=256),r=!1);return ja(t,e,n,r,o,i)}function ja(t,e,n,r,i,o){Ma(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&wi(e,n,!1),Ha(t,e,o);r=e.stateNode,Da.current=e;var u=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=ko(e,t.child,null,o),e.child=ko(e,null,u,o)):xa(t,e,u,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function Ua(t){var e=t.stateNode;e.pendingContext?yi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yi(0,e.context,!1),Oo(t,e.containerInfo)}var Va,qa,Ba,za={dehydrated:null,retryTime:0};function Wa(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Lo.current,u=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&a)&&(null===t||null!==t.memoizedState)),r?(u=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),li(Lo,1&a),null===t){if(void 0!==o.fallback&&ka(e),u){if(u=o.fallback,(o=As(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=As(u,i,n,null)).return=e,o.sibling=n,e.memoizedState=za,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Co(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,u){if(o=o.fallback,(n=Cs(t,t.pendingProps)).return=e,0==(2&e.mode)&&(u=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=Cs(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=za,e.child=n,i}return n=ko(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,u){if(u=o.fallback,(o=As(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=As(u,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=za,e.child=o,n}return e.memoizedState=null,e.child=ko(e,t,o.children,n)}function Ka(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),eo(t.return,e)}function Qa(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ga(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xa(t,e,r.children,n),0!=(2&(r=Lo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ka(t,n);else if(19===t.tag)Ka(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(li(Lo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Fo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qa(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Fo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qa(e,!0,n,null,o,e.lastEffect);break;case"together":Qa(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ha(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&as(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Cs(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Cs(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ya(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xa(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(e.type)&&vi(),null;case 3:return Ro(),si(fi),si(hi),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Na(e)||(e.effectTag|=4),null;case 5:Mo(e),n=xo(_o.current);var o=e.type;if(null!==t&&null!=e.stateNode)qa(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=xo(Ao.current),Na(e)){r=e.stateNode,o=e.type;var u=e.memoizedProps;switch(r[In]=e,r[kn]=u,o){case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(t=0;t<Xt.length;t++)Ge(Xt[t],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"form":Ge("reset",r),Ge("submit",r);break;case"details":Ge("toggle",r);break;case"input":St(r,u),Ge("invalid",r),sn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ge("invalid",r),sn(n,"onChange");break;case"textarea":xt(r,u),Ge("invalid",r),sn(n,"onChange")}for(var s in on(o,u),t=null,u)if(u.hasOwnProperty(s)){var l=u[s];"children"===s?"string"==typeof l?r.textContent!==l&&(t=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(t=["children",""+l]):I.hasOwnProperty(s)&&null!=l&&sn(n,s)}switch(o){case"input":wt(r),Ct(r,u,!0);break;case"textarea":wt(r),Rt(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=ln)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,t===un&&(t=Lt(o)),t===un?"script"===o?((t=s.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=s.createElement(o,{is:r.is}):(t=s.createElement(o),"select"===o&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,o),t[In]=e,t[kn]=r,Va(t,e),e.stateNode=t,s=an(o,r),o){case"iframe":case"object":case"embed":Ge("load",t),l=r;break;case"video":case"audio":for(l=0;l<Xt.length;l++)Ge(Xt[l],t);l=r;break;case"source":Ge("error",t),l=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),l=r;break;case"form":Ge("reset",t),Ge("submit",t),l=r;break;case"details":Ge("toggle",t),l=r;break;case"input":St(t,r),l=Tt(t,r),Ge("invalid",t),sn(n,"onChange");break;case"option":l=At(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Ge("invalid",t),sn(n,"onChange");break;case"textarea":xt(t,r),l=_t(t,r),Ge("invalid",t),sn(n,"onChange");break;default:l=r}on(o,l);var c=l;for(u in c)if(c.hasOwnProperty(u)){var h=c[u];"style"===u?nn(t,h):"dangerouslySetInnerHTML"===u?null!=(h=h?h.__html:void 0)&&Ut(t,h):"children"===u?"string"==typeof h?("textarea"!==o||""!==h)&&Vt(t,h):"number"==typeof h&&Vt(t,""+h):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(I.hasOwnProperty(u)?null!=h&&sn(n,u):null!=h&&$(t,u,h,s))}switch(o){case"input":wt(t),Ct(t,r,!1);break;case"textarea":wt(t),Rt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+gt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Dt(t,!!r.multiple,n,!1):null!=r.defaultValue&&Dt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof l.onClick&&(t.onclick=ln)}yn(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ba(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(a(166));n=xo(_o.current),xo(Ao.current),Na(e)?(n=e.stateNode,r=e.memoizedProps,n[In]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[In]=e,e.stateNode=n)}return null;case 13:return si(Lo),r=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Na(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(u=e.firstEffect)?(e.firstEffect=o,o.nextEffect=u):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Lo.current)?Nu===wu&&(Nu=Eu):(Nu!==wu&&Nu!==Eu||(Nu=Tu),0!==Ou&&null!==Iu&&(Rs(Iu,Cu),Ps(Iu,Ou)))),(n||r)&&(e.effectTag|=4),null);case 4:return Ro(),null;case 10:return to(e),null;case 17:return mi(e.type)&&vi(),null;case 19:if(si(Lo),null===(r=e.memoizedState))return null;if(o=0!=(64&e.effectTag),null===(u=r.rendering)){if(o)Ya(r,!1);else if(Nu!==wu||null!==t&&0!=(64&t.effectTag))for(u=e.child;null!==u;){if(null!==(t=Fo(u))){for(e.effectTag|=64,Ya(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)u=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=u,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,u=t.dependencies,o.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return li(Lo,1&Lo.current|2),e.child}u=u.sibling}}else{if(!o)if(null!==(t=Fo(u))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Ya(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,Ya(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=r.last)?n.sibling=u:e.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ui()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,e=Lo.current,li(Lo,o?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function $a(t){switch(t.tag){case 1:mi(t.type)&&vi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Ro(),si(fi),si(hi),0!=(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Mo(t),null;case 13:return si(Lo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return si(Lo),null;case 4:return Ro(),null;case 10:return to(t),null;default:return null}}function Ja(t,e){return{value:t,source:e,stack:yt(e)}}Va=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var u,s,l=e.stateNode;switch(xo(Ao.current),t=null,n){case"input":a=Tt(l,a),r=Tt(l,r),t=[];break;case"option":a=At(l,a),r=At(l,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=_t(l,a),r=_t(l,r),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(l.onclick=ln)}for(u in on(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u)for(s in l=a[u])l.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(I.hasOwnProperty(u)?t||(t=[]):(t=t||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(t||(t=[]),t.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(u,c)):"children"===u?l===c||"string"!=typeof c&&"number"!=typeof c||(t=t||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(I.hasOwnProperty(u)?(null!=c&&sn(o,u),t||l===c||(t=[])):(t=t||[]).push(u,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Ba=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function tu(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=yt(n)),null!==n&&vt(n.type),e=e.value,null!==t&&1===t.tag&&vt(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function eu(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){gs(t,e)}else e.current=null}function nu(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Hi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ru(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function iu(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ou(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void iu(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Hi(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Le(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function au(t,e,n){switch("function"==typeof Ts&&Ts(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Bi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(t){gs(i,t)}}t=t.next}while(t!==r)}))}break;case 1:eu(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){gs(t,e)}}(e,n);break;case 5:eu(e);break;case 4:cu(t,e,n)}}function uu(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&uu(e)}function su(t){return 5===t.tag||3===t.tag||4===t.tag}function lu(t){t:{for(var e=t.return;null!==e;){if(su(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Vt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||su(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function cu(t,e,n){for(var r,i,o=e,u=!1;;){if(!u){u=o.return;t:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}u=u.return}u=!0}if(5===o.tag||6===o.tag){t:for(var s=t,l=o,c=n,h=l;;)if(au(s,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break t;for(;null===h.sibling;){if(null===h.return||h.return===l)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(s=r,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(au(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function hu(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ru(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[kn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&It(n,r),an(t,i),e=an(t,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?nn(n,s):"dangerouslySetInnerHTML"===u?Ut(n,s):"children"===u?Vt(n,s):$(n,u,s,e)}switch(t){case"input":kt(n,r);break;case"textarea":Ot(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Dt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Dt(n,!!r.multiple,r.defaultValue,!0):Dt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Le(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Pu=Ui()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=en("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void fu(e);case 19:return void fu(e);case 17:return}throw Error(a(163))}function fu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Za),e.forEach((function(e){var r=ws.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var pu="function"==typeof WeakMap?WeakMap:Map;function du(t,e,n){(n=uo(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lu||(Lu=!0,Fu=r),tu(t,e)},n}function mu(t,e,n){(n=uo(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return tu(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ju?ju=new Set([this]):ju.add(this),tu(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var vu,yu=Math.ceil,gu=X.ReactCurrentDispatcher,bu=X.ReactCurrentOwner,wu=0,Eu=3,Tu=4,Su=0,Iu=null,ku=null,Cu=0,Nu=wu,Au=null,Du=1073741823,_u=1073741823,xu=null,Ou=0,Ru=!1,Pu=0,Mu=null,Lu=!1,Fu=null,ju=null,Uu=!1,Vu=null,qu=90,Bu=null,zu=0,Wu=null,Ku=0;function Qu(){return 0!=(48&Su)?1073741821-(Ui()/10|0):0!==Ku?Ku:Ku=1073741821-(Ui()/10|0)}function Gu(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=Vi();if(0==(4&e))return 99===r?1073741823:1073741822;if(0!=(16&Su))return Cu;if(null!==n)t=Gi(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Gi(t,150,100);break;case 97:case 96:t=Gi(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Iu&&t===Cu&&--t,t}function Hu(t,e){if(50<zu)throw zu=0,Wu=null,Error(a(185));if(null!==(t=Yu(t,e))){var n=Vi();1073741823===e?0!=(8&Su)&&0==(48&Su)?Zu(t):($u(t),0===Su&&Ki()):$u(t),0==(4&Su)||98!==n&&99!==n||(null===Bu?Bu=new Map([[t,e]]):(void 0===(n=Bu.get(t))||n>e)&&Bu.set(t,e))}}function Yu(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Iu===i&&(as(e),Nu===Tu&&Rs(i,Cu)),Ps(i,e)),i}function Xu(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Os(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function $u(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Wi(Zu.bind(null,t));else{var e=Xu(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Qu();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Oi&&Si(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Wi(Zu.bind(null,t)):zi(r,Ju.bind(null,t),{timeout:10*(1073741821-e)-Ui()}),t.callbackNode=e}}}function Ju(t,e){if(Ku=0,e)return Ms(t,e=Qu()),$u(t),null;var n=Xu(t);if(0!==n){if(e=t.callbackNode,0!=(48&Su))throw Error(a(327));if(ms(),t===Iu&&n===Cu||ns(t,n),null!==ku){var r=Su;Su|=16;for(var i=is();;)try{ss();break}catch(e){rs(t,e)}if(Zi(),Su=r,gu.current=i,1===Nu)throw e=Au,ns(t,n),Rs(t,n),$u(t),e;if(null===ku)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Nu,Iu=null,r){case wu:case 1:throw Error(a(345));case 2:Ms(t,2<n?2:n);break;case Eu:if(Rs(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hs(i)),1073741823===Du&&10<(i=Pu+500-Ui())){if(Ru){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,ns(t,n);break}}if(0!==(o=Xu(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=bn(fs.bind(null,t),i);break}fs(t);break;case Tu:if(Rs(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hs(i)),Ru&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,ns(t,n);break}if(0!==(i=Xu(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==_u?r=10*(1073741821-_u)-Ui():1073741823===Du?r=0:(r=10*(1073741821-Du)-5e3,0>(r=(i=Ui())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yu(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=bn(fs.bind(null,t),r);break}fs(t);break;case 5:if(1073741823!==Du&&null!==xu){o=Du;var u=xu;if(0>=(r=0|u.busyMinDurationMs)?r=0:(i=0|u.busyDelayMs,r=(o=Ui()-(10*(1073741821-o)-(0|u.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Rs(t,n),t.timeoutHandle=bn(fs.bind(null,t),r);break}}fs(t);break;default:throw Error(a(329))}if($u(t),t.callbackNode===e)return Ju.bind(null,t)}}return null}function Zu(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!=(48&Su))throw Error(a(327));if(ms(),t===Iu&&e===Cu||ns(t,e),null!==ku){var n=Su;Su|=16;for(var r=is();;)try{us();break}catch(e){rs(t,e)}if(Zi(),Su=n,gu.current=r,1===Nu)throw n=Au,ns(t,e),Rs(t,e),$u(t),n;if(null!==ku)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Iu=null,fs(t),$u(t)}return null}function ts(t,e){var n=Su;Su|=1;try{return t(e)}finally{0===(Su=n)&&Ki()}}function es(t,e){var n=Su;Su&=-2,Su|=8;try{return t(e)}finally{0===(Su=n)&&Ki()}}function ns(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,wn(n)),null!==ku)for(n=ku.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Ro(),si(fi),si(hi);break;case 5:Mo(r);break;case 4:Ro();break;case 13:case 19:si(Lo);break;case 10:to(r)}n=n.return}Iu=t,ku=Cs(t.current,null),Cu=e,Nu=wu,Au=null,_u=Du=1073741823,xu=null,Ou=0,Ru=!1}function rs(t,e){for(;;){try{if(Zi(),Uo.current=va,Ko)for(var n=Bo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qo=0,Wo=zo=Bo=null,Ko=!1,null===ku||null===ku.return)return Nu=1,Au=e,ku=null;t:{var i=t,o=ku.return,a=ku,u=e;if(e=Cu,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var s=u;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Lo.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=h.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!c)}}if(f){var m=h.updateQueue;if(null===m){var v=new Set;v.add(s),h.updateQueue=v}else m.add(s);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=uo(1073741823,null);y.tag=2,so(a,y)}a.expirationTime=1073741823;break t}u=void 0,a=e;var g=i.pingCache;if(null===g?(g=i.pingCache=new pu,u=new Set,g.set(s,u)):void 0===(u=g.get(s))&&(u=new Set,g.set(s,u)),!u.has(a)){u.add(a);var b=bs.bind(null,i,s,a);s.then(b,b)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);u=Error((vt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+yt(a))}5!==Nu&&(Nu=2),u=Ja(u,a),h=o;do{switch(h.tag){case 3:s=u,h.effectTag|=4096,h.expirationTime=e,lo(h,du(h,s,e));break t;case 1:s=u;var w=h.type,E=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===ju||!ju.has(E)))){h.effectTag|=4096,h.expirationTime=e,lo(h,mu(h,s,e));break t}}h=h.return}while(null!==h)}ku=cs(ku)}catch(t){e=t;continue}break}}function is(){var t=gu.current;return gu.current=va,null===t?va:t}function os(t,e){t<Du&&2<t&&(Du=t),null!==e&&t<_u&&2<t&&(_u=t,xu=e)}function as(t){t>Ou&&(Ou=t)}function us(){for(;null!==ku;)ku=ls(ku)}function ss(){for(;null!==ku&&!Ri();)ku=ls(ku)}function ls(t){var e=vu(t.alternate,t,Cu);return t.memoizedProps=t.pendingProps,null===e&&(e=cs(t)),bu.current=null,e}function cs(t){ku=t;do{var e=ku.alternate;if(t=ku.return,0==(2048&ku.effectTag)){if(e=Xa(e,ku,Cu),1===Cu||1!==ku.childExpirationTime){for(var n=0,r=ku.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}ku.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=ku.firstEffect),null!==ku.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=ku.firstEffect),t.lastEffect=ku.lastEffect),1<ku.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=ku:t.firstEffect=ku,t.lastEffect=ku))}else{if(null!==(e=$a(ku)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=ku.sibling))return e;ku=t}while(null!==ku);return Nu===wu&&(Nu=5),null}function hs(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function fs(t){var e=Vi();return Bi(99,ps.bind(null,t,e)),null}function ps(t,e){do{ms()}while(null!==Vu);if(0!=(48&Su))throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=hs(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Iu&&(ku=Iu=null,Cu=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Su;Su|=32,bu.current=null,mn=Qe;var u=pn();if(dn(u)){if("selectionStart"in u)var s={start:u.selectionStart,end:u.selectionEnd};else t:{var l=(s=(s=u.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(l&&0!==l.rangeCount){s=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch(t){s=null;break t}var f=0,p=-1,d=-1,m=0,v=0,y=u,g=null;e:for(;;){for(var b;y!==s||0!==c&&3!==y.nodeType||(p=f+c),y!==h||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===u)break e;if(g===s&&++m===c&&(p=f),g===h&&++v===l&&(d=f),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}s=-1===p||-1===d?null:{start:p,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;vn={activeElementDetached:null,focusedElem:u,selectionRange:s},Qe=!1,Mu=i;do{try{ds()}catch(t){if(null===Mu)throw Error(a(330));gs(Mu,t),Mu=Mu.nextEffect}}while(null!==Mu);Mu=i;do{try{for(u=t,s=e;null!==Mu;){var w=Mu.effectTag;if(16&w&&Vt(Mu.stateNode,""),128&w){var E=Mu.alternate;if(null!==E){var T=E.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(1038&w){case 2:lu(Mu),Mu.effectTag&=-3;break;case 6:lu(Mu),Mu.effectTag&=-3,hu(Mu.alternate,Mu);break;case 1024:Mu.effectTag&=-1025;break;case 1028:Mu.effectTag&=-1025,hu(Mu.alternate,Mu);break;case 4:hu(Mu.alternate,Mu);break;case 8:cu(u,c=Mu,s),uu(c)}Mu=Mu.nextEffect}}catch(t){if(null===Mu)throw Error(a(330));gs(Mu,t),Mu=Mu.nextEffect}}while(null!==Mu);if(T=vn,E=pn(),w=T.focusedElem,s=T.selectionRange,E!==w&&w&&w.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==s&&dn(w)&&(E=s.start,void 0===(T=s.end)&&(T=E),"selectionStart"in w?(w.selectionStart=E,w.selectionEnd=Math.min(T,w.value.length)):(T=(E=w.ownerDocument||document)&&E.defaultView||window).getSelection&&(T=T.getSelection(),c=w.textContent.length,u=Math.min(s.start,c),s=void 0===s.end?u:Math.min(s.end,c),!T.extend&&u>s&&(c=s,s=u,u=c),c=fn(w,u),h=fn(w,s),c&&h&&(1!==T.rangeCount||T.anchorNode!==c.node||T.anchorOffset!==c.offset||T.focusNode!==h.node||T.focusOffset!==h.offset)&&((E=E.createRange()).setStart(c.node,c.offset),T.removeAllRanges(),u>s?(T.addRange(E),T.extend(h.node,h.offset)):(E.setEnd(h.node,h.offset),T.addRange(E))))),E=[];for(T=w;T=T.parentNode;)1===T.nodeType&&E.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<E.length;w++)(T=E[w]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Qe=!!mn,vn=mn=null,t.current=n,Mu=i;do{try{for(w=t;null!==Mu;){var S=Mu.effectTag;if(36&S&&ou(w,Mu.alternate,Mu),128&S){E=void 0;var I=Mu.ref;if(null!==I){var k=Mu.stateNode;switch(Mu.tag){case 5:E=k;break;default:E=k}"function"==typeof I?I(E):I.current=E}}Mu=Mu.nextEffect}}catch(t){if(null===Mu)throw Error(a(330));gs(Mu,t),Mu=Mu.nextEffect}}while(null!==Mu);Mu=null,Pi(),Su=o}else t.current=n;if(Uu)Uu=!1,Vu=t,qu=e;else for(Mu=i;null!==Mu;)e=Mu.nextEffect,Mu.nextEffect=null,Mu=e;if(0===(e=t.firstPendingTime)&&(ju=null),1073741823===e?t===Wu?zu++:(zu=0,Wu=t):zu=0,"function"==typeof Es&&Es(n.stateNode,r),$u(t),Lu)throw Lu=!1,t=Fu,Fu=null,t;return 0!=(8&Su)||Ki(),null}function ds(){for(;null!==Mu;){var t=Mu.effectTag;0!=(256&t)&&nu(Mu.alternate,Mu),0==(512&t)||Uu||(Uu=!0,zi(97,(function(){return ms(),null}))),Mu=Mu.nextEffect}}function ms(){if(90!==qu){var t=97<qu?97:qu;return qu=90,Bi(t,vs)}}function vs(){if(null===Vu)return!1;var t=Vu;if(Vu=null,0!=(48&Su))throw Error(a(331));var e=Su;for(Su|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ru(5,n),iu(5,n)}}catch(e){if(null===t)throw Error(a(330));gs(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return Su=e,Ki(),!0}function ys(t,e,n){so(t,e=du(t,e=Ja(n,e),1073741823)),null!==(t=Yu(t,1073741823))&&$u(t)}function gs(t,e){if(3===t.tag)ys(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){ys(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ju||!ju.has(r))){so(n,t=mu(n,t=Ja(e,t),1073741823)),null!==(n=Yu(n,1073741823))&&$u(n);break}}n=n.return}}function bs(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Iu===t&&Cu===n?Nu===Tu||Nu===Eu&&1073741823===Du&&Ui()-Pu<500?ns(t,Cu):Ru=!0:Os(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,$u(t)))}function ws(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Gu(e=Qu(),t,null)),null!==(t=Yu(t,e))&&$u(t)}vu=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||fi.current)_a=!0;else{if(r<n){switch(_a=!1,e.tag){case 3:Ua(e),Aa();break;case 5:if(Po(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mi(e.type)&&bi(e);break;case 4:Oo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,li(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Wa(t,e,n):(li(Lo,1&Lo.current),null!==(e=Ha(t,e,n))?e.sibling:null);li(Lo,1&Lo.current);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return Ga(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),li(Lo,Lo.current),!r)return null}return Ha(t,e,n)}_a=!1}}else _a=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=di(e,hi.current),no(e,n),i=Ho(null,e,r,t,i,n),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)){var o=!0;bi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var u=r.getDerivedStateFromProps;"function"==typeof u&&mo(e,r,u,t),i.updater=vo,e.stateNode=i,i._reactInternalFiber=e,wo(e,r,t,n),e=ja(null,e,r,!0,o,n)}else e.tag=0,xa(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"==typeof t)return ks(t)?1:0;if(null!=t){if((t=t.$$typeof)===st)return 11;if(t===ht)return 14}return 2}(i),t=Hi(i,t),o){case 0:e=La(null,e,i,t,n);break t;case 1:e=Fa(null,e,i,t,n);break t;case 11:e=Oa(null,e,i,t,n);break t;case 14:e=Ra(null,e,i,Hi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,La(t,e,r,i=e.elementType===r?i:Hi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Fa(t,e,r,i=e.elementType===r?i:Hi(r,i),n);case 3:if(Ua(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),co(e,r,null,n),(r=e.memoizedState.element)===i)Aa(),e=Ha(t,e,n);else{if((i=e.stateNode.hydrate)&&(Ea=En(e.stateNode.containerInfo.firstChild),wa=e,i=Ta=!0),i)for(n=Co(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else xa(t,e,r,n),Aa();e=e.child}return e;case 5:return Po(e),null===t&&ka(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,u=i.children,gn(r,i)?u=null:null!==o&&gn(r,o)&&(e.effectTag|=16),Ma(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(xa(t,e,u,n),e=e.child),e;case 6:return null===t&&ka(e),null;case 13:return Wa(t,e,n);case 4:return Oo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=ko(e,null,r,n):xa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Oa(t,e,r,i=e.elementType===r?i:Hi(r,i),n);case 7:return xa(t,e,e.pendingProps,n),e.child;case 8:case 12:return xa(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,u=e.memoizedProps,o=i.value;var s=e.type._context;if(li(Yi,s._currentValue),s._currentValue=o,null!==u)if(s=u.value,0===(o=Fr(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(u.children===i.children&&!fi.current){e=Ha(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){u=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===s.tag&&((c=uo(n,null)).tag=2,so(s,c)),s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n),eo(s.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else u=10===s.tag&&s.type===e.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===e){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}xa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.effectTag|=1,xa(t,e,r,n),e.child;case 14:return o=Hi(i=e.type,e.pendingProps),Ra(t,e,i,o=Hi(i.type,o),r,n);case 15:return Pa(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mi(r)?(t=!0,bi(e)):t=!1,no(e,n),go(e,r,i),wo(e,r,i,n),ja(null,e,r,!0,t,n);case 19:return Ga(t,e,n)}throw Error(a(156,e.tag))};var Es=null,Ts=null;function Ss(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Is(t,e,n,r){return new Ss(t,e,n,r)}function ks(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Cs(t,e){var n=t.alternate;return null===n?((n=Is(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ns(t,e,n,r,i,o){var u=2;if(r=t,"function"==typeof t)ks(t)&&(u=1);else if("string"==typeof t)u=5;else t:switch(t){case nt:return As(n.children,i,o,e);case ut:u=8,i|=7;break;case rt:u=8,i|=1;break;case it:return(t=Is(12,n,e,8|i)).elementType=it,t.type=it,t.expirationTime=o,t;case lt:return(t=Is(13,n,e,i)).type=lt,t.elementType=lt,t.expirationTime=o,t;case ct:return(t=Is(19,n,e,i)).elementType=ct,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case ot:u=10;break t;case at:u=9;break t;case st:u=11;break t;case ht:u=14;break t;case ft:u=16,r=null;break t;case pt:u=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Is(u,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function As(t,e,n,r){return(t=Is(7,t,r,e)).expirationTime=n,t}function Ds(t,e,n){return(t=Is(6,t,null,e)).expirationTime=n,t}function _s(t,e,n){return(e=Is(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xs(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Os(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Rs(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Ps(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Ms(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Ls(t,e,n,r){var i=e.current,o=Qu(),u=fo.suspense;o=Gu(o,i,u);t:if(n){e:{if(Zt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=gi(n,l,s);break t}}n=s}else n=ci;return null===e.context?e.context=n:e.pendingContext=n,(e=uo(o,u)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),so(i,e),Hu(i,o),o}function Fs(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function js(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Us(t,e){js(t,e),(t=t.alternate)&&js(t,e)}function Vs(t,e,n){var r=new xs(t,e,n=null!=n&&!0===n.hydrate),i=Is(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,oo(i),t[Cn]=r.current,n&&0!==e&&function(t,e){var n=Jt(e);Ce.forEach((function(t){de(t,e,n)})),Ne.forEach((function(t){de(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function qs(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Bs(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var u=i;i=function(){var t=Fs(a);u.call(t)}}Ls(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Vs(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var t=Fs(a);s.call(t)}}es((function(){Ls(e,a,t,i)}))}return Fs(a)}function zs(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Ws(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qs(e))throw Error(a(200));return zs(t,e,null,n)}Vs.prototype.render=function(t){Ls(t,this._internalRoot,null,null)},Vs.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ls(null,t,null,(function(){e[Cn]=null}))},me=function(t){if(13===t.tag){var e=Gi(Qu(),150,100);Hu(t,e),Us(t,e)}},ve=function(t){13===t.tag&&(Hu(t,3),Us(t,3))},ye=function(t){if(13===t.tag){var e=Qu();Hu(t,e=Gu(e,t,null)),Us(t,e)}},A=function(t,e,n){switch(e){case"input":if(kt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_n(r);if(!i)throw Error(a(90));Et(r),kt(r,i)}}}break;case"textarea":Ot(t,n);break;case"select":null!=(e=n.value)&&Dt(t,!!n.multiple,e,!1)}},P=ts,M=function(t,e,n,r,i){var o=Su;Su|=4;try{return Bi(98,t.bind(null,e,n,r,i))}finally{0===(Su=o)&&Ki()}},L=function(){0==(49&Su)&&(function(){if(null!==Bu){var t=Bu;Bu=null,t.forEach((function(t,e){Ms(e,t),$u(e)})),Ki()}}(),ms())},F=function(t,e){var n=Su;Su|=2;try{return t(e)}finally{0===(Su=n)&&Ki()}};var Ks,Qs,Gs={Events:[An,Dn,_n,C,S,Fn,function(t){ie(t,Ln)},O,R,$e,ue,ms,{current:!1}]};Qs=(Ks={findFiberByHostInstance:Nn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Es=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},Ts=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}(i({},Ks,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return Qs?Qs(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gs,e.createPortal=Ws,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!=(48&Su))throw Error(a(187));var n=Su;Su|=1;try{return Bi(99,t.bind(null,e))}finally{Su=n,Ki()}},e.hydrate=function(t,e,n){if(!qs(e))throw Error(a(200));return Bs(null,t,e,!0,n)},e.render=function(t,e,n){if(!qs(e))throw Error(a(200));return Bs(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!qs(t))throw Error(a(40));return!!t._reactRootContainer&&(es((function(){Bs(null,null,t,!1,(function(){t._reactRootContainer=null,t[Cn]=null}))})),!0)},e.unstable_batchedUpdates=ts,e.unstable_createPortal=function(t,e){return Ws(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qs(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Bs(t,e,n,!1,r)},e.version="16.14.0"},function(t,e,n){"use strict";t.exports=n(12)},function(t,e,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,u;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,l=null,c=function(){if(null!==s)try{var t=e.unstable_now();s(!0,t),s=null}catch(t){throw setTimeout(c,0),t}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==s?setTimeout(r,0,t):(s=t,setTimeout(c,0))},i=function(t,e){l=setTimeout(t,e)},o=function(){clearTimeout(l)},a=function(){return!1},u=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)e.unstable_now=function(){return f.now()};else{var y=p.now();e.unstable_now=function(){return p.now()-y}}var g=!1,b=null,w=-1,E=5,T=0;a=function(){return e.unstable_now()>=T},u=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,I=S.port2;S.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();T=t+E;try{b(!0,t)?I.postMessage(null):(g=!1,b=null)}catch(t){throw I.postMessage(null),t}}else g=!1},r=function(t){b=t,g||(g=!0,I.postMessage(null))},i=function(t,n){w=d((function(){t(e.unstable_now())}),n)},o=function(){m(w),w=-1}}function k(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<A(i,e)))break t;t[r]=e,t[n]=i,n=r}}function C(t){return void 0===(t=t[0])?null:t}function N(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],u=o+1,s=t[u];if(void 0!==a&&0>A(a,n))void 0!==s&&0>A(s,a)?(t[r]=s,t[u]=n,r=u):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==s&&0>A(s,n)))break t;t[r]=s,t[u]=n,r=u}}}return e}return null}function A(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var D=[],_=[],x=1,O=null,R=3,P=!1,M=!1,L=!1;function F(t){for(var e=C(_);null!==e;){if(null===e.callback)N(_);else{if(!(e.startTime<=t))break;N(_),e.sortIndex=e.expirationTime,k(D,e)}e=C(_)}}function j(t){if(L=!1,F(t),!M)if(null!==C(D))M=!0,r(U);else{var e=C(_);null!==e&&i(j,e.startTime-t)}}function U(t,n){M=!1,L&&(L=!1,o()),P=!0;var r=R;try{for(F(n),O=C(D);null!==O&&(!(O.expirationTime>n)||t&&!a());){var u=O.callback;if(null!==u){O.callback=null,R=O.priorityLevel;var s=u(O.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?O.callback=s:O===C(D)&&N(D),F(n)}else N(D);O=C(D)}if(null!==O)var l=!0;else{var c=C(_);null!==c&&i(j,c.startTime-n),l=!1}return l}finally{O=null,R=r,P=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=u;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){M||P||(M=!0,r(U))},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return C(D)},e.unstable_next=function(t){switch(R){case 1:case 2:case 3:var e=3;break;default:e=R}var n=R;R=e;try{return t()}finally{R=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=q,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=R;R=t;try{return e()}finally{R=n}},e.unstable_scheduleCallback=function(t,n,a){var u=e.unstable_now();if("object"==typeof a&&null!==a){var s=a.delay;s="number"==typeof s&&0<s?u+s:u,a="number"==typeof a.timeout?a.timeout:V(t)}else a=V(t),s=u;return t={id:x++,callback:n,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>u?(t.sortIndex=s,k(_,t),null===C(D)&&t===C(_)&&(L?o():L=!0,i(j,s-u))):(t.sortIndex=a,k(D,t),M||P||(M=!0,r(U))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=C(D);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<O.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=R;return function(){var n=R;R=e;try{return t.apply(this,arguments)}finally{R=n}}}}]);